<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ä»£ç åˆ†å‰² - React ä¸­æ–‡æ–‡æ¡£</title>
  <meta name="description" content="ä»å…¥é—¨åˆ°ç²¾é€šï¼Œå…¨é¢æŒæ¡Reactå¼€å‘æŠ€èƒ½">
  <link rel="stylesheet" href="assets/style.css">
  <link rel="stylesheet" href="assets/highlight.css">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>âš›ï¸</text></svg>">
</head>
<body>
  <div class="container">
    <!-- é¡¶éƒ¨å¯¼èˆª -->
    <header class="header">
      <div class="header-content">
        <div class="logo">
          <span class="logo-icon">âš›ï¸</span>
          <div class="logo-text">
            <h1>React ä¸­æ–‡æ–‡æ¡£</h1>
            <p>ç°ä»£åŒ–çš„Reactå­¦ä¹ æŒ‡å—</p>
          </div>
        </div>
        <nav class="header-nav">
          <a href="index.html" class="nav-link">é¦–é¡µ</a>
          <a href="#" class="nav-link" onclick="toggleSidebar()">ç›®å½•</a>
          <a href="https://github.com/facebook/react" target="_blank" class="nav-link">GitHub</a>
        </nav>
      </div>
    </header>

    <div class="main-layout">
      <!-- ä¾§è¾¹æ  -->
      <aside class="sidebar" id="sidebar">
        <div class="sidebar-content">
          <div class="search-box">
            <input type="text" placeholder="æœç´¢æ–‡æ¡£..." id="searchInput" onkeyup="searchDocs()">
            <span class="search-icon">ğŸ”</span>
          </div>
          <nav class="doc-nav">
            
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ“š</span>
          åŸºç¡€æ¦‚å¿µ
        </h3>
        <ul class="category-docs">
          <li><a href="01-Reactç®€ä»‹.html" class="doc-link">Reactç®€ä»‹</a></li><li><a href="02-ç¯å¢ƒæ­å»º.html" class="doc-link">ç¯å¢ƒæ­å»º</a></li><li><a href="03-JSXè¯­æ³•.html" class="doc-link">JSXè¯­æ³•</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ§©</span>
          ç»„ä»¶å¼€å‘
        </h3>
        <ul class="category-docs">
          <li><a href="04-ç»„ä»¶åŸºç¡€.html" class="doc-link">ç»„ä»¶åŸºç¡€</a></li><li><a href="05-Propsä¸State.html" class="doc-link">Propsä¸State</a></li><li><a href="06-äº‹ä»¶å¤„ç†.html" class="doc-link">äº‹ä»¶å¤„ç†</a></li><li><a href="07-æ¡ä»¶æ¸²æŸ“.html" class="doc-link">æ¡ä»¶æ¸²æŸ“</a></li><li><a href="08-åˆ—è¡¨æ¸²æŸ“.html" class="doc-link">åˆ—è¡¨æ¸²æŸ“</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ£</span>
          Hooks API
        </h3>
        <ul class="category-docs">
          <li><a href="09-Hooksæ¦‚è¿°.html" class="doc-link">Hooksæ¦‚è¿°</a></li><li><a href="10-useState.html" class="doc-link">useState</a></li><li><a href="11-useEffect.html" class="doc-link">useEffect</a></li><li><a href="12-useContext.html" class="doc-link">useContext</a></li><li><a href="13-useReducer.html" class="doc-link">useReducer</a></li><li><a href="14-useMemoå’ŒuseCallback.html" class="doc-link">useMemoå’ŒuseCallback</a></li><li><a href="15-useRef.html" class="doc-link">useRef</a></li><li><a href="16-è‡ªå®šä¹‰Hooks.html" class="doc-link">è‡ªå®šä¹‰Hooks</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ”„</span>
          ç”Ÿå‘½å‘¨æœŸ
        </h3>
        <ul class="category-docs">
          <li><a href="17-ç”Ÿå‘½å‘¨æœŸæ–¹æ³•.html" class="doc-link">ç”Ÿå‘½å‘¨æœŸæ–¹æ³•</a></li><li><a href="18-å‰¯ä½œç”¨å¤„ç†.html" class="doc-link">å‰¯ä½œç”¨å¤„ç†</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ¨</span>
          æ ·å¼ä¸UI
        </h3>
        <ul class="category-docs">
          <li><a href="19-æ ·å¼å¤„ç†.html" class="doc-link">æ ·å¼å¤„ç†</a></li><li><a href="20-åŠ¨ç”»æ•ˆæœ.html" class="doc-link">åŠ¨ç”»æ•ˆæœ</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ—ºï¸</span>
          è·¯ç”±ç®¡ç†
        </h3>
        <ul class="category-docs">
          <li><a href="21-React-Router.html" class="doc-link">React-Router</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ“¦</span>
          çŠ¶æ€ç®¡ç†
        </h3>
        <ul class="category-docs">
          <li><a href="22-Context-API.html" class="doc-link">Context-API</a></li><li><a href="23-Reduxé›†æˆ.html" class="doc-link">Reduxé›†æˆ</a></li><li><a href="24-ZustandçŠ¶æ€ç®¡ç†.html" class="doc-link">ZustandçŠ¶æ€ç®¡ç†</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸš€</span>
          æ€§èƒ½ä¼˜åŒ–
        </h3>
        <ul class="category-docs">
          <li><a href="25-æ€§èƒ½ä¼˜åŒ–æŠ€å·§.html" class="doc-link">æ€§èƒ½ä¼˜åŒ–æŠ€å·§</a></li><li><a href="26-ä»£ç åˆ†å‰².html" class="doc-link">ä»£ç åˆ†å‰²</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ§ª</span>
          æµ‹è¯•
        </h3>
        <ul class="category-docs">
          <li><a href="27-å•å…ƒæµ‹è¯•.html" class="doc-link">å•å…ƒæµ‹è¯•</a></li><li><a href="28-é›†æˆæµ‹è¯•.html" class="doc-link">é›†æˆæµ‹è¯•</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ—ï¸</span>
          æ„å»ºä¸éƒ¨ç½²
        </h3>
        <ul class="category-docs">
          <li><a href="29-é¡¹ç›®æ„å»º.html" class="doc-link">é¡¹ç›®æ„å»º</a></li><li><a href="30-ç”Ÿäº§éƒ¨ç½².html" class="doc-link">ç”Ÿäº§éƒ¨ç½²</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ› ï¸</span>
          å¼€å‘å·¥å…·
        </h3>
        <ul class="category-docs">
          <li><a href="31-å¼€å‘è€…å·¥å…·.html" class="doc-link">å¼€å‘è€…å·¥å…·</a></li><li><a href="32-è°ƒè¯•æŠ€å·§.html" class="doc-link">è°ƒè¯•æŠ€å·§</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ“–</span>
          APIå‚è€ƒ
        </h3>
        <ul class="category-docs">
          <li><a href="33-React-APIå®Œæ•´å‚è€ƒ.html" class="doc-link">React-APIå®Œæ•´å‚è€ƒ</a></li><li><a href="34-DOMå…ƒç´ å±æ€§.html" class="doc-link">DOMå…ƒç´ å±æ€§</a></li><li><a href="35-åˆæˆäº‹ä»¶.html" class="doc-link">åˆæˆäº‹ä»¶</a></li><li><a href="React-Hookså®Œæ•´å‚è€ƒ.html" class="doc-link">React-Hookså®Œæ•´å‚è€ƒ</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ’¡</span>
          æœ€ä½³å®è·µ
        </h3>
        <ul class="category-docs">
          <li><a href="36-ç¼–ç è§„èŒƒ.html" class="doc-link">ç¼–ç è§„èŒƒ</a></li><li><a href="37-é¡¹ç›®æ¶æ„.html" class="doc-link">é¡¹ç›®æ¶æ„</a></li><li><a href="38-å¸¸è§é—®é¢˜.html" class="doc-link">å¸¸è§é—®é¢˜</a></li>
        </ul>
      </div>
          </nav>
        </div>
      </aside>

      <!-- ä¸»å†…å®¹åŒº -->
      <main class="content">
        <article class="doc-article">
          <div class="doc-header">
            <div class="breadcrumb">
              <a href="index.html">é¦–é¡µ</a>
              <span class="separator">></span>
              <span class="current">ä»£ç åˆ†å‰²</span>
            </div>
            <h1 class="doc-title">ä»£ç åˆ†å‰²</h1>
            <div class="doc-meta">
              <span class="category" style="background: #d299c2">
                ğŸš€ æ€§èƒ½ä¼˜åŒ–
              </span>
            </div>
          </div>
          
          <div class="doc-content">
            <h1>26-ä»£ç åˆ†å‰²</h1>
<p>ä»£ç åˆ†å‰²æ˜¯ä¸€ç§ä¼˜åŒ–æŠ€æœ¯ï¼Œå¯ä»¥å°†å¤§å‹åº”ç”¨ç¨‹åºæ‹†åˆ†ä¸ºæ›´å°çš„å—ï¼Œå®ç°æŒ‰éœ€åŠ è½½ï¼Œä»è€Œæé«˜åº”ç”¨çš„é¦–å±åŠ è½½é€Ÿåº¦å’Œç”¨æˆ·ä½“éªŒã€‚Reactæä¾›äº†å¤šç§ä»£ç åˆ†å‰²çš„æ–¹æ³•ã€‚</p>
<h2>åŸºç¡€æ¦‚å¿µ</h2>
<h3>ä»€ä¹ˆæ˜¯ä»£ç åˆ†å‰²</h3>
<p>ä»£ç åˆ†å‰²æ˜¯æŒ‡å°†åº”ç”¨ç¨‹åºä»£ç åˆ†è§£æˆå¤šä¸ªç‹¬ç«‹çš„åŒ…æˆ–å—ï¼Œè¿™äº›å—å¯ä»¥åœ¨éœ€è¦æ—¶åŠ¨æ€åŠ è½½ã€‚ä¸»è¦å¥½å¤„ï¼š</p>
<ul>
<li><strong>å‡å°‘åˆå§‹åŠ è½½æ—¶é—´</strong> - åªåŠ è½½å½“å‰é¡µé¢éœ€è¦çš„ä»£ç </li>
<li><strong>æé«˜ç¼“å­˜æ•ˆç‡</strong> - æœªä¿®æ”¹çš„ä»£ç å—å¯ä»¥ç»§ç»­ä½¿ç”¨ç¼“å­˜</li>
<li><strong>ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ</strong> - æ›´å¿«çš„é¦–å±æ¸²æŸ“</li>
<li><strong>é™ä½å†…å­˜å ç”¨</strong> - é¿å…åŠ è½½ä¸å¿…è¦çš„ä»£ç </li>
</ul>
<h3>ä»£ç åˆ†å‰²çš„ç±»å‹</h3>
<ol>
<li><strong>è·¯ç”±çº§åˆ†å‰²</strong> - æŒ‰é¡µé¢/è·¯ç”±åˆ†å‰²</li>
<li><strong>ç»„ä»¶çº§åˆ†å‰²</strong> - æŒ‰ç»„ä»¶åˆ†å‰²</li>
<li><strong>åŠŸèƒ½çº§åˆ†å‰²</strong> - æŒ‰åŠŸèƒ½æ¨¡å—åˆ†å‰²</li>
<li><strong>ç¬¬ä¸‰æ–¹åº“åˆ†å‰²</strong> - åˆ†ç¦»ç¬¬ä¸‰æ–¹ä¾èµ–</li>
</ol>
<h2>åŠ¨æ€å¯¼å…¥</h2>
<h3>åŸºç¡€è¯­æ³•</h3>
<pre><code class="language-jsx">// ä¼ ç»Ÿçš„é™æ€å¯¼å…¥
import MyComponent from &#39;./MyComponent&#39;

// åŠ¨æ€å¯¼å…¥
import(&#39;./MyComponent&#39;).then(module =&gt; {
  const MyComponent = module.default
  // ä½¿ç”¨ç»„ä»¶
})

// ä½¿ç”¨async/await
async function loadComponent() {
  const module = await import(&#39;./MyComponent&#39;)
  const MyComponent = module.default
  return MyComponent
}
</code></pre>
<h3>åŠ¨æ€å¯¼å…¥çš„ç‰¹ç‚¹</h3>
<pre><code class="language-jsx">// 1. è¿”å›Promise
import(&#39;./utils&#39;).then(utils =&gt; {
  utils.formatDate(new Date())
})

// 2. æ”¯æŒè¡¨è¾¾å¼
const locale = &#39;zh-CN&#39;
import(`./locales/${locale}.js`).then(messages =&gt; {
  // ä½¿ç”¨è¯­è¨€åŒ…
})

// 3. å¯ä»¥å¯¼å…¥å…·åå¯¼å‡º
import(&#39;./api&#39;).then(({ fetchUser, fetchPosts }) =&gt; {
  // ä½¿ç”¨å¯¼å‡ºçš„å‡½æ•°
})
</code></pre>
<h2>React.lazy()</h2>
<h3>åŸºç¡€ç”¨æ³•</h3>
<pre><code class="language-jsx">import React, { Suspense } from &#39;react&#39;

// ä½¿ç”¨lazyåŒ…è£…ç»„ä»¶
const LazyComponent = React.lazy(() =&gt; import(&#39;./LazyComponent&#39;))

function App() {
  return (
    &lt;div&gt;
      &lt;h1&gt;æˆ‘çš„åº”ç”¨&lt;/h1&gt;
      &lt;Suspense fallback={&lt;div&gt;åŠ è½½ä¸­...&lt;/div&gt;}&gt;
        &lt;LazyComponent /&gt;
      &lt;/Suspense&gt;
    &lt;/div&gt;
  )
}
</code></pre>
<h3>æ¡ä»¶åŠ è½½</h3>
<pre><code class="language-jsx">import React, { Suspense, useState } from &#39;react&#39;

const HeavyComponent = React.lazy(() =&gt; import(&#39;./HeavyComponent&#39;))

function App() {
  const [showHeavy, setShowHeavy] = useState(false)

  return (
    &lt;div&gt;
      &lt;button onClick={() =&gt; setShowHeavy(!showHeavy)}&gt;
        {showHeavy ? &#39;éšè—&#39; : &#39;æ˜¾ç¤º&#39;}é‡ç»„ä»¶
      &lt;/button&gt;
      
      {showHeavy &amp;&amp; (
        &lt;Suspense fallback={&lt;div&gt;åŠ è½½é‡ç»„ä»¶ä¸­...&lt;/div&gt;}&gt;
          &lt;HeavyComponent /&gt;
        &lt;/Suspense&gt;
      )}
    &lt;/div&gt;
  )
}
</code></pre>
<h3>é”™è¯¯å¤„ç†</h3>
<pre><code class="language-jsx">import React, { Suspense } from &#39;react&#39;

const LazyComponent = React.lazy(() =&gt; import(&#39;./LazyComponent&#39;))

class ErrorBoundary extends React.Component {
  constructor(props) {
    super(props)
    this.state = { hasError: false }
  }

  static getDerivedStateFromError(error) {
    return { hasError: true }
  }

  componentDidCatch(error, errorInfo) {
    console.error(&#39;ç»„ä»¶åŠ è½½å¤±è´¥:&#39;, error, errorInfo)
  }

  render() {
    if (this.state.hasError) {
      return &lt;div&gt;ç»„ä»¶åŠ è½½å¤±è´¥ï¼Œè¯·åˆ·æ–°é¡µé¢é‡è¯•&lt;/div&gt;
    }

    return this.props.children
  }
}

function App() {
  return (
    &lt;ErrorBoundary&gt;
      &lt;Suspense fallback={&lt;div&gt;åŠ è½½ä¸­...&lt;/div&gt;}&gt;
        &lt;LazyComponent /&gt;
      &lt;/Suspense&gt;
    &lt;/ErrorBoundary&gt;
  )
}
</code></pre>
<h2>è·¯ç”±çº§ä»£ç åˆ†å‰²</h2>
<h3>ä½¿ç”¨React Router</h3>
<pre><code class="language-jsx">import React, { Suspense } from &#39;react&#39;
import { BrowserRouter as Router, Routes, Route } from &#39;react-router-dom&#39;

// æ‡’åŠ è½½é¡µé¢ç»„ä»¶
const Home = React.lazy(() =&gt; import(&#39;./pages/Home&#39;))
const About = React.lazy(() =&gt; import(&#39;./pages/About&#39;))
const Contact = React.lazy(() =&gt; import(&#39;./pages/Contact&#39;))
const Profile = React.lazy(() =&gt; import(&#39;./pages/Profile&#39;))

function App() {
  return (
    &lt;Router&gt;
      &lt;div&gt;
        &lt;nav&gt;
          &lt;Link to=&quot;/&quot;&gt;é¦–é¡µ&lt;/Link&gt;
          &lt;Link to=&quot;/about&quot;&gt;å…³äºæˆ‘ä»¬&lt;/Link&gt;
          &lt;Link to=&quot;/contact&quot;&gt;è”ç³»æˆ‘ä»¬&lt;/Link&gt;
          &lt;Link to=&quot;/profile&quot;&gt;ä¸ªäººä¸­å¿ƒ&lt;/Link&gt;
        &lt;/nav&gt;
        
        &lt;main&gt;
          &lt;Suspense fallback={&lt;div className=&quot;loading&quot;&gt;é¡µé¢åŠ è½½ä¸­...&lt;/div&gt;}&gt;
            &lt;Routes&gt;
              &lt;Route path=&quot;/&quot; element={&lt;Home /&gt;} /&gt;
              &lt;Route path=&quot;/about&quot; element={&lt;About /&gt;} /&gt;
              &lt;Route path=&quot;/contact&quot; element={&lt;Contact /&gt;} /&gt;
              &lt;Route path=&quot;/profile&quot; element={&lt;Profile /&gt;} /&gt;
            &lt;/Routes&gt;
          &lt;/Suspense&gt;
        &lt;/main&gt;
      &lt;/div&gt;
    &lt;/Router&gt;
  )
}
</code></pre>
<h3>åµŒå¥—è·¯ç”±åˆ†å‰²</h3>
<pre><code class="language-jsx">// ä¸»é¡µé¢ç»„ä»¶
const Dashboard = React.lazy(() =&gt; import(&#39;./pages/Dashboard&#39;))

// å­é¡µé¢ç»„ä»¶
const Analytics = React.lazy(() =&gt; import(&#39;./pages/Analytics&#39;))
const Settings = React.lazy(() =&gt; import(&#39;./pages/Settings&#39;))
const UserManagement = React.lazy(() =&gt; import(&#39;./pages/UserManagement&#39;))

function App() {
  return (
    &lt;Router&gt;
      &lt;Suspense fallback={&lt;div&gt;åŠ è½½ä¸­...&lt;/div&gt;}&gt;
        &lt;Routes&gt;
          &lt;Route path=&quot;/dashboard&quot; element={&lt;Dashboard /&gt;}&gt;
            &lt;Route path=&quot;analytics&quot; element={&lt;Analytics /&gt;} /&gt;
            &lt;Route path=&quot;settings&quot; element={&lt;Settings /&gt;} /&gt;
            &lt;Route path=&quot;users&quot; element={&lt;UserManagement /&gt;} /&gt;
          &lt;/Route&gt;
        &lt;/Routes&gt;
      &lt;/Suspense&gt;
    &lt;/Router&gt;
  )
}
</code></pre>
<h2>ç»„ä»¶çº§ä»£ç åˆ†å‰²</h2>
<h3>æŒ‰éœ€åŠ è½½å¤§å‹ç»„ä»¶</h3>
<pre><code class="language-jsx">import React, { Suspense, useState } from &#39;react&#39;

// å¤§å‹å›¾è¡¨ç»„ä»¶
const ChartComponent = React.lazy(() =&gt; import(&#39;./ChartComponent&#39;))

// å¤§å‹è¡¨æ ¼ç»„ä»¶
const DataTable = React.lazy(() =&gt; import(&#39;./DataTable&#39;))

// å¯Œæ–‡æœ¬ç¼–è¾‘å™¨
const RichTextEditor = React.lazy(() =&gt; import(&#39;./RichTextEditor&#39;))

function Dashboard() {
  const [activeTab, setActiveTab] = useState(&#39;overview&#39;)

  return (
    &lt;div className=&quot;dashboard&quot;&gt;
      &lt;nav&gt;
        &lt;button 
          className={activeTab === &#39;overview&#39; ? &#39;active&#39; : &#39;&#39;}
          onClick={() =&gt; setActiveTab(&#39;overview&#39;)}
        &gt;
          æ¦‚è§ˆ
        &lt;/button&gt;
        &lt;button 
          className={activeTab === &#39;chart&#39; ? &#39;active&#39; : &#39;&#39;}
          onClick={() =&gt; setActiveTab(&#39;chart&#39;)}
        &gt;
          å›¾è¡¨
        &lt;/button&gt;
        &lt;button 
          className={activeTab === &#39;data&#39; ? &#39;active&#39; : &#39;&#39;}
          onClick={() =&gt; setActiveTab(&#39;data&#39;)}
        &gt;
          æ•°æ®
        &lt;/button&gt;
        &lt;button 
          className={activeTab === &#39;editor&#39; ? &#39;active&#39; : &#39;&#39;}
          onClick={() =&gt; setActiveTab(&#39;editor&#39;)}
        &gt;
          ç¼–è¾‘å™¨
        &lt;/button&gt;
      &lt;/nav&gt;
      
      &lt;main&gt;
        {activeTab === &#39;overview&#39; &amp;&amp; (
          &lt;div&gt;æ¦‚è§ˆé¡µé¢å†…å®¹&lt;/div&gt;
        )}
        
        {activeTab === &#39;chart&#39; &amp;&amp; (
          &lt;Suspense fallback={&lt;div&gt;åŠ è½½å›¾è¡¨ä¸­...&lt;/div&gt;}&gt;
            &lt;ChartComponent /&gt;
          &lt;/Suspense&gt;
        )}
        
        {activeTab === &#39;data&#39; &amp;&amp; (
          &lt;Suspense fallback={&lt;div&gt;åŠ è½½æ•°æ®è¡¨æ ¼ä¸­...&lt;/div&gt;}&gt;
            &lt;DataTable /&gt;
          &lt;/Suspense&gt;
        )}
        
        {activeTab === &#39;editor&#39; &amp;&amp; (
          &lt;Suspense fallback={&lt;div&gt;åŠ è½½ç¼–è¾‘å™¨ä¸­...&lt;/div&gt;}&gt;
            &lt;RichTextEditor /&gt;
          &lt;/Suspense&gt;
        )}
      &lt;/main&gt;
    &lt;/div&gt;
  )
}
</code></pre>
<h3>æ¨¡æ€æ¡†å’Œå¼¹çª—çš„æ‡’åŠ è½½</h3>
<pre><code class="language-jsx">import React, { Suspense, useState } from &#39;react&#39;

const Modal = React.lazy(() =&gt; import(&#39;./Modal&#39;))
const SettingsModal = React.lazy(() =&gt; import(&#39;./SettingsModal&#39;))
const ConfirmDialog = React.lazy(() =&gt; import(&#39;./ConfirmDialog&#39;))

function App() {
  const [showModal, setShowModal] = useState(false)
  const [showSettings, setShowSettings] = useState(false)
  const [showConfirm, setShowConfirm] = useState(false)

  return (
    &lt;div&gt;
      &lt;button onClick={() =&gt; setShowModal(true)}&gt;æ‰“å¼€æ¨¡æ€æ¡†&lt;/button&gt;
      &lt;button onClick={() =&gt; setShowSettings(true)}&gt;æ‰“å¼€è®¾ç½®&lt;/button&gt;
      &lt;button onClick={() =&gt; setShowConfirm(true)}&gt;ç¡®è®¤å¯¹è¯æ¡†&lt;/button&gt;

      {showModal &amp;&amp; (
        &lt;Suspense fallback={&lt;div&gt;åŠ è½½æ¨¡æ€æ¡†...&lt;/div&gt;}&gt;
          &lt;Modal onClose={() =&gt; setShowModal(false)} /&gt;
        &lt;/Suspense&gt;
      )}

      {showSettings &amp;&amp; (
        &lt;Suspense fallback={&lt;div&gt;åŠ è½½è®¾ç½®...&lt;/div&gt;}&gt;
          &lt;SettingsModal onClose={() =&gt; setShowSettings(false)} /&gt;
        &lt;/Suspense&gt;
      )}

      {showConfirm &amp;&amp; (
        &lt;Suspense fallback={&lt;div&gt;åŠ è½½ç¡®è®¤æ¡†...&lt;/div&gt;}&gt;
          &lt;ConfirmDialog onClose={() =&gt; setShowConfirm(false)} /&gt;
        &lt;/Suspense&gt;
      )}
    &lt;/div&gt;
  )
}
</code></pre>
<h2>ç¬¬ä¸‰æ–¹åº“çš„ä»£ç åˆ†å‰²</h2>
<h3>æŒ‰éœ€åŠ è½½å›¾è¡¨åº“</h3>
<pre><code class="language-jsx">import React, { Suspense, useState } from &#39;react&#39;

// åŠ¨æ€å¯¼å…¥å›¾è¡¨åº“
const loadChartLibrary = async () =&gt; {
  const [
    { default: Chart },
    { default: echarts }
  ] = await Promise.all([
    import(&#39;./Chart&#39;),
    import(&#39;echarts&#39;)
  ])
  
  return { Chart, echarts }
}

function ChartContainer() {
  const [chartData, setChartData] = useState(null)
  const [loading, setLoading] = useState(false)

  const loadChart = async () =&gt; {
    setLoading(true)
    try {
      const { Chart, echarts } = await loadChartLibrary()
      // ä½¿ç”¨å›¾è¡¨åº“
      setChartData(/* å›¾è¡¨æ•°æ® */)
    } catch (error) {
      console.error(&#39;å›¾è¡¨åŠ è½½å¤±è´¥:&#39;, error)
    } finally {
      setLoading(false)
    }
  }

  return (
    &lt;div&gt;
      &lt;button onClick={loadChart}&gt;åŠ è½½å›¾è¡¨&lt;/button&gt;
      {loading &amp;&amp; &lt;div&gt;åŠ è½½å›¾è¡¨åº“ä¸­...&lt;/div&gt;}
      {chartData &amp;&amp; (
        &lt;Suspense fallback={&lt;div&gt;æ¸²æŸ“å›¾è¡¨ä¸­...&lt;/div&gt;}&gt;
          {/* å›¾è¡¨ç»„ä»¶ */}
        &lt;/Suspense&gt;
      )}
    &lt;/div&gt;
  )
}
</code></pre>
<h3>æŒ‰éœ€åŠ è½½æ—¥æœŸé€‰æ‹©å™¨</h3>
<pre><code class="language-jsx">import React, { Suspense, useState } from &#39;react&#39;

const DatePicker = React.lazy(async () =&gt; {
  const [
    { default: DatePickerComponent },
    { default: dayjs }
  ] = await Promise.all([
    import(&#39;./DatePicker&#39;),
    import(&#39;dayjs&#39;)
  ])
  
  // å¯ä»¥åœ¨è¿™é‡Œè¿›è¡Œä¸€äº›åˆå§‹åŒ–é…ç½®
  return { default: DatePickerComponent }
})

function FormWithDatePicker() {
  const [showDatePicker, setShowDatePicker] = useState(false)
  const [selectedDate, setSelectedDate] = useState(null)

  return (
    &lt;form&gt;
      &lt;input type=&quot;text&quot; placeholder=&quot;å§“å&quot; /&gt;
      &lt;input type=&quot;email&quot; placeholder=&quot;é‚®ç®±&quot; /&gt;
      
      &lt;button 
        type=&quot;button&quot;
        onClick={() =&gt; setShowDatePicker(true)}
      &gt;
        é€‰æ‹©æ—¥æœŸ
      &lt;/button&gt;
      
      {showDatePicker &amp;&amp; (
        &lt;Suspense fallback={&lt;div&gt;åŠ è½½æ—¥æœŸé€‰æ‹©å™¨...&lt;/div&gt;}&gt;
          &lt;DatePicker
            value={selectedDate}
            onChange={setSelectedDate}
            onClose={() =&gt; setShowDatePicker(false)}
          /&gt;
        &lt;/Suspense&gt;
      )}
    &lt;/form&gt;
  )
}
</code></pre>
<h2>é¢„åŠ è½½ç­–ç•¥</h2>
<h3>é¼ æ ‡æ‚¬åœé¢„åŠ è½½</h3>
<pre><code class="language-jsx">import React, { Suspense, useState } from &#39;react&#39;

const HeavyComponent = React.lazy(() =&gt; import(&#39;./HeavyComponent&#39;))

function App() {
  const [showComponent, setShowComponent] = useState(false)
  const [preloaded, setPreloaded] = useState(false)

  // é¢„åŠ è½½ç»„ä»¶
  const preloadComponent = () =&gt; {
    if (!preloaded) {
      import(&#39;./HeavyComponent&#39;).then(() =&gt; {
        setPreloaded(true)
      })
    }
  }

  return (
    &lt;div&gt;
      &lt;button
        onMouseEnter={preloadComponent}
        onClick={() =&gt; setShowComponent(true)}
      &gt;
        æ˜¾ç¤ºé‡ç»„ä»¶
      &lt;/button&gt;
      
      {showComponent &amp;&amp; (
        &lt;Suspense fallback={&lt;div&gt;åŠ è½½ä¸­...&lt;/div&gt;}&gt;
          &lt;HeavyComponent /&gt;
        &lt;/Suspense&gt;
      )}
    &lt;/div&gt;
  )
}
</code></pre>
<h3>ç©ºé—²æ—¶é—´é¢„åŠ è½½</h3>
<pre><code class="language-jsx">import React, { useEffect, useState } from &#39;react&#39;

function useIdlePreload(importFunc) {
  const [component, setComponent] = useState(null)

  useEffect(() =&gt; {
    // ä½¿ç”¨requestIdleCallbackè¿›è¡Œç©ºé—²æ—¶é—´é¢„åŠ è½½
    const idleCallback = (deadline) =&gt; {
      if (deadline.timeRemaining() &gt; 0) {
        importFunc().then(module =&gt; {
          setComponent(module.default)
        })
      }
    }

    if (window.requestIdleCallback) {
      window.requestIdleCallback(idleCallback)
    } else {
      // é™çº§å¤„ç†
      setTimeout(() =&gt; {
        importFunc().then(module =&gt; {
          setComponent(module.default)
        })
      }, 100)
    }
  }, [importFunc])

  return component
}

function App() {
  const [showComponent, setShowComponent] = useState(false)
  
  // åœ¨ç©ºé—²æ—¶é—´é¢„åŠ è½½ç»„ä»¶
  const PreloadedComponent = useIdlePreload(() =&gt; import(&#39;./HeavyComponent&#39;))

  return (
    &lt;div&gt;
      &lt;button onClick={() =&gt; setShowComponent(true)}&gt;
        æ˜¾ç¤ºç»„ä»¶
      &lt;/button&gt;
      
      {showComponent &amp;&amp; PreloadedComponent &amp;&amp; (
        &lt;PreloadedComponent /&gt;
      )}
    &lt;/div&gt;
  )
}
</code></pre>
<h2>è‡ªå®šä¹‰Hookå°è£…</h2>
<h3>åˆ›å»ºé€šç”¨çš„æ‡’åŠ è½½Hook</h3>
<pre><code class="language-jsx">import { useState, useEffect, useRef } from &#39;react&#39;

function useLazyComponent(importFunc) {
  const [component, setComponent] = useState(null)
  const [loading, setLoading] = useState(false)
  const [error, setError] = useState(null)
  const mountedRef = useRef(true)

  useEffect(() =&gt; {
    return () =&gt; {
      mountedRef.current = false
    }
  }, [])

  const loadComponent = async () =&gt; {
    if (component || loading) return

    setLoading(true)
    setError(null)

    try {
      const module = await importFunc()
      if (mountedRef.current) {
        setComponent(module.default)
      }
    } catch (err) {
      if (mountedRef.current) {
        setError(err)
      }
    } finally {
      if (mountedRef.current) {
        setLoading(false)
      }
    }
  }

  return { component, loading, error, loadComponent }
}

// ä½¿ç”¨ç¤ºä¾‹
function MyComponent() {
  const { component: HeavyComponent, loading, error, loadComponent } = useLazyComponent(
    () =&gt; import(&#39;./HeavyComponent&#39;)
  )

  if (error) {
    return &lt;div&gt;åŠ è½½å¤±è´¥: {error.message}&lt;/div&gt;
  }

  return (
    &lt;div&gt;
      {!HeavyComponent &amp;&amp; (
        &lt;button onClick={loadComponent}&gt;
          {loading ? &#39;åŠ è½½ä¸­...&#39; : &#39;åŠ è½½ç»„ä»¶&#39;}
        &lt;/button&gt;
      )}
      
      {HeavyComponent &amp;&amp; &lt;HeavyComponent /&gt;}
    &lt;/div&gt;
  )
}
</code></pre>
<h3>åˆ›å»ºå¸¦ç¼“å­˜çš„æ‡’åŠ è½½Hook</h3>
<pre><code class="language-jsx">import { useState, useEffect, useRef } from &#39;react&#39;

// å…¨å±€ç¼“å­˜
const componentCache = new Map()

function useCachedLazyComponent(importFunc, cacheKey) {
  const [component, setComponent] = useState(null)
  const [loading, setLoading] = useState(false)
  const [error, setError] = useState(null)
  const mountedRef = useRef(true)

  useEffect(() =&gt; {
    return () =&gt; {
      mountedRef.current = false
    }
  }, [])

  useEffect(() =&gt; {
    // æ£€æŸ¥ç¼“å­˜
    if (componentCache.has(cacheKey)) {
      setComponent(componentCache.get(cacheKey))
      return
    }

    const loadComponent = async () =&gt; {
      setLoading(true)
      setError(null)

      try {
        const module = await importFunc()
        const Component = module.default
        
        // ç¼“å­˜ç»„ä»¶
        componentCache.set(cacheKey, Component)
        
        if (mountedRef.current) {
          setComponent(Component)
        }
      } catch (err) {
        if (mountedRef.current) {
          setError(err)
        }
      } finally {
        if (mountedRef.current) {
          setLoading(false)
        }
      }
    }

    loadComponent()
  }, [importFunc, cacheKey])

  return { component, loading, error }
}

// ä½¿ç”¨ç¤ºä¾‹
function App() {
  const { component: ChartComponent, loading, error } = useCachedLazyComponent(
    () =&gt; import(&#39;./ChartComponent&#39;),
    &#39;chart-component&#39;
  )

  if (loading) return &lt;div&gt;åŠ è½½ä¸­...&lt;/div&gt;
  if (error) return &lt;div&gt;åŠ è½½å¤±è´¥&lt;/div&gt;
  if (!ChartComponent) return null

  return &lt;ChartComponent /&gt;
}
</code></pre>
<h2>æ€§èƒ½ä¼˜åŒ–å»ºè®®</h2>
<h3>1. åˆç†çš„åˆ†å‰²ç²’åº¦</h3>
<pre><code class="language-jsx">// ä¸å¥½çš„åšæ³• - è¿‡åº¦åˆ†å‰²
const Button = React.lazy(() =&gt; import(&#39;./Button&#39;))
const Input = React.lazy(() =&gt; import(&#39;./Input&#39;))

// å¥½çš„åšæ³• - åˆç†åˆ†å‰²
const FormComponents = React.lazy(() =&gt; import(&#39;./FormComponents&#39;))
const ChartComponents = React.lazy(() =&gt; import(&#39;./ChartComponents&#39;))
</code></pre>
<h3>2. é¢„åŠ è½½å…³é”®è·¯å¾„</h3>
<pre><code class="language-jsx">// åœ¨åº”ç”¨å¯åŠ¨æ—¶é¢„åŠ è½½å…³é”®é¡µé¢
const preloadCriticalPages = () =&gt; {
  import(&#39;./pages/Dashboard&#39;)
  import(&#39;./pages/Profile&#39;)
}

// åœ¨ç”¨æˆ·ç™»å½•åé¢„åŠ è½½
useEffect(() =&gt; {
  if (user) {
    preloadCriticalPages()
  }
}, [user])
</code></pre>
<h3>3. ä½¿ç”¨Resource Hints</h3>
<pre><code class="language-html">&lt;!-- åœ¨HTMLä¸­æ·»åŠ é¢„åŠ è½½æç¤º --&gt;
&lt;link rel=&quot;preload&quot; href=&quot;/chunks/dashboard.js&quot; as=&quot;script&quot;&gt;
&lt;link rel=&quot;prefetch&quot; href=&quot;/chunks/settings.js&quot; as=&quot;script&quot;&gt;
</code></pre>
<h3>4. ç›‘æ§å’Œåˆ†æ</h3>
<pre><code class="language-jsx">// ç›‘æ§ç»„ä»¶åŠ è½½æ€§èƒ½
const LazyComponent = React.lazy(() =&gt; {
  const start = performance.now()
  return import(&#39;./Component&#39;).then(module =&gt; {
    const end = performance.now()
    console.log(`ç»„ä»¶åŠ è½½æ—¶é—´: ${end - start}ms`)
    return module
  })
})
</code></pre>
<h2>æ„å»ºå·¥å…·é…ç½®</h2>
<h3>Webpacké…ç½®</h3>
<pre><code class="language-javascript">// webpack.config.js
module.exports = {
  optimization: {
    splitChunks: {
      chunks: &#39;all&#39;,
      cacheGroups: {
        vendor: {
          test: /[\\/]node_modules[\\/]/,
          name: &#39;vendors&#39;,
          chunks: &#39;all&#39;,
        },
        common: {
          name: &#39;common&#39;,
          minChunks: 2,
          chunks: &#39;all&#39;,
          enforce: true,
        },
      },
    },
  },
}
</code></pre>
<h3>Viteé…ç½®</h3>
<pre><code class="language-javascript">// vite.config.js
import { defineConfig } from &#39;vite&#39;

export default defineConfig({
  build: {
    rollupOptions: {
      output: {
        manualChunks: {
          vendor: [&#39;react&#39;, &#39;react-dom&#39;],
          router: [&#39;react-router-dom&#39;],
          ui: [&#39;antd&#39;, &#39;@ant-design/icons&#39;],
        },
      },
    },
  },
})
</code></pre>
<h2>æµ‹è¯•ä»£ç åˆ†å‰²</h2>
<h3>æµ‹è¯•æ‡’åŠ è½½ç»„ä»¶</h3>
<pre><code class="language-jsx">import { render, screen, waitFor } from &#39;@testing-library/react&#39;
import { Suspense } from &#39;react&#39;
import App from &#39;./App&#39;

// æ¨¡æ‹ŸåŠ¨æ€å¯¼å…¥
jest.mock(&#39;./LazyComponent&#39;, () =&gt; ({
  __esModule: true,
  default: () =&gt; &lt;div&gt;æ‡’åŠ è½½ç»„ä»¶&lt;/div&gt;
}))

test(&#39;åº”è¯¥æ˜¾ç¤ºåŠ è½½çŠ¶æ€ç„¶åæ¸²æŸ“ç»„ä»¶&#39;, async () =&gt; {
  render(
    &lt;Suspense fallback={&lt;div&gt;åŠ è½½ä¸­...&lt;/div&gt;}&gt;
      &lt;App /&gt;
    &lt;/Suspense&gt;
  )

  // åº”è¯¥å…ˆæ˜¾ç¤ºåŠ è½½çŠ¶æ€
  expect(screen.getByText(&#39;åŠ è½½ä¸­...&#39;)).toBeInTheDocument()

  // ç­‰å¾…ç»„ä»¶åŠ è½½å®Œæˆ
  await waitFor(() =&gt; {
    expect(screen.getByText(&#39;æ‡’åŠ è½½ç»„ä»¶&#39;)).toBeInTheDocument()
  })
})
</code></pre>
<h2>æœ€ä½³å®è·µæ€»ç»“</h2>
<ol>
<li><strong>æŒ‰è·¯ç”±åˆ†å‰²</strong> - ä¼˜å…ˆè€ƒè™‘è·¯ç”±çº§åˆ«çš„ä»£ç åˆ†å‰²</li>
<li><strong>åˆç†ç²’åº¦</strong> - é¿å…è¿‡åº¦åˆ†å‰²å¯¼è‡´ç½‘ç»œè¯·æ±‚è¿‡å¤š</li>
<li><strong>é¢„åŠ è½½ç­–ç•¥</strong> - åœ¨åˆé€‚çš„æ—¶æœºé¢„åŠ è½½å³å°†ç”¨åˆ°çš„ä»£ç </li>
<li><strong>é”™è¯¯å¤„ç†</strong> - ä¸ºæ‡’åŠ è½½ç»„ä»¶æä¾›é”™è¯¯è¾¹ç•Œ</li>
<li><strong>æ€§èƒ½ç›‘æ§</strong> - ç›‘æ§åˆ†å‰²åçš„åŠ è½½æ€§èƒ½</li>
<li><strong>ç¼“å­˜ç­–ç•¥</strong> - åˆç†åˆ©ç”¨æµè§ˆå™¨ç¼“å­˜å’Œç»„ä»¶ç¼“å­˜</li>
<li><strong>ç”¨æˆ·ä½“éªŒ</strong> - æä¾›å‹å¥½çš„åŠ è½½çŠ¶æ€æç¤º</li>
</ol>
<p>ä»£ç åˆ†å‰²æ˜¯ç°ä»£Reactåº”ç”¨çš„é‡è¦ä¼˜åŒ–æŠ€æœ¯ï¼Œåˆç†ä½¿ç”¨å¯ä»¥æ˜¾è‘—æå‡åº”ç”¨æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒã€‚ </p>

          </div>

          <!-- æ–‡æ¡£å¯¼èˆª -->
          <div class="doc-navigation">
            
              <a href="25-æ€§èƒ½ä¼˜åŒ–æŠ€å·§.html" class="nav-btn prev-btn">
                <span class="nav-icon">â†</span>
                <div class="nav-text">
                  <span class="nav-label">ä¸Šä¸€ç¯‡</span>
                  <span class="nav-title">æ€§èƒ½ä¼˜åŒ–æŠ€å·§</span>
                </div>
              </a>
            
            
            
              <a href="27-å•å…ƒæµ‹è¯•.html" class="nav-btn next-btn">
                <div class="nav-text">
                  <span class="nav-label">ä¸‹ä¸€ç¯‡</span>
                  <span class="nav-title">å•å…ƒæµ‹è¯•</span>
                </div>
                <span class="nav-icon">â†’</span>
              </a>
            
          </div>
        </article>
      </main>
    </div>

    <!-- è¿”å›é¡¶éƒ¨æŒ‰é’® -->
    <button class="back-to-top" id="backToTop" onclick="scrollToTop()">
      <span>â†‘</span>
    </button>

    <!-- åº•éƒ¨ -->
    <footer class="footer">
      <div class="footer-content">
        <p>&copy; 2024 React ä¸­æ–‡æ–‡æ¡£. åŸºäº React 18.x æ„å»º</p>
        <p>Made with â¤ï¸ by Reactä¸­æ–‡ç¤¾åŒº</p>
      </div>
    </footer>
  </div>

  <script src="assets/script.js"></script>
</body>
</html>