<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>é›†æˆæµ‹è¯• - React ä¸­æ–‡æ–‡æ¡£</title>
  <meta name="description" content="ä»å…¥é—¨åˆ°ç²¾é€šï¼Œå…¨é¢æŒæ¡Reactå¼€å‘æŠ€èƒ½">
  <link rel="stylesheet" href="assets/style.css">
  <link rel="stylesheet" href="assets/highlight.css">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>âš›ï¸</text></svg>">
</head>
<body>
  <div class="container">
    <!-- é¡¶éƒ¨å¯¼èˆª -->
    <header class="header">
      <div class="header-content">
        <div class="logo">
          <span class="logo-icon">âš›ï¸</span>
          <div class="logo-text">
            <h1>React ä¸­æ–‡æ–‡æ¡£</h1>
            <p>ç°ä»£åŒ–çš„Reactå­¦ä¹ æŒ‡å—</p>
          </div>
        </div>
        <nav class="header-nav">
          <a href="index.html" class="nav-link">é¦–é¡µ</a>
          <a href="#" class="nav-link" onclick="toggleSidebar()">ç›®å½•</a>
          <a href="https://github.com/facebook/react" target="_blank" class="nav-link">GitHub</a>
        </nav>
      </div>
    </header>

    <div class="main-layout">
      <!-- ä¾§è¾¹æ  -->
      <aside class="sidebar" id="sidebar">
        <div class="sidebar-content">
          <div class="search-box">
            <input type="text" placeholder="æœç´¢æ–‡æ¡£..." id="searchInput" onkeyup="searchDocs()">
            <span class="search-icon">ğŸ”</span>
          </div>
          <nav class="doc-nav">
            
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ“š</span>
          åŸºç¡€æ¦‚å¿µ
        </h3>
        <ul class="category-docs">
          <li><a href="01-Reactç®€ä»‹.html" class="doc-link">Reactç®€ä»‹</a></li><li><a href="02-ç¯å¢ƒæ­å»º.html" class="doc-link">ç¯å¢ƒæ­å»º</a></li><li><a href="03-JSXè¯­æ³•.html" class="doc-link">JSXè¯­æ³•</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ§©</span>
          ç»„ä»¶å¼€å‘
        </h3>
        <ul class="category-docs">
          <li><a href="04-ç»„ä»¶åŸºç¡€.html" class="doc-link">ç»„ä»¶åŸºç¡€</a></li><li><a href="05-Propsä¸State.html" class="doc-link">Propsä¸State</a></li><li><a href="06-äº‹ä»¶å¤„ç†.html" class="doc-link">äº‹ä»¶å¤„ç†</a></li><li><a href="07-æ¡ä»¶æ¸²æŸ“.html" class="doc-link">æ¡ä»¶æ¸²æŸ“</a></li><li><a href="08-åˆ—è¡¨æ¸²æŸ“.html" class="doc-link">åˆ—è¡¨æ¸²æŸ“</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ£</span>
          Hooks API
        </h3>
        <ul class="category-docs">
          <li><a href="09-Hooksæ¦‚è¿°.html" class="doc-link">Hooksæ¦‚è¿°</a></li><li><a href="10-useState.html" class="doc-link">useState</a></li><li><a href="11-useEffect.html" class="doc-link">useEffect</a></li><li><a href="12-useContext.html" class="doc-link">useContext</a></li><li><a href="13-useReducer.html" class="doc-link">useReducer</a></li><li><a href="14-useMemoå’ŒuseCallback.html" class="doc-link">useMemoå’ŒuseCallback</a></li><li><a href="15-useRef.html" class="doc-link">useRef</a></li><li><a href="16-è‡ªå®šä¹‰Hooks.html" class="doc-link">è‡ªå®šä¹‰Hooks</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ”„</span>
          ç”Ÿå‘½å‘¨æœŸ
        </h3>
        <ul class="category-docs">
          <li><a href="17-ç”Ÿå‘½å‘¨æœŸæ–¹æ³•.html" class="doc-link">ç”Ÿå‘½å‘¨æœŸæ–¹æ³•</a></li><li><a href="18-å‰¯ä½œç”¨å¤„ç†.html" class="doc-link">å‰¯ä½œç”¨å¤„ç†</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ¨</span>
          æ ·å¼ä¸UI
        </h3>
        <ul class="category-docs">
          <li><a href="19-æ ·å¼å¤„ç†.html" class="doc-link">æ ·å¼å¤„ç†</a></li><li><a href="20-åŠ¨ç”»æ•ˆæœ.html" class="doc-link">åŠ¨ç”»æ•ˆæœ</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ—ºï¸</span>
          è·¯ç”±ç®¡ç†
        </h3>
        <ul class="category-docs">
          <li><a href="21-React-Router.html" class="doc-link">React-Router</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ“¦</span>
          çŠ¶æ€ç®¡ç†
        </h3>
        <ul class="category-docs">
          <li><a href="22-Context-API.html" class="doc-link">Context-API</a></li><li><a href="23-Reduxé›†æˆ.html" class="doc-link">Reduxé›†æˆ</a></li><li><a href="24-ZustandçŠ¶æ€ç®¡ç†.html" class="doc-link">ZustandçŠ¶æ€ç®¡ç†</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸš€</span>
          æ€§èƒ½ä¼˜åŒ–
        </h3>
        <ul class="category-docs">
          <li><a href="25-æ€§èƒ½ä¼˜åŒ–æŠ€å·§.html" class="doc-link">æ€§èƒ½ä¼˜åŒ–æŠ€å·§</a></li><li><a href="26-ä»£ç åˆ†å‰².html" class="doc-link">ä»£ç åˆ†å‰²</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ§ª</span>
          æµ‹è¯•
        </h3>
        <ul class="category-docs">
          <li><a href="27-å•å…ƒæµ‹è¯•.html" class="doc-link">å•å…ƒæµ‹è¯•</a></li><li><a href="28-é›†æˆæµ‹è¯•.html" class="doc-link">é›†æˆæµ‹è¯•</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ—ï¸</span>
          æ„å»ºä¸éƒ¨ç½²
        </h3>
        <ul class="category-docs">
          <li><a href="29-é¡¹ç›®æ„å»º.html" class="doc-link">é¡¹ç›®æ„å»º</a></li><li><a href="30-ç”Ÿäº§éƒ¨ç½².html" class="doc-link">ç”Ÿäº§éƒ¨ç½²</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ› ï¸</span>
          å¼€å‘å·¥å…·
        </h3>
        <ul class="category-docs">
          <li><a href="31-å¼€å‘è€…å·¥å…·.html" class="doc-link">å¼€å‘è€…å·¥å…·</a></li><li><a href="32-è°ƒè¯•æŠ€å·§.html" class="doc-link">è°ƒè¯•æŠ€å·§</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ“–</span>
          APIå‚è€ƒ
        </h3>
        <ul class="category-docs">
          <li><a href="33-React-APIå®Œæ•´å‚è€ƒ.html" class="doc-link">React-APIå®Œæ•´å‚è€ƒ</a></li><li><a href="34-DOMå…ƒç´ å±æ€§.html" class="doc-link">DOMå…ƒç´ å±æ€§</a></li><li><a href="35-åˆæˆäº‹ä»¶.html" class="doc-link">åˆæˆäº‹ä»¶</a></li><li><a href="React-Hookså®Œæ•´å‚è€ƒ.html" class="doc-link">React-Hookså®Œæ•´å‚è€ƒ</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ’¡</span>
          æœ€ä½³å®è·µ
        </h3>
        <ul class="category-docs">
          <li><a href="36-ç¼–ç è§„èŒƒ.html" class="doc-link">ç¼–ç è§„èŒƒ</a></li><li><a href="37-é¡¹ç›®æ¶æ„.html" class="doc-link">é¡¹ç›®æ¶æ„</a></li><li><a href="38-å¸¸è§é—®é¢˜.html" class="doc-link">å¸¸è§é—®é¢˜</a></li>
        </ul>
      </div>
          </nav>
        </div>
      </aside>

      <!-- ä¸»å†…å®¹åŒº -->
      <main class="content">
        <article class="doc-article">
          <div class="doc-header">
            <div class="breadcrumb">
              <a href="index.html">é¦–é¡µ</a>
              <span class="separator">></span>
              <span class="current">é›†æˆæµ‹è¯•</span>
            </div>
            <h1 class="doc-title">é›†æˆæµ‹è¯•</h1>
            <div class="doc-meta">
              <span class="category" style="background: #fad0c4">
                ğŸ§ª æµ‹è¯•
              </span>
            </div>
          </div>
          
          <div class="doc-content">
            <h1>28-é›†æˆæµ‹è¯•</h1>
<p>é›†æˆæµ‹è¯•æ˜¯éªŒè¯å¤šä¸ªç»„ä»¶æˆ–æ¨¡å—ååŒå·¥ä½œçš„æµ‹è¯•æ–¹æ³•ã€‚åœ¨Reactåº”ç”¨ä¸­ï¼Œé›†æˆæµ‹è¯•å…³æ³¨ç»„ä»¶ä¹‹é—´çš„äº¤äº’ã€æ•°æ®æµå’Œç”¨æˆ·å·¥ä½œæµç¨‹ï¼Œç¡®ä¿åº”ç”¨çš„å„ä¸ªéƒ¨åˆ†èƒ½å¤Ÿæ­£ç¡®é›†æˆã€‚</p>
<h2>åŸºç¡€æ¦‚å¿µ</h2>
<h3>ä»€ä¹ˆæ˜¯é›†æˆæµ‹è¯•</h3>
<p>é›†æˆæµ‹è¯•æ˜¯ä»‹äºå•å…ƒæµ‹è¯•å’Œç«¯åˆ°ç«¯æµ‹è¯•ä¹‹é—´çš„æµ‹è¯•å±‚çº§ï¼Œä¸»è¦éªŒè¯ï¼š</p>
<ul>
<li><strong>ç»„ä»¶é—´äº¤äº’</strong> - çˆ¶å­ç»„ä»¶ä¹‹é—´çš„æ•°æ®ä¼ é€’å’Œäº‹ä»¶å¤„ç†</li>
<li><strong>çŠ¶æ€ç®¡ç†</strong> - å…¨å±€çŠ¶æ€çš„å˜åŒ–å’Œç»„ä»¶çš„å“åº”</li>
<li><strong>è·¯ç”±å¯¼èˆª</strong> - é¡µé¢ä¹‹é—´çš„è·³è½¬å’Œå‚æ•°ä¼ é€’</li>
<li><strong>APIé›†æˆ</strong> - ç»„ä»¶ä¸åç«¯æœåŠ¡çš„äº¤äº’</li>
<li><strong>ç”¨æˆ·æµç¨‹</strong> - å®Œæ•´çš„ç”¨æˆ·æ“ä½œæµç¨‹</li>
</ul>
<h3>é›†æˆæµ‹è¯•çš„ä¼˜åŠ¿</h3>
<ol>
<li><strong>çœŸå®åœºæ™¯æ¨¡æ‹Ÿ</strong> - æ›´æ¥è¿‘ç”¨æˆ·å®é™…ä½¿ç”¨æƒ…å†µ</li>
<li><strong>æ¥å£éªŒè¯</strong> - ç¡®ä¿ç»„ä»¶é—´æ¥å£çš„æ­£ç¡®æ€§</li>
<li><strong>æ•°æ®æµéªŒè¯</strong> - éªŒè¯æ•°æ®åœ¨ç»„ä»¶é—´çš„æ­£ç¡®æµåŠ¨</li>
<li><strong>ç”¨æˆ·ä½“éªŒä¿è¯</strong> - ç¡®ä¿ç”¨æˆ·æ“ä½œçš„å®Œæ•´æ€§</li>
<li><strong>å›å½’æµ‹è¯•</strong> - é˜²æ­¢åŠŸèƒ½é—´çš„ç›¸äº’å½±å“</li>
</ol>
<h2>æµ‹è¯•å·¥å…·å’Œæ¡†æ¶</h2>
<h3>ä¸»è¦æµ‹è¯•å·¥å…·</h3>
<pre><code class="language-bash"># å®‰è£…æµ‹è¯•ä¾èµ–
npm install --save-dev @testing-library/react @testing-library/jest-dom @testing-library/user-event
npm install --save-dev jest-environment-jsdom
</code></pre>
<h3>æµ‹è¯•ç¯å¢ƒé…ç½®</h3>
<pre><code class="language-javascript">// jest.config.js
module.exports = {
  testEnvironment: &#39;jsdom&#39;,
  setupFilesAfterEnv: [&#39;&lt;rootDir&gt;/src/setupTests.js&#39;],
  moduleNameMapping: {
    &#39;\\.(css|less|scss|sass)$&#39;: &#39;identity-obj-proxy&#39;,
  },
  transform: {
    &#39;^.+\\.(js|jsx|ts|tsx)$&#39;: &#39;babel-jest&#39;,
  },
}
</code></pre>
<pre><code class="language-javascript">// src/setupTests.js
import &#39;@testing-library/jest-dom&#39;

// æ¨¡æ‹ŸIntersectionObserver
global.IntersectionObserver = class IntersectionObserver {
  constructor() {}
  disconnect() {}
  observe() {}
  unobserve() {}
}

// æ¨¡æ‹ŸResizeObserver
global.ResizeObserver = class ResizeObserver {
  constructor() {}
  disconnect() {}
  observe() {}
  unobserve() {}
}
</code></pre>
<h2>ç»„ä»¶é—´äº¤äº’æµ‹è¯•</h2>
<h3>çˆ¶å­ç»„ä»¶äº¤äº’</h3>
<pre><code class="language-jsx">// ParentComponent.jsx
import React, { useState } from &#39;react&#39;
import ChildComponent from &#39;./ChildComponent&#39;

function ParentComponent() {
  const [count, setCount] = useState(0)
  const [message, setMessage] = useState(&#39;&#39;)

  const handleChildClick = (newMessage) =&gt; {
    setCount(count + 1)
    setMessage(newMessage)
  }

  return (
    &lt;div&gt;
      &lt;h1&gt;çˆ¶ç»„ä»¶&lt;/h1&gt;
      &lt;p&gt;ç‚¹å‡»æ¬¡æ•°: {count}&lt;/p&gt;
      &lt;p&gt;æ¶ˆæ¯: {message}&lt;/p&gt;
      &lt;ChildComponent onChildClick={handleChildClick} /&gt;
    &lt;/div&gt;
  )
}

export default ParentComponent
</code></pre>
<pre><code class="language-jsx">// ChildComponent.jsx
import React from &#39;react&#39;

function ChildComponent({ onChildClick }) {
  const handleClick = () =&gt; {
    onChildClick(&#39;å­ç»„ä»¶è¢«ç‚¹å‡»äº†!&#39;)
  }

  return (
    &lt;div&gt;
      &lt;h2&gt;å­ç»„ä»¶&lt;/h2&gt;
      &lt;button onClick={handleClick}&gt;ç‚¹å‡»æˆ‘&lt;/button&gt;
    &lt;/div&gt;
  )
}

export default ChildComponent
</code></pre>
<pre><code class="language-jsx">// ParentComponent.test.jsx
import React from &#39;react&#39;
import { render, screen } from &#39;@testing-library/react&#39;
import userEvent from &#39;@testing-library/user-event&#39;
import ParentComponent from &#39;./ParentComponent&#39;

describe(&#39;ParentComponent é›†æˆæµ‹è¯•&#39;, () =&gt; {
  test(&#39;çˆ¶å­ç»„ä»¶äº¤äº’æ­£å¸¸&#39;, async () =&gt; {
    const user = userEvent.setup()
    
    render(&lt;ParentComponent /&gt;)
    
    // éªŒè¯åˆå§‹çŠ¶æ€
    expect(screen.getByText(&#39;ç‚¹å‡»æ¬¡æ•°: 0&#39;)).toBeInTheDocument()
    expect(screen.getByText(&#39;æ¶ˆæ¯:&#39;)).toBeInTheDocument()
    
    // ç‚¹å‡»å­ç»„ä»¶æŒ‰é’®
    const childButton = screen.getByText(&#39;ç‚¹å‡»æˆ‘&#39;)
    await user.click(childButton)
    
    // éªŒè¯çˆ¶ç»„ä»¶çŠ¶æ€æ›´æ–°
    expect(screen.getByText(&#39;ç‚¹å‡»æ¬¡æ•°: 1&#39;)).toBeInTheDocument()
    expect(screen.getByText(&#39;æ¶ˆæ¯: å­ç»„ä»¶è¢«ç‚¹å‡»äº†!&#39;)).toBeInTheDocument()
    
    // å†æ¬¡ç‚¹å‡»éªŒè¯çŠ¶æ€ç»§ç»­æ›´æ–°
    await user.click(childButton)
    expect(screen.getByText(&#39;ç‚¹å‡»æ¬¡æ•°: 2&#39;)).toBeInTheDocument()
  })
})
</code></pre>
<h3>å…„å¼Ÿç»„ä»¶é€šä¿¡</h3>
<pre><code class="language-jsx">// Container.jsx
import React, { useState } from &#39;react&#39;
import SenderComponent from &#39;./SenderComponent&#39;
import ReceiverComponent from &#39;./ReceiverComponent&#39;

function Container() {
  const [sharedData, setSharedData] = useState(&#39;&#39;)

  return (
    &lt;div&gt;
      &lt;SenderComponent onDataChange={setSharedData} /&gt;
      &lt;ReceiverComponent data={sharedData} /&gt;
    &lt;/div&gt;
  )
}

export default Container
</code></pre>
<pre><code class="language-jsx">// SenderComponent.jsx
import React, { useState } from &#39;react&#39;

function SenderComponent({ onDataChange }) {
  const [input, setInput] = useState(&#39;&#39;)

  const handleSubmit = (e) =&gt; {
    e.preventDefault()
    onDataChange(input)
    setInput(&#39;&#39;)
  }

  return (
    &lt;form onSubmit={handleSubmit}&gt;
      &lt;input
        type=&quot;text&quot;
        value={input}
        onChange={(e) =&gt; setInput(e.target.value)}
        placeholder=&quot;è¾“å…¥æ•°æ®&quot;
      /&gt;
      &lt;button type=&quot;submit&quot;&gt;å‘é€&lt;/button&gt;
    &lt;/form&gt;
  )
}

export default SenderComponent
</code></pre>
<pre><code class="language-jsx">// ReceiverComponent.jsx
import React from &#39;react&#39;

function ReceiverComponent({ data }) {
  return (
    &lt;div&gt;
      &lt;h3&gt;æ¥æ”¶åˆ°çš„æ•°æ®:&lt;/h3&gt;
      &lt;p data-testid=&quot;received-data&quot;&gt;{data || &#39;æš‚æ— æ•°æ®&#39;}&lt;/p&gt;
    &lt;/div&gt;
  )
}

export default ReceiverComponent
</code></pre>
<pre><code class="language-jsx">// Container.test.jsx
import React from &#39;react&#39;
import { render, screen } from &#39;@testing-library/react&#39;
import userEvent from &#39;@testing-library/user-event&#39;
import Container from &#39;./Container&#39;

describe(&#39;Container å…„å¼Ÿç»„ä»¶é€šä¿¡æµ‹è¯•&#39;, () =&gt; {
  test(&#39;å…„å¼Ÿç»„ä»¶é—´æ•°æ®ä¼ é€’æ­£å¸¸&#39;, async () =&gt; {
    const user = userEvent.setup()
    
    render(&lt;Container /&gt;)
    
    // éªŒè¯åˆå§‹çŠ¶æ€
    expect(screen.getByTestId(&#39;received-data&#39;)).toHaveTextContent(&#39;æš‚æ— æ•°æ®&#39;)
    
    // åœ¨å‘é€ç»„ä»¶ä¸­è¾“å…¥æ•°æ®
    const input = screen.getByPlaceholderText(&#39;è¾“å…¥æ•°æ®&#39;)
    await user.type(input, &#39;Hello World&#39;)
    
    // ç‚¹å‡»å‘é€æŒ‰é’®
    const sendButton = screen.getByText(&#39;å‘é€&#39;)
    await user.click(sendButton)
    
    // éªŒè¯æ¥æ”¶ç»„ä»¶æ˜¾ç¤ºæ•°æ®
    expect(screen.getByTestId(&#39;received-data&#39;)).toHaveTextContent(&#39;Hello World&#39;)
    
    // éªŒè¯è¾“å…¥æ¡†å·²æ¸…ç©º
    expect(input).toHaveValue(&#39;&#39;)
  })
})
</code></pre>
<h2>çŠ¶æ€ç®¡ç†é›†æˆæµ‹è¯•</h2>
<h3>Context APIé›†æˆæµ‹è¯•</h3>
<pre><code class="language-jsx">// AuthContext.jsx
import React, { createContext, useContext, useState } from &#39;react&#39;

const AuthContext = createContext()

export function useAuth() {
  const context = useContext(AuthContext)
  if (!context) {
    throw new Error(&#39;useAuth must be used within an AuthProvider&#39;)
  }
  return context
}

export function AuthProvider({ children }) {
  const [user, setUser] = useState(null)
  const [loading, setLoading] = useState(false)

  const login = async (credentials) =&gt; {
    setLoading(true)
    try {
      // æ¨¡æ‹Ÿç™»å½•APIè°ƒç”¨
      await new Promise(resolve =&gt; setTimeout(resolve, 1000))
      setUser({ id: 1, name: credentials.username })
    } catch (error) {
      throw error
    } finally {
      setLoading(false)
    }
  }

  const logout = () =&gt; {
    setUser(null)
  }

  const value = {
    user,
    loading,
    login,
    logout,
    isAuthenticated: !!user
  }

  return (
    &lt;AuthContext.Provider value={value}&gt;
      {children}
    &lt;/AuthContext.Provider&gt;
  )
}
</code></pre>
<pre><code class="language-jsx">// LoginForm.jsx
import React, { useState } from &#39;react&#39;
import { useAuth } from &#39;./AuthContext&#39;

function LoginForm() {
  const [username, setUsername] = useState(&#39;&#39;)
  const [password, setPassword] = useState(&#39;&#39;)
  const { login, loading } = useAuth()

  const handleSubmit = async (e) =&gt; {
    e.preventDefault()
    await login({ username, password })
  }

  return (
    &lt;form onSubmit={handleSubmit}&gt;
      &lt;input
        type=&quot;text&quot;
        value={username}
        onChange={(e) =&gt; setUsername(e.target.value)}
        placeholder=&quot;ç”¨æˆ·å&quot;
        required
      /&gt;
      &lt;input
        type=&quot;password&quot;
        value={password}
        onChange={(e) =&gt; setPassword(e.target.value)}
        placeholder=&quot;å¯†ç &quot;
        required
      /&gt;
      &lt;button type=&quot;submit&quot; disabled={loading}&gt;
        {loading ? &#39;ç™»å½•ä¸­...&#39; : &#39;ç™»å½•&#39;}
      &lt;/button&gt;
    &lt;/form&gt;
  )
}

export default LoginForm
</code></pre>
<pre><code class="language-jsx">// UserProfile.jsx
import React from &#39;react&#39;
import { useAuth } from &#39;./AuthContext&#39;

function UserProfile() {
  const { user, logout } = useAuth()

  return (
    &lt;div&gt;
      &lt;h2&gt;ç”¨æˆ·ä¿¡æ¯&lt;/h2&gt;
      &lt;p&gt;ç”¨æˆ·å: {user.name}&lt;/p&gt;
      &lt;button onClick={logout}&gt;é€€å‡ºç™»å½•&lt;/button&gt;
    &lt;/div&gt;
  )
}

export default UserProfile
</code></pre>
<pre><code class="language-jsx">// App.jsx
import React from &#39;react&#39;
import { AuthProvider, useAuth } from &#39;./AuthContext&#39;
import LoginForm from &#39;./LoginForm&#39;
import UserProfile from &#39;./UserProfile&#39;

function AppContent() {
  const { isAuthenticated } = useAuth()

  return (
    &lt;div&gt;
      {isAuthenticated ? &lt;UserProfile /&gt; : &lt;LoginForm /&gt;}
    &lt;/div&gt;
  )
}

function App() {
  return (
    &lt;AuthProvider&gt;
      &lt;AppContent /&gt;
    &lt;/AuthProvider&gt;
  )
}

export default App
</code></pre>
<pre><code class="language-jsx">// App.test.jsx
import React from &#39;react&#39;
import { render, screen, waitFor } from &#39;@testing-library/react&#39;
import userEvent from &#39;@testing-library/user-event&#39;
import App from &#39;./App&#39;

describe(&#39;App è®¤è¯é›†æˆæµ‹è¯•&#39;, () =&gt; {
  test(&#39;å®Œæ•´çš„ç™»å½•æµç¨‹&#39;, async () =&gt; {
    const user = userEvent.setup()
    
    render(&lt;App /&gt;)
    
    // éªŒè¯åˆå§‹æ˜¾ç¤ºç™»å½•è¡¨å•
    expect(screen.getByPlaceholderText(&#39;ç”¨æˆ·å&#39;)).toBeInTheDocument()
    expect(screen.getByPlaceholderText(&#39;å¯†ç &#39;)).toBeInTheDocument()
    expect(screen.getByText(&#39;ç™»å½•&#39;)).toBeInTheDocument()
    
    // å¡«å†™ç™»å½•ä¿¡æ¯
    await user.type(screen.getByPlaceholderText(&#39;ç”¨æˆ·å&#39;), &#39;testuser&#39;)
    await user.type(screen.getByPlaceholderText(&#39;å¯†ç &#39;), &#39;password123&#39;)
    
    // ç‚¹å‡»ç™»å½•æŒ‰é’®
    const loginButton = screen.getByText(&#39;ç™»å½•&#39;)
    await user.click(loginButton)
    
    // éªŒè¯åŠ è½½çŠ¶æ€
    expect(screen.getByText(&#39;ç™»å½•ä¸­...&#39;)).toBeInTheDocument()
    
    // ç­‰å¾…ç™»å½•å®Œæˆï¼ŒéªŒè¯ç”¨æˆ·ä¿¡æ¯æ˜¾ç¤º
    await waitFor(() =&gt; {
      expect(screen.getByText(&#39;ç”¨æˆ·ä¿¡æ¯&#39;)).toBeInTheDocument()
    })
    
    expect(screen.getByText(&#39;ç”¨æˆ·å: testuser&#39;)).toBeInTheDocument()
    expect(screen.getByText(&#39;é€€å‡ºç™»å½•&#39;)).toBeInTheDocument()
    
    // æµ‹è¯•é€€å‡ºç™»å½•
    await user.click(screen.getByText(&#39;é€€å‡ºç™»å½•&#39;))
    
    // éªŒè¯è¿”å›åˆ°ç™»å½•é¡µé¢
    expect(screen.getByPlaceholderText(&#39;ç”¨æˆ·å&#39;)).toBeInTheDocument()
    expect(screen.getByText(&#39;ç™»å½•&#39;)).toBeInTheDocument()
  })
})
</code></pre>
<h2>è·¯ç”±é›†æˆæµ‹è¯•</h2>
<h3>è·¯ç”±å¯¼èˆªæµ‹è¯•</h3>
<pre><code class="language-jsx">// Router.jsx
import React from &#39;react&#39;
import { BrowserRouter as Router, Routes, Route, Link } from &#39;react-router-dom&#39;
import Home from &#39;./pages/Home&#39;
import About from &#39;./pages/About&#39;
import Contact from &#39;./pages/Contact&#39;
import NotFound from &#39;./pages/NotFound&#39;

function AppRouter() {
  return (
    &lt;Router&gt;
      &lt;nav&gt;
        &lt;Link to=&quot;/&quot;&gt;é¦–é¡µ&lt;/Link&gt;
        &lt;Link to=&quot;/about&quot;&gt;å…³äº&lt;/Link&gt;
        &lt;Link to=&quot;/contact&quot;&gt;è”ç³»&lt;/Link&gt;
      &lt;/nav&gt;
      
      &lt;main&gt;
        &lt;Routes&gt;
          &lt;Route path=&quot;/&quot; element={&lt;Home /&gt;} /&gt;
          &lt;Route path=&quot;/about&quot; element={&lt;About /&gt;} /&gt;
          &lt;Route path=&quot;/contact&quot; element={&lt;Contact /&gt;} /&gt;
          &lt;Route path=&quot;*&quot; element={&lt;NotFound /&gt;} /&gt;
        &lt;/Routes&gt;
      &lt;/main&gt;
    &lt;/Router&gt;
  )
}

export default AppRouter
</code></pre>
<pre><code class="language-jsx">// pages/Home.jsx
import React from &#39;react&#39;
import { useNavigate } from &#39;react-router-dom&#39;

function Home() {
  const navigate = useNavigate()

  const handleGetStarted = () =&gt; {
    navigate(&#39;/about&#39;)
  }

  return (
    &lt;div&gt;
      &lt;h1&gt;é¦–é¡µ&lt;/h1&gt;
      &lt;p&gt;æ¬¢è¿æ¥åˆ°æˆ‘ä»¬çš„ç½‘ç«™&lt;/p&gt;
      &lt;button onClick={handleGetStarted}&gt;å¼€å§‹äº†è§£&lt;/button&gt;
    &lt;/div&gt;
  )
}

export default Home
</code></pre>
<pre><code class="language-jsx">// pages/About.jsx
import React from &#39;react&#39;
import { Link } from &#39;react-router-dom&#39;

function About() {
  return (
    &lt;div&gt;
      &lt;h1&gt;å…³äºæˆ‘ä»¬&lt;/h1&gt;
      &lt;p&gt;è¿™æ˜¯å…³äºé¡µé¢&lt;/p&gt;
      &lt;Link to=&quot;/contact&quot;&gt;è”ç³»æˆ‘ä»¬&lt;/Link&gt;
    &lt;/div&gt;
  )
}

export default About
</code></pre>
<pre><code class="language-jsx">// AppRouter.test.jsx
import React from &#39;react&#39;
import { render, screen } from &#39;@testing-library/react&#39;
import userEvent from &#39;@testing-library/user-event&#39;
import AppRouter from &#39;./AppRouter&#39;

describe(&#39;AppRouter è·¯ç”±é›†æˆæµ‹è¯•&#39;, () =&gt; {
  test(&#39;è·¯ç”±å¯¼èˆªæ­£å¸¸å·¥ä½œ&#39;, async () =&gt; {
    const user = userEvent.setup()
    
    render(&lt;AppRouter /&gt;)
    
    // éªŒè¯åˆå§‹é¡µé¢æ˜¯é¦–é¡µ
    expect(screen.getByText(&#39;é¦–é¡µ&#39;)).toBeInTheDocument()
    expect(screen.getByText(&#39;æ¬¢è¿æ¥åˆ°æˆ‘ä»¬çš„ç½‘ç«™&#39;)).toBeInTheDocument()
    
    // ç‚¹å‡»&quot;å¼€å§‹äº†è§£&quot;æŒ‰é’®å¯¼èˆªåˆ°å…³äºé¡µé¢
    const getStartedButton = screen.getByText(&#39;å¼€å§‹äº†è§£&#39;)
    await user.click(getStartedButton)
    
    // éªŒè¯å¯¼èˆªåˆ°å…³äºé¡µé¢
    expect(screen.getByText(&#39;å…³äºæˆ‘ä»¬&#39;)).toBeInTheDocument()
    expect(screen.getByText(&#39;è¿™æ˜¯å…³äºé¡µé¢&#39;)).toBeInTheDocument()
    
    // ç‚¹å‡»&quot;è”ç³»æˆ‘ä»¬&quot;é“¾æ¥
    const contactLink = screen.getByText(&#39;è”ç³»æˆ‘ä»¬&#39;)
    await user.click(contactLink)
    
    // éªŒè¯å¯¼èˆªåˆ°è”ç³»é¡µé¢
    expect(screen.getByText(&#39;è”ç³»æˆ‘ä»¬&#39;)).toBeInTheDocument()
    
    // ä½¿ç”¨å¯¼èˆªé“¾æ¥è¿”å›é¦–é¡µ
    const homeLink = screen.getByText(&#39;é¦–é¡µ&#39;)
    await user.click(homeLink)
    
    // éªŒè¯è¿”å›åˆ°é¦–é¡µ
    expect(screen.getByText(&#39;é¦–é¡µ&#39;)).toBeInTheDocument()
  })
  
  test(&#39;404é¡µé¢æ­£å¸¸æ˜¾ç¤º&#39;, async () =&gt; {
    const user = userEvent.setup()
    
    render(&lt;AppRouter /&gt;)
    
    // ç›´æ¥è®¿é—®ä¸å­˜åœ¨çš„è·¯ç”±
    window.history.pushState({}, &#39;&#39;, &#39;/nonexistent&#39;)
    
    // è§¦å‘è·¯ç”±æ›´æ–°
    const homeLink = screen.getByText(&#39;é¦–é¡µ&#39;)
    await user.click(homeLink)
    await user.click(screen.getByText(&#39;å…³äº&#39;))
    
    // æ‰‹åŠ¨å¯¼èˆªåˆ°ä¸å­˜åœ¨çš„è·¯ç”±
    window.history.pushState({}, &#39;&#39;, &#39;/nonexistent&#39;)
    window.dispatchEvent(new PopStateEvent(&#39;popstate&#39;))
    
    // éªŒè¯404é¡µé¢æ˜¾ç¤º
    expect(screen.getByText(&#39;é¡µé¢æœªæ‰¾åˆ°&#39;)).toBeInTheDocument()
  })
})
</code></pre>
<h2>APIé›†æˆæµ‹è¯•</h2>
<h3>Mock APIæµ‹è¯•</h3>
<pre><code class="language-jsx">// api/userApi.js
export const fetchUsers = async () =&gt; {
  const response = await fetch(&#39;/api/users&#39;)
  if (!response.ok) {
    throw new Error(&#39;Failed to fetch users&#39;)
  }
  return response.json()
}

export const createUser = async (userData) =&gt; {
  const response = await fetch(&#39;/api/users&#39;, {
    method: &#39;POST&#39;,
    headers: {
      &#39;Content-Type&#39;: &#39;application/json&#39;,
    },
    body: JSON.stringify(userData),
  })
  
  if (!response.ok) {
    throw new Error(&#39;Failed to create user&#39;)
  }
  
  return response.json()
}
</code></pre>
<pre><code class="language-jsx">// UserManager.jsx
import React, { useState, useEffect } from &#39;react&#39;
import { fetchUsers, createUser } from &#39;./api/userApi&#39;

function UserManager() {
  const [users, setUsers] = useState([])
  const [loading, setLoading] = useState(true)
  const [error, setError] = useState(null)
  const [newUserName, setNewUserName] = useState(&#39;&#39;)

  useEffect(() =&gt; {
    loadUsers()
  }, [])

  const loadUsers = async () =&gt; {
    try {
      setLoading(true)
      setError(null)
      const userData = await fetchUsers()
      setUsers(userData)
    } catch (err) {
      setError(err.message)
    } finally {
      setLoading(false)
    }
  }

  const handleCreateUser = async (e) =&gt; {
    e.preventDefault()
    if (!newUserName.trim()) return

    try {
      const newUser = await createUser({ name: newUserName })
      setUsers([...users, newUser])
      setNewUserName(&#39;&#39;)
    } catch (err) {
      setError(err.message)
    }
  }

  if (loading) return &lt;div&gt;åŠ è½½ä¸­...&lt;/div&gt;
  if (error) return &lt;div&gt;é”™è¯¯: {error}&lt;/div&gt;

  return (
    &lt;div&gt;
      &lt;h2&gt;ç”¨æˆ·ç®¡ç†&lt;/h2&gt;
      
      &lt;form onSubmit={handleCreateUser}&gt;
        &lt;input
          type=&quot;text&quot;
          value={newUserName}
          onChange={(e) =&gt; setNewUserName(e.target.value)}
          placeholder=&quot;ç”¨æˆ·å&quot;
        /&gt;
        &lt;button type=&quot;submit&quot;&gt;æ·»åŠ ç”¨æˆ·&lt;/button&gt;
      &lt;/form&gt;
      
      &lt;ul&gt;
        {users.map(user =&gt; (
          &lt;li key={user.id}&gt;{user.name}&lt;/li&gt;
        ))}
      &lt;/ul&gt;
    &lt;/div&gt;
  )
}

export default UserManager
</code></pre>
<pre><code class="language-jsx">// UserManager.test.jsx
import React from &#39;react&#39;
import { render, screen, waitFor } from &#39;@testing-library/react&#39;
import userEvent from &#39;@testing-library/user-event&#39;
import UserManager from &#39;./UserManager&#39;
import * as userApi from &#39;./api/userApi&#39;

// Mock API
jest.mock(&#39;./api/userApi&#39;)

describe(&#39;UserManager APIé›†æˆæµ‹è¯•&#39;, () =&gt; {
  beforeEach(() =&gt; {
    jest.clearAllMocks()
  })

  test(&#39;æˆåŠŸåŠ è½½å’Œæ˜¾ç¤ºç”¨æˆ·åˆ—è¡¨&#39;, async () =&gt; {
    const mockUsers = [
      { id: 1, name: &#39;Alice&#39; },
      { id: 2, name: &#39;Bob&#39; }
    ]
    
    userApi.fetchUsers.mockResolvedValue(mockUsers)
    
    render(&lt;UserManager /&gt;)
    
    // éªŒè¯åŠ è½½çŠ¶æ€
    expect(screen.getByText(&#39;åŠ è½½ä¸­...&#39;)).toBeInTheDocument()
    
    // ç­‰å¾…æ•°æ®åŠ è½½å®Œæˆ
    await waitFor(() =&gt; {
      expect(screen.getByText(&#39;ç”¨æˆ·ç®¡ç†&#39;)).toBeInTheDocument()
    })
    
    // éªŒè¯ç”¨æˆ·åˆ—è¡¨æ˜¾ç¤º
    expect(screen.getByText(&#39;Alice&#39;)).toBeInTheDocument()
    expect(screen.getByText(&#39;Bob&#39;)).toBeInTheDocument()
    
    // éªŒè¯APIè¢«è°ƒç”¨
    expect(userApi.fetchUsers).toHaveBeenCalledTimes(1)
  })

  test(&#39;åˆ›å»ºæ–°ç”¨æˆ·åŠŸèƒ½&#39;, async () =&gt; {
    const user = userEvent.setup()
    const mockUsers = [{ id: 1, name: &#39;Alice&#39; }]
    const newUser = { id: 2, name: &#39;Charlie&#39; }
    
    userApi.fetchUsers.mockResolvedValue(mockUsers)
    userApi.createUser.mockResolvedValue(newUser)
    
    render(&lt;UserManager /&gt;)
    
    // ç­‰å¾…åˆå§‹åŠ è½½å®Œæˆ
    await waitFor(() =&gt; {
      expect(screen.getByText(&#39;Alice&#39;)).toBeInTheDocument()
    })
    
    // è¾“å…¥æ–°ç”¨æˆ·å
    const input = screen.getByPlaceholderText(&#39;ç”¨æˆ·å&#39;)
    await user.type(input, &#39;Charlie&#39;)
    
    // æäº¤è¡¨å•
    const submitButton = screen.getByText(&#39;æ·»åŠ ç”¨æˆ·&#39;)
    await user.click(submitButton)
    
    // éªŒè¯æ–°ç”¨æˆ·è¢«æ·»åŠ åˆ°åˆ—è¡¨
    await waitFor(() =&gt; {
      expect(screen.getByText(&#39;Charlie&#39;)).toBeInTheDocument()
    })
    
    // éªŒè¯APIè¢«è°ƒç”¨
    expect(userApi.createUser).toHaveBeenCalledWith({ name: &#39;Charlie&#39; })
    
    // éªŒè¯è¾“å…¥æ¡†è¢«æ¸…ç©º
    expect(input).toHaveValue(&#39;&#39;)
  })

  test(&#39;å¤„ç†APIé”™è¯¯&#39;, async () =&gt; {
    const errorMessage = &#39;Failed to fetch users&#39;
    userApi.fetchUsers.mockRejectedValue(new Error(errorMessage))
    
    render(&lt;UserManager /&gt;)
    
    // ç­‰å¾…é”™è¯¯ä¿¡æ¯æ˜¾ç¤º
    await waitFor(() =&gt; {
      expect(screen.getByText(`é”™è¯¯: ${errorMessage}`)).toBeInTheDocument()
    })
    
    // éªŒè¯APIè¢«è°ƒç”¨
    expect(userApi.fetchUsers).toHaveBeenCalledTimes(1)
  })
})
</code></pre>
<h2>è¡¨å•é›†æˆæµ‹è¯•</h2>
<h3>å¤æ‚è¡¨å•éªŒè¯</h3>
<pre><code class="language-jsx">// ContactForm.jsx
import React, { useState } from &#39;react&#39;

function ContactForm({ onSubmit }) {
  const [formData, setFormData] = useState({
    name: &#39;&#39;,
    email: &#39;&#39;,
    message: &#39;&#39;
  })
  const [errors, setErrors] = useState({})
  const [submitted, setSubmitted] = useState(false)

  const validateForm = () =&gt; {
    const newErrors = {}
    
    if (!formData.name.trim()) {
      newErrors.name = &#39;å§“åæ˜¯å¿…å¡«é¡¹&#39;
    }
    
    if (!formData.email.trim()) {
      newErrors.email = &#39;é‚®ç®±æ˜¯å¿…å¡«é¡¹&#39;
    } else if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(formData.email)) {
      newErrors.email = &#39;è¯·è¾“å…¥æœ‰æ•ˆçš„é‚®ç®±åœ°å€&#39;
    }
    
    if (!formData.message.trim()) {
      newErrors.message = &#39;æ¶ˆæ¯æ˜¯å¿…å¡«é¡¹&#39;
    } else if (formData.message.length &lt; 10) {
      newErrors.message = &#39;æ¶ˆæ¯è‡³å°‘éœ€è¦10ä¸ªå­—ç¬¦&#39;
    }
    
    return newErrors
  }

  const handleChange = (e) =&gt; {
    const { name, value } = e.target
    setFormData(prev =&gt; ({
      ...prev,
      [name]: value
    }))
    
    // æ¸…é™¤å¯¹åº”å­—æ®µçš„é”™è¯¯
    if (errors[name]) {
      setErrors(prev =&gt; ({
        ...prev,
        [name]: &#39;&#39;
      }))
    }
  }

  const handleSubmit = async (e) =&gt; {
    e.preventDefault()
    
    const validationErrors = validateForm()
    if (Object.keys(validationErrors).length &gt; 0) {
      setErrors(validationErrors)
      return
    }
    
    try {
      await onSubmit(formData)
      setSubmitted(true)
    } catch (error) {
      setErrors({ submit: error.message })
    }
  }

  if (submitted) {
    return (
      &lt;div className=&quot;success-message&quot;&gt;
        &lt;h3&gt;æäº¤æˆåŠŸ!&lt;/h3&gt;
        &lt;p&gt;æ„Ÿè°¢æ‚¨çš„åé¦ˆï¼Œæˆ‘ä»¬ä¼šå°½å¿«å›å¤æ‚¨ã€‚&lt;/p&gt;
      &lt;/div&gt;
    )
  }

  return (
    &lt;form onSubmit={handleSubmit}&gt;
      &lt;div&gt;
        &lt;label htmlFor=&quot;name&quot;&gt;å§“å&lt;/label&gt;
        &lt;input
          type=&quot;text&quot;
          id=&quot;name&quot;
          name=&quot;name&quot;
          value={formData.name}
          onChange={handleChange}
        /&gt;
        {errors.name &amp;&amp; &lt;span className=&quot;error&quot;&gt;{errors.name}&lt;/span&gt;}
      &lt;/div&gt;

      &lt;div&gt;
        &lt;label htmlFor=&quot;email&quot;&gt;é‚®ç®±&lt;/label&gt;
        &lt;input
          type=&quot;email&quot;
          id=&quot;email&quot;
          name=&quot;email&quot;
          value={formData.email}
          onChange={handleChange}
        /&gt;
        {errors.email &amp;&amp; &lt;span className=&quot;error&quot;&gt;{errors.email}&lt;/span&gt;}
      &lt;/div&gt;

      &lt;div&gt;
        &lt;label htmlFor=&quot;message&quot;&gt;æ¶ˆæ¯&lt;/label&gt;
        &lt;textarea
          id=&quot;message&quot;
          name=&quot;message&quot;
          value={formData.message}
          onChange={handleChange}
        /&gt;
        {errors.message &amp;&amp; &lt;span className=&quot;error&quot;&gt;{errors.message}&lt;/span&gt;}
      &lt;/div&gt;

      {errors.submit &amp;&amp; &lt;div className=&quot;error&quot;&gt;{errors.submit}&lt;/div&gt;}

      &lt;button type=&quot;submit&quot;&gt;æäº¤&lt;/button&gt;
    &lt;/form&gt;
  )
}

export default ContactForm
</code></pre>
<pre><code class="language-jsx">// ContactForm.test.jsx
import React from &#39;react&#39;
import { render, screen, waitFor } from &#39;@testing-library/react&#39;
import userEvent from &#39;@testing-library/user-event&#39;
import ContactForm from &#39;./ContactForm&#39;

describe(&#39;ContactForm é›†æˆæµ‹è¯•&#39;, () =&gt; {
  test(&#39;æˆåŠŸæäº¤è¡¨å•&#39;, async () =&gt; {
    const user = userEvent.setup()
    const mockSubmit = jest.fn().mockResolvedValue()
    
    render(&lt;ContactForm onSubmit={mockSubmit} /&gt;)
    
    // å¡«å†™è¡¨å•
    await user.type(screen.getByLabelText(&#39;å§“å&#39;), &#39;John Doe&#39;)
    await user.type(screen.getByLabelText(&#39;é‚®ç®±&#39;), &#39;john@example.com&#39;)
    await user.type(screen.getByLabelText(&#39;æ¶ˆæ¯&#39;), &#39;This is a test message for the contact form&#39;)
    
    // æäº¤è¡¨å•
    await user.click(screen.getByText(&#39;æäº¤&#39;))
    
    // éªŒè¯æäº¤å‡½æ•°è¢«è°ƒç”¨
    await waitFor(() =&gt; {
      expect(mockSubmit).toHaveBeenCalledWith({
        name: &#39;John Doe&#39;,
        email: &#39;john@example.com&#39;,
        message: &#39;This is a test message for the contact form&#39;
      })
    })
    
    // éªŒè¯æˆåŠŸæ¶ˆæ¯æ˜¾ç¤º
    expect(screen.getByText(&#39;æäº¤æˆåŠŸ!&#39;)).toBeInTheDocument()
    expect(screen.getByText(&#39;æ„Ÿè°¢æ‚¨çš„åé¦ˆï¼Œæˆ‘ä»¬ä¼šå°½å¿«å›å¤æ‚¨ã€‚&#39;)).toBeInTheDocument()
  })

  test(&#39;è¡¨å•éªŒè¯é”™è¯¯å¤„ç†&#39;, async () =&gt; {
    const user = userEvent.setup()
    const mockSubmit = jest.fn()
    
    render(&lt;ContactForm onSubmit={mockSubmit} /&gt;)
    
    // ç›´æ¥æäº¤ç©ºè¡¨å•
    await user.click(screen.getByText(&#39;æäº¤&#39;))
    
    // éªŒè¯é”™è¯¯æ¶ˆæ¯æ˜¾ç¤º
    expect(screen.getByText(&#39;å§“åæ˜¯å¿…å¡«é¡¹&#39;)).toBeInTheDocument()
    expect(screen.getByText(&#39;é‚®ç®±æ˜¯å¿…å¡«é¡¹&#39;)).toBeInTheDocument()
    expect(screen.getByText(&#39;æ¶ˆæ¯æ˜¯å¿…å¡«é¡¹&#39;)).toBeInTheDocument()
    
    // éªŒè¯æäº¤å‡½æ•°æœªè¢«è°ƒç”¨
    expect(mockSubmit).not.toHaveBeenCalled()
  })

  test(&#39;é‚®ç®±æ ¼å¼éªŒè¯&#39;, async () =&gt; {
    const user = userEvent.setup()
    const mockSubmit = jest.fn()
    
    render(&lt;ContactForm onSubmit={mockSubmit} /&gt;)
    
    // è¾“å…¥æ— æ•ˆé‚®ç®±
    await user.type(screen.getByLabelText(&#39;é‚®ç®±&#39;), &#39;invalid-email&#39;)
    await user.click(screen.getByText(&#39;æäº¤&#39;))
    
    // éªŒè¯é‚®ç®±æ ¼å¼é”™è¯¯
    expect(screen.getByText(&#39;è¯·è¾“å…¥æœ‰æ•ˆçš„é‚®ç®±åœ°å€&#39;)).toBeInTheDocument()
    expect(mockSubmit).not.toHaveBeenCalled()
  })

  test(&#39;æ¶ˆæ¯é•¿åº¦éªŒè¯&#39;, async () =&gt; {
    const user = userEvent.setup()
    const mockSubmit = jest.fn()
    
    render(&lt;ContactForm onSubmit={mockSubmit} /&gt;)
    
    // è¾“å…¥è¿‡çŸ­çš„æ¶ˆæ¯
    await user.type(screen.getByLabelText(&#39;æ¶ˆæ¯&#39;), &#39;short&#39;)
    await user.click(screen.getByText(&#39;æäº¤&#39;))
    
    // éªŒè¯æ¶ˆæ¯é•¿åº¦é”™è¯¯
    expect(screen.getByText(&#39;æ¶ˆæ¯è‡³å°‘éœ€è¦10ä¸ªå­—ç¬¦&#39;)).toBeInTheDocument()
    expect(mockSubmit).not.toHaveBeenCalled()
  })

  test(&#39;å®æ—¶éªŒè¯ - é”™è¯¯æ¶ˆæ¯æ¸…é™¤&#39;, async () =&gt; {
    const user = userEvent.setup()
    const mockSubmit = jest.fn()
    
    render(&lt;ContactForm onSubmit={mockSubmit} /&gt;)
    
    // å…ˆè§¦å‘éªŒè¯é”™è¯¯
    await user.click(screen.getByText(&#39;æäº¤&#39;))
    expect(screen.getByText(&#39;å§“åæ˜¯å¿…å¡«é¡¹&#39;)).toBeInTheDocument()
    
    // è¾“å…¥å§“åï¼ŒéªŒè¯é”™è¯¯æ¶ˆæ¯æ¶ˆå¤±
    await user.type(screen.getByLabelText(&#39;å§“å&#39;), &#39;John&#39;)
    expect(screen.queryByText(&#39;å§“åæ˜¯å¿…å¡«é¡¹&#39;)).not.toBeInTheDocument()
  })
})
</code></pre>
<h2>æ€§èƒ½é›†æˆæµ‹è¯•</h2>
<h3>ç»„ä»¶æ¸²æŸ“æ€§èƒ½æµ‹è¯•</h3>
<pre><code class="language-jsx">// PerformanceTest.jsx
import React, { useState, useMemo } from &#39;react&#39;

function ExpensiveComponent({ data }) {
  const processedData = useMemo(() =&gt; {
    // æ¨¡æ‹Ÿæ˜‚è´µçš„è®¡ç®—
    return data.map(item =&gt; ({
      ...item,
      processed: item.value * 2
    }))
  }, [data])

  return (
    &lt;div&gt;
      {processedData.map(item =&gt; (
        &lt;div key={item.id}&gt;{item.processed}&lt;/div&gt;
      ))}
    &lt;/div&gt;
  )
}

function PerformanceTest() {
  const [data, setData] = useState([])
  const [counter, setCounter] = useState(0)

  const generateData = () =&gt; {
    const newData = Array.from({ length: 1000 }, (_, i) =&gt; ({
      id: i,
      value: Math.random() * 100
    }))
    setData(newData)
  }

  return (
    &lt;div&gt;
      &lt;button onClick={generateData}&gt;ç”Ÿæˆæ•°æ®&lt;/button&gt;
      &lt;button onClick={() =&gt; setCounter(c =&gt; c + 1)}&gt;
        è®¡æ•°å™¨: {counter}
      &lt;/button&gt;
      &lt;ExpensiveComponent data={data} /&gt;
    &lt;/div&gt;
  )
}

export default PerformanceTest
</code></pre>
<pre><code class="language-jsx">// PerformanceTest.test.jsx
import React from &#39;react&#39;
import { render, screen } from &#39;@testing-library/react&#39;
import userEvent from &#39;@testing-library/user-event&#39;
import PerformanceTest from &#39;./PerformanceTest&#39;

describe(&#39;PerformanceTest æ€§èƒ½é›†æˆæµ‹è¯•&#39;, () =&gt; {
  test(&#39;ç»„ä»¶æ¸²æŸ“æ€§èƒ½&#39;, async () =&gt; {
    const user = userEvent.setup()
    
    render(&lt;PerformanceTest /&gt;)
    
    // æµ‹é‡é¦–æ¬¡æ¸²æŸ“æ—¶é—´
    const renderStart = performance.now()
    await user.click(screen.getByText(&#39;ç”Ÿæˆæ•°æ®&#39;))
    const renderEnd = performance.now()
    
    console.log(`é¦–æ¬¡æ¸²æŸ“æ—¶é—´: ${renderEnd - renderStart}ms`)
    
    // éªŒè¯æ•°æ®æ¸²æŸ“
    expect(screen.getByText(/\d+/)).toBeInTheDocument()
    
    // æµ‹é‡é‡æ–°æ¸²æŸ“æ—¶é—´
    const reRenderStart = performance.now()
    await user.click(screen.getByText(/è®¡æ•°å™¨:/))
    const reRenderEnd = performance.now()
    
    console.log(`é‡æ–°æ¸²æŸ“æ—¶é—´: ${reRenderEnd - reRenderStart}ms`)
    
    // éªŒè¯æ€§èƒ½è¦æ±‚
    expect(renderEnd - renderStart).toBeLessThan(1000) // é¦–æ¬¡æ¸²æŸ“ä¸è¶…è¿‡1ç§’
    expect(reRenderEnd - reRenderStart).toBeLessThan(100) // é‡æ–°æ¸²æŸ“ä¸è¶…è¿‡100ms
  })
})
</code></pre>
<h2>æœ€ä½³å®è·µ</h2>
<h3>1. æµ‹è¯•ç­–ç•¥</h3>
<pre><code class="language-javascript">// æµ‹è¯•é‡‘å­—å¡”åŸåˆ™
// 70% å•å…ƒæµ‹è¯• - æµ‹è¯•å•ä¸ªç»„ä»¶æˆ–å‡½æ•°
// 20% é›†æˆæµ‹è¯• - æµ‹è¯•ç»„ä»¶é—´äº¤äº’
// 10% ç«¯åˆ°ç«¯æµ‹è¯• - æµ‹è¯•å®Œæ•´ç”¨æˆ·æµç¨‹
</code></pre>
<h3>2. æµ‹è¯•æ–‡ä»¶ç»„ç»‡</h3>
<pre><code>src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ Button/
â”‚   â”‚   â”œâ”€â”€ Button.jsx
â”‚   â”‚   â”œâ”€â”€ Button.test.jsx          # å•å…ƒæµ‹è¯•
â”‚   â”‚   â””â”€â”€ Button.integration.test.jsx # é›†æˆæµ‹è¯•
â”‚   â””â”€â”€ Form/
â”‚       â”œâ”€â”€ Form.jsx
â”‚       â”œâ”€â”€ Form.test.jsx
â”‚       â””â”€â”€ Form.integration.test.jsx
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ Home/
â”‚   â”‚   â”œâ”€â”€ Home.jsx
â”‚   â”‚   â””â”€â”€ Home.integration.test.jsx
â”‚   â””â”€â”€ About/
â”‚       â”œâ”€â”€ About.jsx
â”‚       â””â”€â”€ About.integration.test.jsx
â””â”€â”€ __tests__/
    â”œâ”€â”€ integration/
    â”‚   â”œâ”€â”€ user-flow.test.jsx       # ç”¨æˆ·æµç¨‹æµ‹è¯•
    â”‚   â””â”€â”€ api-integration.test.jsx # APIé›†æˆæµ‹è¯•
    â””â”€â”€ e2e/
        â””â”€â”€ app.e2e.test.jsx        # ç«¯åˆ°ç«¯æµ‹è¯•
</code></pre>
<h3>3. æµ‹è¯•å·¥å…·é…ç½®</h3>
<pre><code class="language-javascript">// test-utils.jsx
import React from &#39;react&#39;
import { render as rtlRender } from &#39;@testing-library/react&#39;
import { BrowserRouter } from &#39;react-router-dom&#39;
import { AuthProvider } from &#39;../contexts/AuthContext&#39;

function render(ui, { initialEntries = [&#39;/&#39;], ...renderOptions } = {}) {
  function Wrapper({ children }) {
    return (
      &lt;BrowserRouter&gt;
        &lt;AuthProvider&gt;
          {children}
        &lt;/AuthProvider&gt;
      &lt;/BrowserRouter&gt;
    )
  }
  return rtlRender(ui, { wrapper: Wrapper, ...renderOptions })
}

export * from &#39;@testing-library/react&#39;
export { render }
</code></pre>
<h3>4. æµ‹è¯•æ•°æ®ç®¡ç†</h3>
<pre><code class="language-javascript">// test-data.js
export const mockUsers = [
  { id: 1, name: &#39;Alice&#39;, email: &#39;alice@example.com&#39; },
  { id: 2, name: &#39;Bob&#39;, email: &#39;bob@example.com&#39; }
]

export const mockApiResponse = {
  users: mockUsers,
  pagination: { page: 1, total: 2 }
}

export const createMockUser = (overrides = {}) =&gt; ({
  id: Math.random(),
  name: &#39;Test User&#39;,
  email: &#39;test@example.com&#39;,
  ...overrides
})
</code></pre>
<h3>5. å¼‚æ­¥æµ‹è¯•å¤„ç†</h3>
<pre><code class="language-jsx">// ä½¿ç”¨ waitFor ç­‰å¾…å¼‚æ­¥æ“ä½œ
await waitFor(() =&gt; {
  expect(screen.getByText(&#39;åŠ è½½å®Œæˆ&#39;)).toBeInTheDocument()
})

// ä½¿ç”¨ findBy æŸ¥æ‰¾å¼‚æ­¥å…ƒç´ 
const asyncElement = await screen.findByText(&#39;å¼‚æ­¥å†…å®¹&#39;)

// ä½¿ç”¨ act åŒ…è£…å¼‚æ­¥æ“ä½œ
import { act } from &#39;@testing-library/react&#39;

await act(async () =&gt; {
  fireEvent.click(button)
})
</code></pre>
<h2>æ€»ç»“</h2>
<p>é›†æˆæµ‹è¯•æ˜¯ç¡®ä¿Reactåº”ç”¨è´¨é‡çš„é‡è¦ç¯èŠ‚ï¼Œå®ƒèƒ½å¤Ÿï¼š</p>
<ol>
<li><strong>éªŒè¯ç»„ä»¶åä½œ</strong> - ç¡®ä¿ç»„ä»¶é—´æ­£ç¡®äº¤äº’</li>
<li><strong>æµ‹è¯•æ•°æ®æµ</strong> - éªŒè¯çŠ¶æ€ç®¡ç†å’Œæ•°æ®ä¼ é€’</li>
<li><strong>æ£€æŸ¥ç”¨æˆ·ä½“éªŒ</strong> - æµ‹è¯•å®Œæ•´çš„ç”¨æˆ·æ“ä½œæµç¨‹</li>
<li><strong>æ•è·é›†æˆé—®é¢˜</strong> - å‘ç°å•å…ƒæµ‹è¯•æ— æ³•å‘ç°çš„é—®é¢˜</li>
<li><strong>æé«˜ä¿¡å¿ƒ</strong> - å¢å¼ºå¯¹åº”ç”¨æ•´ä½“åŠŸèƒ½çš„ä¿¡å¿ƒ</li>
</ol>
<p>é€šè¿‡åˆç†çš„æµ‹è¯•ç­–ç•¥å’Œå·¥å…·é…ç½®ï¼Œå¯ä»¥å»ºç«‹ä¸€ä¸ªé«˜æ•ˆçš„é›†æˆæµ‹è¯•ä½“ç³»ï¼Œç¡®ä¿Reactåº”ç”¨çš„ç¨³å®šæ€§å’Œå¯é æ€§ã€‚ </p>

          </div>

          <!-- æ–‡æ¡£å¯¼èˆª -->
          <div class="doc-navigation">
            
              <a href="27-å•å…ƒæµ‹è¯•.html" class="nav-btn prev-btn">
                <span class="nav-icon">â†</span>
                <div class="nav-text">
                  <span class="nav-label">ä¸Šä¸€ç¯‡</span>
                  <span class="nav-title">å•å…ƒæµ‹è¯•</span>
                </div>
              </a>
            
            
            
              <a href="29-é¡¹ç›®æ„å»º.html" class="nav-btn next-btn">
                <div class="nav-text">
                  <span class="nav-label">ä¸‹ä¸€ç¯‡</span>
                  <span class="nav-title">é¡¹ç›®æ„å»º</span>
                </div>
                <span class="nav-icon">â†’</span>
              </a>
            
          </div>
        </article>
      </main>
    </div>

    <!-- è¿”å›é¡¶éƒ¨æŒ‰é’® -->
    <button class="back-to-top" id="backToTop" onclick="scrollToTop()">
      <span>â†‘</span>
    </button>

    <!-- åº•éƒ¨ -->
    <footer class="footer">
      <div class="footer-content">
        <p>&copy; 2024 React ä¸­æ–‡æ–‡æ¡£. åŸºäº React 18.x æ„å»º</p>
        <p>Made with â¤ï¸ by Reactä¸­æ–‡ç¤¾åŒº</p>
      </div>
    </footer>
  </div>

  <script src="assets/script.js"></script>
</body>
</html>