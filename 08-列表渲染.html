<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>åˆ—è¡¨æ¸²æŸ“ - React ä¸­æ–‡æ–‡æ¡£</title>
  <meta name="description" content="ä»å…¥é—¨åˆ°ç²¾é€šï¼Œå…¨é¢æŒæ¡Reactå¼€å‘æŠ€èƒ½">
  <link rel="stylesheet" href="assets/style.css">
  <link rel="stylesheet" href="assets/highlight.css">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>âš›ï¸</text></svg>">
</head>
<body>
  <div class="container">
    <!-- é¡¶éƒ¨å¯¼èˆª -->
    <header class="header">
      <div class="header-content">
        <div class="logo">
          <span class="logo-icon">âš›ï¸</span>
          <div class="logo-text">
            <h1>React ä¸­æ–‡æ–‡æ¡£</h1>
            <p>ç°ä»£åŒ–çš„Reactå­¦ä¹ æŒ‡å—</p>
          </div>
        </div>
        <nav class="header-nav">
          <a href="index.html" class="nav-link">é¦–é¡µ</a>
          <a href="#" class="nav-link" onclick="toggleSidebar()">ç›®å½•</a>
          <a href="https://github.com/facebook/react" target="_blank" class="nav-link">GitHub</a>
        </nav>
      </div>
    </header>

    <div class="main-layout">
      <!-- ä¾§è¾¹æ  -->
      <aside class="sidebar" id="sidebar">
        <div class="sidebar-content">
          <div class="search-box">
            <input type="text" placeholder="æœç´¢æ–‡æ¡£..." id="searchInput" onkeyup="searchDocs()">
            <span class="search-icon">ğŸ”</span>
          </div>
          <nav class="doc-nav">
            
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ“š</span>
          åŸºç¡€æ¦‚å¿µ
        </h3>
        <ul class="category-docs">
          <li><a href="01-Reactç®€ä»‹.html" class="doc-link">Reactç®€ä»‹</a></li><li><a href="02-ç¯å¢ƒæ­å»º.html" class="doc-link">ç¯å¢ƒæ­å»º</a></li><li><a href="03-JSXè¯­æ³•.html" class="doc-link">JSXè¯­æ³•</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ§©</span>
          ç»„ä»¶å¼€å‘
        </h3>
        <ul class="category-docs">
          <li><a href="04-ç»„ä»¶åŸºç¡€.html" class="doc-link">ç»„ä»¶åŸºç¡€</a></li><li><a href="05-Propsä¸State.html" class="doc-link">Propsä¸State</a></li><li><a href="06-äº‹ä»¶å¤„ç†.html" class="doc-link">äº‹ä»¶å¤„ç†</a></li><li><a href="07-æ¡ä»¶æ¸²æŸ“.html" class="doc-link">æ¡ä»¶æ¸²æŸ“</a></li><li><a href="08-åˆ—è¡¨æ¸²æŸ“.html" class="doc-link">åˆ—è¡¨æ¸²æŸ“</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ£</span>
          Hooks API
        </h3>
        <ul class="category-docs">
          <li><a href="09-Hooksæ¦‚è¿°.html" class="doc-link">Hooksæ¦‚è¿°</a></li><li><a href="10-useState.html" class="doc-link">useState</a></li><li><a href="11-useEffect.html" class="doc-link">useEffect</a></li><li><a href="12-useContext.html" class="doc-link">useContext</a></li><li><a href="13-useReducer.html" class="doc-link">useReducer</a></li><li><a href="14-useMemoå’ŒuseCallback.html" class="doc-link">useMemoå’ŒuseCallback</a></li><li><a href="15-useRef.html" class="doc-link">useRef</a></li><li><a href="16-è‡ªå®šä¹‰Hooks.html" class="doc-link">è‡ªå®šä¹‰Hooks</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ”„</span>
          ç”Ÿå‘½å‘¨æœŸ
        </h3>
        <ul class="category-docs">
          <li><a href="17-ç”Ÿå‘½å‘¨æœŸæ–¹æ³•.html" class="doc-link">ç”Ÿå‘½å‘¨æœŸæ–¹æ³•</a></li><li><a href="18-å‰¯ä½œç”¨å¤„ç†.html" class="doc-link">å‰¯ä½œç”¨å¤„ç†</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ¨</span>
          æ ·å¼ä¸UI
        </h3>
        <ul class="category-docs">
          <li><a href="19-æ ·å¼å¤„ç†.html" class="doc-link">æ ·å¼å¤„ç†</a></li><li><a href="20-åŠ¨ç”»æ•ˆæœ.html" class="doc-link">åŠ¨ç”»æ•ˆæœ</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ—ºï¸</span>
          è·¯ç”±ç®¡ç†
        </h3>
        <ul class="category-docs">
          <li><a href="21-React-Router.html" class="doc-link">React-Router</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ“¦</span>
          çŠ¶æ€ç®¡ç†
        </h3>
        <ul class="category-docs">
          <li><a href="22-Context-API.html" class="doc-link">Context-API</a></li><li><a href="23-Reduxé›†æˆ.html" class="doc-link">Reduxé›†æˆ</a></li><li><a href="24-ZustandçŠ¶æ€ç®¡ç†.html" class="doc-link">ZustandçŠ¶æ€ç®¡ç†</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸš€</span>
          æ€§èƒ½ä¼˜åŒ–
        </h3>
        <ul class="category-docs">
          <li><a href="25-æ€§èƒ½ä¼˜åŒ–æŠ€å·§.html" class="doc-link">æ€§èƒ½ä¼˜åŒ–æŠ€å·§</a></li><li><a href="26-ä»£ç åˆ†å‰².html" class="doc-link">ä»£ç åˆ†å‰²</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ§ª</span>
          æµ‹è¯•
        </h3>
        <ul class="category-docs">
          <li><a href="27-å•å…ƒæµ‹è¯•.html" class="doc-link">å•å…ƒæµ‹è¯•</a></li><li><a href="28-é›†æˆæµ‹è¯•.html" class="doc-link">é›†æˆæµ‹è¯•</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ—ï¸</span>
          æ„å»ºä¸éƒ¨ç½²
        </h3>
        <ul class="category-docs">
          <li><a href="29-é¡¹ç›®æ„å»º.html" class="doc-link">é¡¹ç›®æ„å»º</a></li><li><a href="30-ç”Ÿäº§éƒ¨ç½².html" class="doc-link">ç”Ÿäº§éƒ¨ç½²</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ› ï¸</span>
          å¼€å‘å·¥å…·
        </h3>
        <ul class="category-docs">
          <li><a href="31-å¼€å‘è€…å·¥å…·.html" class="doc-link">å¼€å‘è€…å·¥å…·</a></li><li><a href="32-è°ƒè¯•æŠ€å·§.html" class="doc-link">è°ƒè¯•æŠ€å·§</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ“–</span>
          APIå‚è€ƒ
        </h3>
        <ul class="category-docs">
          <li><a href="33-React-APIå®Œæ•´å‚è€ƒ.html" class="doc-link">React-APIå®Œæ•´å‚è€ƒ</a></li><li><a href="34-DOMå…ƒç´ å±æ€§.html" class="doc-link">DOMå…ƒç´ å±æ€§</a></li><li><a href="35-åˆæˆäº‹ä»¶.html" class="doc-link">åˆæˆäº‹ä»¶</a></li><li><a href="React-Hookså®Œæ•´å‚è€ƒ.html" class="doc-link">React-Hookså®Œæ•´å‚è€ƒ</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ’¡</span>
          æœ€ä½³å®è·µ
        </h3>
        <ul class="category-docs">
          <li><a href="36-ç¼–ç è§„èŒƒ.html" class="doc-link">ç¼–ç è§„èŒƒ</a></li><li><a href="37-é¡¹ç›®æ¶æ„.html" class="doc-link">é¡¹ç›®æ¶æ„</a></li><li><a href="38-å¸¸è§é—®é¢˜.html" class="doc-link">å¸¸è§é—®é¢˜</a></li>
        </ul>
      </div>
          </nav>
        </div>
      </aside>

      <!-- ä¸»å†…å®¹åŒº -->
      <main class="content">
        <article class="doc-article">
          <div class="doc-header">
            <div class="breadcrumb">
              <a href="index.html">é¦–é¡µ</a>
              <span class="separator">></span>
              <span class="current">åˆ—è¡¨æ¸²æŸ“</span>
            </div>
            <h1 class="doc-title">åˆ—è¡¨æ¸²æŸ“</h1>
            <div class="doc-meta">
              <span class="category" style="background: #f093fb">
                ğŸ§© ç»„ä»¶å¼€å‘
              </span>
            </div>
          </div>
          
          <div class="doc-content">
            <h1>08-åˆ—è¡¨æ¸²æŸ“</h1>
<p>åœ¨Reactä¸­æ¸²æŸ“æ•°æ®åˆ—è¡¨æ˜¯ä¸€ä¸ªå¸¸è§éœ€æ±‚ã€‚Reactæä¾›äº†å¼ºå¤§çš„æ–¹å¼æ¥å¤„ç†åŠ¨æ€åˆ—è¡¨ï¼ŒåŒ…æ‹¬ä½¿ç”¨map()æ–¹æ³•ã€keyå±æ€§ä»¥åŠå„ç§ä¼˜åŒ–æŠ€å·§ã€‚</p>
<h2>åŸºç¡€åˆ—è¡¨æ¸²æŸ“</h2>
<h3>ä½¿ç”¨map()æ–¹æ³•</h3>
<pre><code class="language-jsx">function NumberList({ numbers }) {
  const listItems = numbers.map((number) =&gt;
    &lt;li key={number.toString()}&gt;
      {number}
    &lt;/li&gt;
  );

  return (
    &lt;ul&gt;{listItems}&lt;/ul&gt;
  );
}

// ä½¿ç”¨
const numbers = [1, 2, 3, 4, 5];
&lt;NumberList numbers={numbers} /&gt;
</code></pre>
<h3>å†…è”map()</h3>
<pre><code class="language-jsx">function NumberList({ numbers }) {
  return (
    &lt;ul&gt;
      {numbers.map((number) =&gt;
        &lt;li key={number.toString()}&gt;
          {number}
        &lt;/li&gt;
      )}
    &lt;/ul&gt;
  );
}
</code></pre>
<h2>Keyçš„é‡è¦æ€§</h2>
<h3>ä¸ºä»€ä¹ˆéœ€è¦key</h3>
<p>Keyå¸®åŠ©Reactè¯†åˆ«å“ªäº›å…ƒç´ æ”¹å˜äº†ï¼Œæ¯”å¦‚è¢«æ·»åŠ æˆ–åˆ é™¤ã€‚å› æ­¤ä½ åº”å½“ç»™æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ èµ‹äºˆä¸€ä¸ªç¡®å®šçš„æ ‡è¯†ã€‚</p>
<pre><code class="language-jsx">// âŒ é”™è¯¯ï¼šæ²¡æœ‰key
function BadList({ items }) {
  return (
    &lt;ul&gt;
      {items.map(item =&gt; (
        &lt;li&gt;{item.name}&lt;/li&gt;
      ))}
    &lt;/ul&gt;
  );
}

// âœ… æ­£ç¡®ï¼šä½¿ç”¨å”¯ä¸€çš„key
function GoodList({ items }) {
  return (
    &lt;ul&gt;
      {items.map(item =&gt; (
        &lt;li key={item.id}&gt;{item.name}&lt;/li&gt;
      ))}
    &lt;/ul&gt;
  );
}
</code></pre>
<h3>Keyçš„é€‰æ‹©</h3>
<pre><code class="language-jsx">function TodoList({ todos }) {
  return (
    &lt;ul&gt;
      {todos.map((todo) =&gt; (
        &lt;TodoItem
          key={todo.id}  // âœ… ä½¿ç”¨ç¨³å®šã€å”¯ä¸€çš„ID
          todo={todo}
        /&gt;
      ))}
    &lt;/ul&gt;
  );
}

// âŒ é¿å…ä½¿ç”¨æ•°ç»„ç´¢å¼•ä½œä¸ºkeyï¼ˆé™¤éåˆ—è¡¨æ˜¯é™æ€çš„ï¼‰
function BadTodoList({ todos }) {
  return (
    &lt;ul&gt;
      {todos.map((todo, index) =&gt; (
        &lt;TodoItem
          key={index}  // âŒ å¯èƒ½å¯¼è‡´æ€§èƒ½é—®é¢˜å’ŒçŠ¶æ€é”™ä¹±
          todo={todo}
        /&gt;
      ))}
    &lt;/ul&gt;
  );
}
</code></pre>
<h3>ä½•æ—¶å¯ä»¥ä½¿ç”¨ç´¢å¼•ä½œä¸ºkey</h3>
<pre><code class="language-jsx">// âœ… é™æ€åˆ—è¡¨å¯ä»¥ä½¿ç”¨ç´¢å¼•
function StaticMenu({ menuItems }) {
  return (
    &lt;nav&gt;
      {menuItems.map((item, index) =&gt; (
        &lt;a key={index} href={item.url}&gt;
          {item.label}
        &lt;/a&gt;
      ))}
    &lt;/nav&gt;
  );
}

// âœ… åˆ—è¡¨ä¸ä¼šé‡æ–°æ’åºã€æ·»åŠ æˆ–åˆ é™¤æ—¶
function ReadOnlyList({ items }) {
  return (
    &lt;ul&gt;
      {items.map((item, index) =&gt; (
        &lt;li key={index}&gt;{item}&lt;/li&gt;
      ))}
    &lt;/ul&gt;
  );
}
</code></pre>
<h2>å¤æ‚åˆ—è¡¨æ¸²æŸ“</h2>
<h3>æ¸²æŸ“å¯¹è±¡æ•°ç»„</h3>
<pre><code class="language-jsx">function UserList({ users }) {
  return (
    &lt;div className=&quot;user-list&quot;&gt;
      {users.map(user =&gt; (
        &lt;div key={user.id} className=&quot;user-card&quot;&gt;
          &lt;img src={user.avatar} alt={user.name} /&gt;
          &lt;h3&gt;{user.name}&lt;/h3&gt;
          &lt;p&gt;{user.email}&lt;/p&gt;
          &lt;span className={`status ${user.isOnline ? &#39;online&#39; : &#39;offline&#39;}`}&gt;
            {user.isOnline ? &#39;åœ¨çº¿&#39; : &#39;ç¦»çº¿&#39;}
          &lt;/span&gt;
        &lt;/div&gt;
      ))}
    &lt;/div&gt;
  );
}
</code></pre>
<h3>åµŒå¥—åˆ—è¡¨</h3>
<pre><code class="language-jsx">function CategoryList({ categories }) {
  return (
    &lt;div&gt;
      {categories.map(category =&gt; (
        &lt;div key={category.id} className=&quot;category&quot;&gt;
          &lt;h2&gt;{category.name}&lt;/h2&gt;
          &lt;ul&gt;
            {category.items.map(item =&gt; (
              &lt;li key={item.id}&gt;
                &lt;span&gt;{item.name}&lt;/span&gt;
                &lt;span className=&quot;price&quot;&gt;${item.price}&lt;/span&gt;
              &lt;/li&gt;
            ))}
          &lt;/ul&gt;
        &lt;/div&gt;
      ))}
    &lt;/div&gt;
  );
}
</code></pre>
<h3>æ¡ä»¶åˆ—è¡¨æ¸²æŸ“</h3>
<pre><code class="language-jsx">function ProductList({ products, showOutOfStock }) {
  const filteredProducts = products.filter(product =&gt; 
    showOutOfStock || product.inStock
  );

  return (
    &lt;div className=&quot;product-grid&quot;&gt;
      {filteredProducts.map(product =&gt; (
        &lt;div key={product.id} className=&quot;product-card&quot;&gt;
          &lt;h3&gt;{product.name}&lt;/h3&gt;
          &lt;p&gt;${product.price}&lt;/p&gt;
          {!product.inStock &amp;&amp; (
            &lt;span className=&quot;out-of-stock&quot;&gt;ç¼ºè´§&lt;/span&gt;
          )}
        &lt;/div&gt;
      ))}
    &lt;/div&gt;
  );
}
</code></pre>
<h2>åˆ—è¡¨æ“ä½œ</h2>
<h3>æ·»åŠ é¡¹ç›®</h3>
<pre><code class="language-jsx">function TodoApp() {
  const [todos, setTodos] = useState([]);
  const [inputValue, setInputValue] = useState(&#39;&#39;);

  const addTodo = () =&gt; {
    if (inputValue.trim()) {
      const newTodo = {
        id: Date.now(), // ç®€å•çš„IDç”Ÿæˆï¼Œå®é™…é¡¹ç›®ä¸­ä½¿ç”¨uuid
        text: inputValue,
        completed: false
      };
      setTodos([...todos, newTodo]);
      setInputValue(&#39;&#39;);
    }
  };

  return (
    &lt;div&gt;
      &lt;input
        value={inputValue}
        onChange={(e) =&gt; setInputValue(e.target.value)}
        onKeyPress={(e) =&gt; e.key === &#39;Enter&#39; &amp;&amp; addTodo()}
      /&gt;
      &lt;button onClick={addTodo}&gt;æ·»åŠ &lt;/button&gt;
      &lt;ul&gt;
        {todos.map(todo =&gt; (
          &lt;li key={todo.id}&gt;
            {todo.text}
          &lt;/li&gt;
        ))}
      &lt;/ul&gt;
    &lt;/div&gt;
  );
}
</code></pre>
<h3>åˆ é™¤é¡¹ç›®</h3>
<pre><code class="language-jsx">function TodoApp() {
  const [todos, setTodos] = useState([
    { id: 1, text: &#39;å­¦ä¹ React&#39;, completed: false },
    { id: 2, text: &#39;ç»ƒä¹ ç¼–ç¨‹&#39;, completed: true }
  ]);

  const deleteTodo = (id) =&gt; {
    setTodos(todos.filter(todo =&gt; todo.id !== id));
  };

  return (
    &lt;ul&gt;
      {todos.map(todo =&gt; (
        &lt;li key={todo.id}&gt;
          &lt;span&gt;{todo.text}&lt;/span&gt;
          &lt;button onClick={() =&gt; deleteTodo(todo.id)}&gt;
            åˆ é™¤
          &lt;/button&gt;
        &lt;/li&gt;
      ))}
    &lt;/ul&gt;
  );
}
</code></pre>
<h3>æ›´æ–°é¡¹ç›®</h3>
<pre><code class="language-jsx">function TodoApp() {
  const [todos, setTodos] = useState([
    { id: 1, text: &#39;å­¦ä¹ React&#39;, completed: false },
    { id: 2, text: &#39;ç»ƒä¹ ç¼–ç¨‹&#39;, completed: false }
  ]);

  const toggleTodo = (id) =&gt; {
    setTodos(todos.map(todo =&gt;
      todo.id === id
        ? { ...todo, completed: !todo.completed }
        : todo
    ));
  };

  const updateTodoText = (id, newText) =&gt; {
    setTodos(todos.map(todo =&gt;
      todo.id === id
        ? { ...todo, text: newText }
        : todo
    ));
  };

  return (
    &lt;ul&gt;
      {todos.map(todo =&gt; (
        &lt;TodoItem
          key={todo.id}
          todo={todo}
          onToggle={toggleTodo}
          onUpdate={updateTodoText}
        /&gt;
      ))}
    &lt;/ul&gt;
  );
}

function TodoItem({ todo, onToggle, onUpdate }) {
  const [isEditing, setIsEditing] = useState(false);
  const [editText, setEditText] = useState(todo.text);

  const handleSave = () =&gt; {
    onUpdate(todo.id, editText);
    setIsEditing(false);
  };

  return (
    &lt;li className={todo.completed ? &#39;completed&#39; : &#39;&#39;}&gt;
      &lt;input
        type=&quot;checkbox&quot;
        checked={todo.completed}
        onChange={() =&gt; onToggle(todo.id)}
      /&gt;
      {isEditing ? (
        &lt;input
          value={editText}
          onChange={(e) =&gt; setEditText(e.target.value)}
          onBlur={handleSave}
          onKeyPress={(e) =&gt; e.key === &#39;Enter&#39; &amp;&amp; handleSave()}
          autoFocus
        /&gt;
      ) : (
        &lt;span onDoubleClick={() =&gt; setIsEditing(true)}&gt;
          {todo.text}
        &lt;/span&gt;
      )}
    &lt;/li&gt;
  );
}
</code></pre>
<h2>æ’åºå’Œç­›é€‰</h2>
<h3>æ’åºåˆ—è¡¨</h3>
<pre><code class="language-jsx">function UserList({ users }) {
  const [sortBy, setSortBy] = useState(&#39;name&#39;);
  const [sortOrder, setSortOrder] = useState(&#39;asc&#39;);

  const sortedUsers = useMemo(() =&gt; {
    return [...users].sort((a, b) =&gt; {
      const aValue = a[sortBy];
      const bValue = b[sortBy];
      
      if (sortOrder === &#39;asc&#39;) {
        return aValue &lt; bValue ? -1 : aValue &gt; bValue ? 1 : 0;
      } else {
        return aValue &gt; bValue ? -1 : aValue &lt; bValue ? 1 : 0;
      }
    });
  }, [users, sortBy, sortOrder]);

  const handleSort = (field) =&gt; {
    if (sortBy === field) {
      setSortOrder(sortOrder === &#39;asc&#39; ? &#39;desc&#39; : &#39;asc&#39;);
    } else {
      setSortBy(field);
      setSortOrder(&#39;asc&#39;);
    }
  };

  return (
    &lt;div&gt;
      &lt;div className=&quot;sort-controls&quot;&gt;
        &lt;button onClick={() =&gt; handleSort(&#39;name&#39;)}&gt;
          æŒ‰å§“åæ’åº {sortBy === &#39;name&#39; &amp;&amp; (sortOrder === &#39;asc&#39; ? &#39;â†‘&#39; : &#39;â†“&#39;)}
        &lt;/button&gt;
        &lt;button onClick={() =&gt; handleSort(&#39;age&#39;)}&gt;
          æŒ‰å¹´é¾„æ’åº {sortBy === &#39;age&#39; &amp;&amp; (sortOrder === &#39;asc&#39; ? &#39;â†‘&#39; : &#39;â†“&#39;)}
        &lt;/button&gt;
      &lt;/div&gt;
      &lt;ul&gt;
        {sortedUsers.map(user =&gt; (
          &lt;li key={user.id}&gt;
            {user.name} - {user.age}å²
          &lt;/li&gt;
        ))}
      &lt;/ul&gt;
    &lt;/div&gt;
  );
}
</code></pre>
<h3>æœç´¢å’Œç­›é€‰</h3>
<pre><code class="language-jsx">function ProductList({ products }) {
  const [searchTerm, setSearchTerm] = useState(&#39;&#39;);
  const [category, setCategory] = useState(&#39;all&#39;);
  const [priceRange, setPriceRange] = useState([0, 1000]);

  const filteredProducts = useMemo(() =&gt; {
    return products.filter(product =&gt; {
      const matchesSearch = product.name
        .toLowerCase()
        .includes(searchTerm.toLowerCase());
      
      const matchesCategory = category === &#39;all&#39; || product.category === category;
      
      const matchesPrice = product.price &gt;= priceRange[0] &amp;&amp; 
                          product.price &lt;= priceRange[1];

      return matchesSearch &amp;&amp; matchesCategory &amp;&amp; matchesPrice;
    });
  }, [products, searchTerm, category, priceRange]);

  const categories = useMemo(() =&gt; 
    [...new Set(products.map(p =&gt; p.category))], 
    [products]
  );

  return (
    &lt;div&gt;
      &lt;div className=&quot;filters&quot;&gt;
        &lt;input
          type=&quot;text&quot;
          placeholder=&quot;æœç´¢äº§å“...&quot;
          value={searchTerm}
          onChange={(e) =&gt; setSearchTerm(e.target.value)}
        /&gt;
        
        &lt;select value={category} onChange={(e) =&gt; setCategory(e.target.value)}&gt;
          &lt;option value=&quot;all&quot;&gt;æ‰€æœ‰åˆ†ç±»&lt;/option&gt;
          {categories.map(cat =&gt; (
            &lt;option key={cat} value={cat}&gt;{cat}&lt;/option&gt;
          ))}
        &lt;/select&gt;

        &lt;div&gt;
          ä»·æ ¼èŒƒå›´: ${priceRange[0]} - ${priceRange[1]}
          &lt;input
            type=&quot;range&quot;
            min=&quot;0&quot;
            max=&quot;1000&quot;
            value={priceRange[1]}
            onChange={(e) =&gt; setPriceRange([priceRange[0], Number(e.target.value)])}
          /&gt;
        &lt;/div&gt;
      &lt;/div&gt;

      &lt;div className=&quot;results&quot;&gt;
        æ‰¾åˆ° {filteredProducts.length} ä¸ªäº§å“
      &lt;/div&gt;

      &lt;div className=&quot;product-grid&quot;&gt;
        {filteredProducts.map(product =&gt; (
          &lt;div key={product.id} className=&quot;product-card&quot;&gt;
            &lt;h3&gt;{product.name}&lt;/h3&gt;
            &lt;p&gt;{product.category}&lt;/p&gt;
            &lt;p&gt;${product.price}&lt;/p&gt;
          &lt;/div&gt;
        ))}
      &lt;/div&gt;
    &lt;/div&gt;
  );
}
</code></pre>
<h2>åˆ†é¡µ</h2>
<h3>ç®€å•åˆ†é¡µ</h3>
<pre><code class="language-jsx">function PaginatedList({ items, itemsPerPage = 10 }) {
  const [currentPage, setCurrentPage] = useState(1);

  const totalPages = Math.ceil(items.length / itemsPerPage);
  
  const currentItems = useMemo(() =&gt; {
    const startIndex = (currentPage - 1) * itemsPerPage;
    return items.slice(startIndex, startIndex + itemsPerPage);
  }, [items, currentPage, itemsPerPage]);

  const goToPage = (page) =&gt; {
    setCurrentPage(Math.max(1, Math.min(page, totalPages)));
  };

  return (
    &lt;div&gt;
      &lt;ul&gt;
        {currentItems.map(item =&gt; (
          &lt;li key={item.id}&gt;{item.name}&lt;/li&gt;
        ))}
      &lt;/ul&gt;

      &lt;div className=&quot;pagination&quot;&gt;
        &lt;button 
          onClick={() =&gt; goToPage(currentPage - 1)}
          disabled={currentPage === 1}
        &gt;
          ä¸Šä¸€é¡µ
        &lt;/button&gt;
        
        &lt;span&gt;
          ç¬¬ {currentPage} é¡µï¼Œå…± {totalPages} é¡µ
        &lt;/span&gt;
        
        &lt;button 
          onClick={() =&gt; goToPage(currentPage + 1)}
          disabled={currentPage === totalPages}
        &gt;
          ä¸‹ä¸€é¡µ
        &lt;/button&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  );
}
</code></pre>
<h3>è™šæ‹Ÿæ»šåŠ¨</h3>
<pre><code class="language-jsx">import { FixedSizeList as List } from &#39;react-window&#39;;

function VirtualizedList({ items }) {
  const Row = ({ index, style }) =&gt; (
    &lt;div style={style}&gt;
      &lt;div className=&quot;list-item&quot;&gt;
        {items[index].name}
      &lt;/div&gt;
    &lt;/div&gt;
  );

  return (
    &lt;List
      height={400}
      itemCount={items.length}
      itemSize={50}
    &gt;
      {Row}
    &lt;/List&gt;
  );
}
</code></pre>
<h2>æ€§èƒ½ä¼˜åŒ–</h2>
<h3>ä½¿ç”¨React.memo</h3>
<pre><code class="language-jsx">const ListItem = React.memo(({ item, onDelete, onUpdate }) =&gt; {
  console.log(&#39;ListItem rendered:&#39;, item.id);
  
  return (
    &lt;div className=&quot;list-item&quot;&gt;
      &lt;span&gt;{item.name}&lt;/span&gt;
      &lt;button onClick={() =&gt; onDelete(item.id)}&gt;åˆ é™¤&lt;/button&gt;
      &lt;button onClick={() =&gt; onUpdate(item.id)}&gt;ç¼–è¾‘&lt;/button&gt;
    &lt;/div&gt;
  );
});

function OptimizedList({ items }) {
  const [list, setList] = useState(items);

  const handleDelete = useCallback((id) =&gt; {
    setList(prev =&gt; prev.filter(item =&gt; item.id !== id));
  }, []);

  const handleUpdate = useCallback((id) =&gt; {
    // æ›´æ–°é€»è¾‘
  }, []);

  return (
    &lt;div&gt;
      {list.map(item =&gt; (
        &lt;ListItem
          key={item.id}
          item={item}
          onDelete={handleDelete}
          onUpdate={handleUpdate}
        /&gt;
      ))}
    &lt;/div&gt;
  );
}
</code></pre>
<h3>å»¶è¿ŸåŠ è½½</h3>
<pre><code class="language-jsx">function LazyLoadList({ items, loadMore, hasMore, loading }) {
  const [visibleItems, setVisibleItems] = useState(20);
  const observerRef = useRef();

  const lastItemRef = useCallback(node =&gt; {
    if (loading) return;
    if (observerRef.current) observerRef.current.disconnect();
    
    observerRef.current = new IntersectionObserver(entries =&gt; {
      if (entries[0].isIntersecting &amp;&amp; hasMore) {
        loadMore();
      }
    });
    
    if (node) observerRef.current.observe(node);
  }, [loading, hasMore, loadMore]);

  return (
    &lt;div&gt;
      {items.map((item, index) =&gt; {
        if (index === items.length - 1) {
          return (
            &lt;div key={item.id} ref={lastItemRef}&gt;
              {item.name}
            &lt;/div&gt;
          );
        } else {
          return (
            &lt;div key={item.id}&gt;
              {item.name}
            &lt;/div&gt;
          );
        }
      })}
      {loading &amp;&amp; &lt;div&gt;åŠ è½½ä¸­...&lt;/div&gt;}
    &lt;/div&gt;
  );
}
</code></pre>
<h2>æ‹–æ‹½æ’åº</h2>
<pre><code class="language-jsx">import { DragDropContext, Droppable, Draggable } from &#39;react-beautiful-dnd&#39;;

function DraggableList({ items, onReorder }) {
  const handleDragEnd = (result) =&gt; {
    if (!result.destination) return;

    const newItems = Array.from(items);
    const [reorderedItem] = newItems.splice(result.source.index, 1);
    newItems.splice(result.destination.index, 0, reorderedItem);

    onReorder(newItems);
  };

  return (
    &lt;DragDropContext onDragEnd={handleDragEnd}&gt;
      &lt;Droppable droppableId=&quot;list&quot;&gt;
        {(provided) =&gt; (
          &lt;ul {...provided.droppableProps} ref={provided.innerRef}&gt;
            {items.map((item, index) =&gt; (
              &lt;Draggable key={item.id} draggableId={item.id} index={index}&gt;
                {(provided, snapshot) =&gt; (
                  &lt;li
                    ref={provided.innerRef}
                    {...provided.draggableProps}
                    {...provided.dragHandleProps}
                    style={{
                      ...provided.draggableProps.style,
                      backgroundColor: snapshot.isDragging ? &#39;#f0f0f0&#39; : &#39;white&#39;
                    }}
                  &gt;
                    {item.name}
                  &lt;/li&gt;
                )}
              &lt;/Draggable&gt;
            ))}
            {provided.placeholder}
          &lt;/ul&gt;
        )}
      &lt;/Droppable&gt;
    &lt;/DragDropContext&gt;
  );
}
</code></pre>
<h2>å¼‚æ­¥æ•°æ®åˆ—è¡¨</h2>
<pre><code class="language-jsx">function AsyncDataList() {
  const [data, setData] = useState([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);

  useEffect(() =&gt; {
    const fetchData = async () =&gt; {
      try {
        setLoading(true);
        const response = await fetch(&#39;/api/items&#39;);
        if (!response.ok) throw new Error(&#39;Failed to fetch&#39;);
        const result = await response.json();
        setData(result);
      } catch (err) {
        setError(err.message);
      } finally {
        setLoading(false);
      }
    };

    fetchData();
  }, []);

  if (loading) return &lt;div&gt;åŠ è½½ä¸­...&lt;/div&gt;;
  if (error) return &lt;div&gt;é”™è¯¯: {error}&lt;/div&gt;;
  if (data.length === 0) return &lt;div&gt;æš‚æ— æ•°æ®&lt;/div&gt;;

  return (
    &lt;ul&gt;
      {data.map(item =&gt; (
        &lt;li key={item.id}&gt;{item.name}&lt;/li&gt;
      ))}
    &lt;/ul&gt;
  );
}
</code></pre>
<h2>æœ€ä½³å®è·µ</h2>
<h3>1. é€‰æ‹©åˆé€‚çš„Key</h3>
<pre><code class="language-jsx">// âœ… ä½¿ç”¨ç¨³å®šã€å”¯ä¸€çš„æ ‡è¯†ç¬¦
&lt;li key={user.id}&gt;{user.name}&lt;/li&gt;

// âœ… å¦‚æœæ²¡æœ‰IDï¼Œå¯ä»¥ç»„åˆå¤šä¸ªå­—æ®µ
&lt;li key={`${user.name}-${user.email}`}&gt;{user.name}&lt;/li&gt;

// âŒ é¿å…ä½¿ç”¨æ•°ç»„ç´¢å¼•ï¼ˆé™¤éåˆ—è¡¨æ˜¯é™æ€çš„ï¼‰
&lt;li key={index}&gt;{user.name}&lt;/li&gt;

// âŒ é¿å…ä½¿ç”¨éšæœºæ•°
&lt;li key={Math.random()}&gt;{user.name}&lt;/li&gt;
</code></pre>
<h3>2. ä¼˜åŒ–å¤§åˆ—è¡¨æ€§èƒ½</h3>
<pre><code class="language-jsx">// ä½¿ç”¨useMemoç¼“å­˜ç­›é€‰å’Œæ’åºç»“æœ
const filteredItems = useMemo(() =&gt; 
  items.filter(item =&gt; item.name.includes(searchTerm)),
  [items, searchTerm]
);

// ä½¿ç”¨React.memoä¼˜åŒ–åˆ—è¡¨é¡¹
const ListItem = React.memo(({ item }) =&gt; (
  &lt;div&gt;{item.name}&lt;/div&gt;
));

// ä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨å¤„ç†è¶…å¤§åˆ—è¡¨
import { FixedSizeList } from &#39;react-window&#39;;
</code></pre>
<h3>3. å¤„ç†ç©ºçŠ¶æ€</h3>
<pre><code class="language-jsx">function ItemList({ items, loading, error }) {
  if (loading) return &lt;LoadingSpinner /&gt;;
  if (error) return &lt;ErrorMessage error={error} /&gt;;
  if (items.length === 0) return &lt;EmptyState /&gt;;

  return (
    &lt;ul&gt;
      {items.map(item =&gt; (
        &lt;li key={item.id}&gt;{item.name}&lt;/li&gt;
      ))}
    &lt;/ul&gt;
  );
}
</code></pre>
<h2>å¸¸è§é—®é¢˜</h2>
<h3>é—®é¢˜1ï¼šKeyç›¸å…³çš„è­¦å‘Š</h3>
<pre><code class="language-jsx">// âŒ Reactä¼šè­¦å‘Šï¼šEach child should have a unique &quot;key&quot; prop
function BadList({ items }) {
  return (
    &lt;ul&gt;
      {items.map(item =&gt; &lt;li&gt;{item.name}&lt;/li&gt;)}
    &lt;/ul&gt;
  );
}

// âœ… æ·»åŠ keyå±æ€§
function GoodList({ items }) {
  return (
    &lt;ul&gt;
      {items.map(item =&gt; &lt;li key={item.id}&gt;{item.name}&lt;/li&gt;)}
    &lt;/ul&gt;
  );
}
</code></pre>
<h3>é—®é¢˜2ï¼šçŠ¶æ€åœ¨åˆ—è¡¨é‡æ’åºæ—¶ä¸¢å¤±</h3>
<pre><code class="language-jsx">// âŒ ä½¿ç”¨ç´¢å¼•ä½œä¸ºkeyå¯èƒ½å¯¼è‡´çŠ¶æ€é”™ä¹±
function BadExample({ users }) {
  return (
    &lt;div&gt;
      {users.map((user, index) =&gt; (
        &lt;UserComponent key={index} user={user} /&gt;
      ))}
    &lt;/div&gt;
  );
}

// âœ… ä½¿ç”¨ç¨³å®šçš„IDä½œä¸ºkey
function GoodExample({ users }) {
  return (
    &lt;div&gt;
      {users.map(user =&gt; (
        &lt;UserComponent key={user.id} user={user} /&gt;
      ))}
    &lt;/div&gt;
  );
}
</code></pre>
<h3>é—®é¢˜3ï¼šåœ¨mapä¸­ç›´æ¥ä¿®æ”¹state</h3>
<pre><code class="language-jsx">// âŒ ç›´æ¥åœ¨mapä¸­ä¿®æ”¹state
function BadExample({ items }) {
  return (
    &lt;ul&gt;
      {items.map(item =&gt; (
        &lt;li key={item.id}&gt;
          {item.name}
          &lt;button onClick={() =&gt; item.completed = true}&gt;
            å®Œæˆ
          &lt;/button&gt;
        &lt;/li&gt;
      ))}
    &lt;/ul&gt;
  );
}

// âœ… é€šè¿‡setStateæ­£ç¡®æ›´æ–°
function GoodExample({ items, setItems }) {
  const toggleItem = (id) =&gt; {
    setItems(prev =&gt; prev.map(item =&gt;
      item.id === id ? { ...item, completed: !item.completed } : item
    ));
  };

  return (
    &lt;ul&gt;
      {items.map(item =&gt; (
        &lt;li key={item.id}&gt;
          {item.name}
          &lt;button onClick={() =&gt; toggleItem(item.id)}&gt;
            {item.completed ? &#39;å–æ¶ˆå®Œæˆ&#39; : &#39;å®Œæˆ&#39;}
          &lt;/button&gt;
        &lt;/li&gt;
      ))}
    &lt;/ul&gt;
  );
}
</code></pre>
<h2>æ€»ç»“</h2>
<p>åˆ—è¡¨æ¸²æŸ“æ˜¯Reactä¸­çš„é‡è¦æ¦‚å¿µï¼š</p>
<ol>
<li><strong>ä½¿ç”¨map()æ–¹æ³•</strong>ï¼šå°†æ•°ç»„è½¬æ¢ä¸ºJSXå…ƒç´ </li>
<li><strong>Keyå±æ€§</strong>ï¼šä¸ºæ¯ä¸ªåˆ—è¡¨é¡¹æä¾›å”¯ä¸€æ ‡è¯†</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šä½¿ç”¨React.memoã€useMemoå’Œè™šæ‹Ÿæ»šåŠ¨</li>
<li><strong>ç”¨æˆ·ä½“éªŒ</strong>ï¼šæ·»åŠ åŠ è½½çŠ¶æ€ã€é”™è¯¯å¤„ç†å’Œç©ºçŠ¶æ€</li>
</ol>
<p>æŒæ¡è¿™äº›æŠ€å·§ï¼Œå¯ä»¥æ„å»ºé«˜æ•ˆã€ç”¨æˆ·å‹å¥½çš„åˆ—è¡¨ç•Œé¢ã€‚ </p>

          </div>

          <!-- æ–‡æ¡£å¯¼èˆª -->
          <div class="doc-navigation">
            
              <a href="07-æ¡ä»¶æ¸²æŸ“.html" class="nav-btn prev-btn">
                <span class="nav-icon">â†</span>
                <div class="nav-text">
                  <span class="nav-label">ä¸Šä¸€ç¯‡</span>
                  <span class="nav-title">æ¡ä»¶æ¸²æŸ“</span>
                </div>
              </a>
            
            
            
              <a href="09-Hooksæ¦‚è¿°.html" class="nav-btn next-btn">
                <div class="nav-text">
                  <span class="nav-label">ä¸‹ä¸€ç¯‡</span>
                  <span class="nav-title">Hooksæ¦‚è¿°</span>
                </div>
                <span class="nav-icon">â†’</span>
              </a>
            
          </div>
        </article>
      </main>
    </div>

    <!-- è¿”å›é¡¶éƒ¨æŒ‰é’® -->
    <button class="back-to-top" id="backToTop" onclick="scrollToTop()">
      <span>â†‘</span>
    </button>

    <!-- åº•éƒ¨ -->
    <footer class="footer">
      <div class="footer-content">
        <p>&copy; 2024 React ä¸­æ–‡æ–‡æ¡£. åŸºäº React 18.x æ„å»º</p>
        <p>Made with â¤ï¸ by Reactä¸­æ–‡ç¤¾åŒº</p>
      </div>
    </footer>
  </div>

  <script src="assets/script.js"></script>
</body>
</html>