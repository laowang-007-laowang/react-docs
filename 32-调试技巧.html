<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>è°ƒè¯•æŠ€å·§ - React ä¸­æ–‡æ–‡æ¡£</title>
  <meta name="description" content="ä»å…¥é—¨åˆ°ç²¾é€šï¼Œå…¨é¢æŒæ¡Reactå¼€å‘æŠ€èƒ½">
  <link rel="stylesheet" href="assets/style.css">
  <link rel="stylesheet" href="assets/highlight.css">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>âš›ï¸</text></svg>">
</head>
<body>
  <div class="container">
    <!-- é¡¶éƒ¨å¯¼èˆª -->
    <header class="header">
      <div class="header-content">
        <div class="logo">
          <span class="logo-icon">âš›ï¸</span>
          <div class="logo-text">
            <h1>React ä¸­æ–‡æ–‡æ¡£</h1>
            <p>ç°ä»£åŒ–çš„Reactå­¦ä¹ æŒ‡å—</p>
          </div>
        </div>
        <nav class="header-nav">
          <a href="index.html" class="nav-link">é¦–é¡µ</a>
          <a href="#" class="nav-link" onclick="toggleSidebar()">ç›®å½•</a>
          <a href="https://github.com/facebook/react" target="_blank" class="nav-link">GitHub</a>
        </nav>
      </div>
    </header>

    <div class="main-layout">
      <!-- ä¾§è¾¹æ  -->
      <aside class="sidebar" id="sidebar">
        <div class="sidebar-content">
          <div class="search-box">
            <input type="text" placeholder="æœç´¢æ–‡æ¡£..." id="searchInput" onkeyup="searchDocs()">
            <span class="search-icon">ğŸ”</span>
          </div>
          <nav class="doc-nav">
            
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ“š</span>
          åŸºç¡€æ¦‚å¿µ
        </h3>
        <ul class="category-docs">
          <li><a href="01-Reactç®€ä»‹.html" class="doc-link">Reactç®€ä»‹</a></li><li><a href="02-ç¯å¢ƒæ­å»º.html" class="doc-link">ç¯å¢ƒæ­å»º</a></li><li><a href="03-JSXè¯­æ³•.html" class="doc-link">JSXè¯­æ³•</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ§©</span>
          ç»„ä»¶å¼€å‘
        </h3>
        <ul class="category-docs">
          <li><a href="04-ç»„ä»¶åŸºç¡€.html" class="doc-link">ç»„ä»¶åŸºç¡€</a></li><li><a href="05-Propsä¸State.html" class="doc-link">Propsä¸State</a></li><li><a href="06-äº‹ä»¶å¤„ç†.html" class="doc-link">äº‹ä»¶å¤„ç†</a></li><li><a href="07-æ¡ä»¶æ¸²æŸ“.html" class="doc-link">æ¡ä»¶æ¸²æŸ“</a></li><li><a href="08-åˆ—è¡¨æ¸²æŸ“.html" class="doc-link">åˆ—è¡¨æ¸²æŸ“</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ£</span>
          Hooks API
        </h3>
        <ul class="category-docs">
          <li><a href="09-Hooksæ¦‚è¿°.html" class="doc-link">Hooksæ¦‚è¿°</a></li><li><a href="10-useState.html" class="doc-link">useState</a></li><li><a href="11-useEffect.html" class="doc-link">useEffect</a></li><li><a href="12-useContext.html" class="doc-link">useContext</a></li><li><a href="13-useReducer.html" class="doc-link">useReducer</a></li><li><a href="14-useMemoå’ŒuseCallback.html" class="doc-link">useMemoå’ŒuseCallback</a></li><li><a href="15-useRef.html" class="doc-link">useRef</a></li><li><a href="16-è‡ªå®šä¹‰Hooks.html" class="doc-link">è‡ªå®šä¹‰Hooks</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ”„</span>
          ç”Ÿå‘½å‘¨æœŸ
        </h3>
        <ul class="category-docs">
          <li><a href="17-ç”Ÿå‘½å‘¨æœŸæ–¹æ³•.html" class="doc-link">ç”Ÿå‘½å‘¨æœŸæ–¹æ³•</a></li><li><a href="18-å‰¯ä½œç”¨å¤„ç†.html" class="doc-link">å‰¯ä½œç”¨å¤„ç†</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ¨</span>
          æ ·å¼ä¸UI
        </h3>
        <ul class="category-docs">
          <li><a href="19-æ ·å¼å¤„ç†.html" class="doc-link">æ ·å¼å¤„ç†</a></li><li><a href="20-åŠ¨ç”»æ•ˆæœ.html" class="doc-link">åŠ¨ç”»æ•ˆæœ</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ—ºï¸</span>
          è·¯ç”±ç®¡ç†
        </h3>
        <ul class="category-docs">
          <li><a href="21-React-Router.html" class="doc-link">React-Router</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ“¦</span>
          çŠ¶æ€ç®¡ç†
        </h3>
        <ul class="category-docs">
          <li><a href="22-Context-API.html" class="doc-link">Context-API</a></li><li><a href="23-Reduxé›†æˆ.html" class="doc-link">Reduxé›†æˆ</a></li><li><a href="24-ZustandçŠ¶æ€ç®¡ç†.html" class="doc-link">ZustandçŠ¶æ€ç®¡ç†</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸš€</span>
          æ€§èƒ½ä¼˜åŒ–
        </h3>
        <ul class="category-docs">
          <li><a href="25-æ€§èƒ½ä¼˜åŒ–æŠ€å·§.html" class="doc-link">æ€§èƒ½ä¼˜åŒ–æŠ€å·§</a></li><li><a href="26-ä»£ç åˆ†å‰².html" class="doc-link">ä»£ç åˆ†å‰²</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ§ª</span>
          æµ‹è¯•
        </h3>
        <ul class="category-docs">
          <li><a href="27-å•å…ƒæµ‹è¯•.html" class="doc-link">å•å…ƒæµ‹è¯•</a></li><li><a href="28-é›†æˆæµ‹è¯•.html" class="doc-link">é›†æˆæµ‹è¯•</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ—ï¸</span>
          æ„å»ºä¸éƒ¨ç½²
        </h3>
        <ul class="category-docs">
          <li><a href="29-é¡¹ç›®æ„å»º.html" class="doc-link">é¡¹ç›®æ„å»º</a></li><li><a href="30-ç”Ÿäº§éƒ¨ç½².html" class="doc-link">ç”Ÿäº§éƒ¨ç½²</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ› ï¸</span>
          å¼€å‘å·¥å…·
        </h3>
        <ul class="category-docs">
          <li><a href="31-å¼€å‘è€…å·¥å…·.html" class="doc-link">å¼€å‘è€…å·¥å…·</a></li><li><a href="32-è°ƒè¯•æŠ€å·§.html" class="doc-link">è°ƒè¯•æŠ€å·§</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ“–</span>
          APIå‚è€ƒ
        </h3>
        <ul class="category-docs">
          <li><a href="33-React-APIå®Œæ•´å‚è€ƒ.html" class="doc-link">React-APIå®Œæ•´å‚è€ƒ</a></li><li><a href="34-DOMå…ƒç´ å±æ€§.html" class="doc-link">DOMå…ƒç´ å±æ€§</a></li><li><a href="35-åˆæˆäº‹ä»¶.html" class="doc-link">åˆæˆäº‹ä»¶</a></li><li><a href="React-Hookså®Œæ•´å‚è€ƒ.html" class="doc-link">React-Hookså®Œæ•´å‚è€ƒ</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ’¡</span>
          æœ€ä½³å®è·µ
        </h3>
        <ul class="category-docs">
          <li><a href="36-ç¼–ç è§„èŒƒ.html" class="doc-link">ç¼–ç è§„èŒƒ</a></li><li><a href="37-é¡¹ç›®æ¶æ„.html" class="doc-link">é¡¹ç›®æ¶æ„</a></li><li><a href="38-å¸¸è§é—®é¢˜.html" class="doc-link">å¸¸è§é—®é¢˜</a></li>
        </ul>
      </div>
          </nav>
        </div>
      </aside>

      <!-- ä¸»å†…å®¹åŒº -->
      <main class="content">
        <article class="doc-article">
          <div class="doc-header">
            <div class="breadcrumb">
              <a href="index.html">é¦–é¡µ</a>
              <span class="separator">></span>
              <span class="current">è°ƒè¯•æŠ€å·§</span>
            </div>
            <h1 class="doc-title">è°ƒè¯•æŠ€å·§</h1>
            <div class="doc-meta">
              <span class="category" style="background: #a18cd1">
                ğŸ› ï¸ å¼€å‘å·¥å…·
              </span>
            </div>
          </div>
          
          <div class="doc-content">
            <h1>32-è°ƒè¯•æŠ€å·§</h1>
<p>Reactè°ƒè¯•æ˜¯å¼€å‘è¿‡ç¨‹ä¸­çš„é‡è¦æŠ€èƒ½ã€‚æœ¬æ–‡æ¡£æä¾›äº†å„ç§è°ƒè¯•æŠ€å·§ã€å·¥å…·ä½¿ç”¨æ–¹æ³•å’Œé—®é¢˜æ’æŸ¥ç­–ç•¥ï¼Œå¸®åŠ©å¼€å‘è€…å¿«é€Ÿå®šä½å’Œè§£å†³é—®é¢˜ã€‚</p>
<h2>åŸºç¡€è°ƒè¯•æŠ€å·§</h2>
<h3>1. æ§åˆ¶å°æ—¥å¿—è°ƒè¯•</h3>
<pre><code class="language-jsx">// åŸºç¡€æ—¥å¿—è¾“å‡º
function UserProfile({ user }) {
  console.log(&#39;UserProfile æ¸²æŸ“:&#39;, user)
  
  return (
    &lt;div&gt;
      &lt;h1&gt;{user.name}&lt;/h1&gt;
      &lt;p&gt;{user.email}&lt;/p&gt;
    &lt;/div&gt;
  )
}

// å¸¦æ ‡ç­¾çš„æ—¥å¿—è¾“å‡º
function DataProcessor({ data }) {
  console.log(&#39;ğŸ” [DataProcessor] è¾“å…¥æ•°æ®:&#39;, data)
  
  const processedData = data.map(item =&gt; {
    console.log(&#39;âš¡ [DataProcessor] å¤„ç†é¡¹ç›®:&#39;, item)
    return { ...item, processed: true }
  })
  
  console.log(&#39;âœ… [DataProcessor] å¤„ç†å®Œæˆ:&#39;, processedData)
  
  return &lt;div&gt;{/* æ¸²æŸ“å¤„ç†åçš„æ•°æ® */}&lt;/div&gt;
}
</code></pre>
<h3>2. æ¡ä»¶æ—¥å¿—è¾“å‡º</h3>
<pre><code class="language-jsx">const DEBUG = process.env.NODE_ENV === &#39;development&#39;

function debug(message, data) {
  if (DEBUG) {
    console.log(`[DEBUG] ${message}`, data)
  }
}

function MyComponent({ props }) {
  debug(&#39;Component rendered with props:&#39;, props)
  
  const handleClick = () =&gt; {
    debug(&#39;Button clicked&#39;, { timestamp: Date.now() })
  }
  
  return &lt;button onClick={handleClick}&gt;Click me&lt;/button&gt;
}
</code></pre>
<h3>3. é”™è¯¯è¾¹ç•Œè°ƒè¯•</h3>
<pre><code class="language-jsx">class ErrorBoundary extends React.Component {
  constructor(props) {
    super(props)
    this.state = { hasError: false, error: null, errorInfo: null }
  }

  static getDerivedStateFromError(error) {
    return { hasError: true }
  }

  componentDidCatch(error, errorInfo) {
    console.error(&#39;âŒ Error Boundary æ•è·é”™è¯¯:&#39;, error)
    console.error(&#39;ğŸ“ é”™è¯¯ä¿¡æ¯:&#39;, errorInfo)
    
    // è®°å½•é”™è¯¯çš„ç»„ä»¶æ ˆ
    console.error(&#39;ğŸ” ç»„ä»¶æ ˆ:&#39;, errorInfo.componentStack)
    
    this.setState({
      error: error,
      errorInfo: errorInfo
    })
  }

  render() {
    if (this.state.hasError) {
      return (
        &lt;div style={{ padding: &#39;20px&#39;, border: &#39;2px solid red&#39; }}&gt;
          &lt;h2&gt;ğŸš¨ ç»„ä»¶å‘ç”Ÿé”™è¯¯&lt;/h2&gt;
          &lt;details&gt;
            &lt;summary&gt;é”™è¯¯è¯¦æƒ…&lt;/summary&gt;
            &lt;pre&gt;{this.state.error &amp;&amp; this.state.error.toString()}&lt;/pre&gt;
            &lt;pre&gt;{this.state.errorInfo.componentStack}&lt;/pre&gt;
          &lt;/details&gt;
        &lt;/div&gt;
      )
    }

    return this.props.children
  }
}
</code></pre>
<h2>Hookè°ƒè¯•æŠ€å·§</h2>
<h3>1. useEffectè°ƒè¯•</h3>
<pre><code class="language-jsx">function useDebugEffect(effect, deps, label) {
  useEffect(() =&gt; {
    console.log(`ğŸ”„ [${label}] Effect è¿è¡Œ`, deps)
    
    const cleanup = effect()
    
    return () =&gt; {
      console.log(`ğŸ§¹ [${label}] Effect æ¸…ç†`, deps)
      if (cleanup) cleanup()
    }
  }, deps)
}

function MyComponent({ userId }) {
  const [user, setUser] = useState(null)
  
  useDebugEffect(() =&gt; {
    console.log(&#39;ğŸ“¡ å¼€å§‹è·å–ç”¨æˆ·æ•°æ®&#39;)
    
    fetchUser(userId).then(userData =&gt; {
      console.log(&#39;âœ… ç”¨æˆ·æ•°æ®è·å–æˆåŠŸ:&#39;, userData)
      setUser(userData)
    })
  }, [userId], &#39;FetchUser&#39;)
  
  return user ? &lt;div&gt;{user.name}&lt;/div&gt; : &lt;div&gt;Loading...&lt;/div&gt;
}
</code></pre>
<h3>2. useStateè°ƒè¯•</h3>
<pre><code class="language-jsx">function useDebugState(initialValue, label) {
  const [value, setValue] = useState(initialValue)
  
  const setDebugValue = (newValue) =&gt; {
    console.log(`ğŸ“ [${label}] çŠ¶æ€æ›´æ–°:`, value, &#39;-&gt;&#39;, newValue)
    setValue(newValue)
  }
  
  return [value, setDebugValue]
}

function Counter() {
  const [count, setCount] = useDebugState(0, &#39;Counter&#39;)
  
  return (
    &lt;div&gt;
      &lt;p&gt;è®¡æ•°: {count}&lt;/p&gt;
      &lt;button onClick={() =&gt; setCount(count + 1)}&gt;å¢åŠ &lt;/button&gt;
    &lt;/div&gt;
  )
}
</code></pre>
<h3>3. useRefè°ƒè¯•</h3>
<pre><code class="language-jsx">function useDebugRef(initialValue, label) {
  const ref = useRef(initialValue)
  
  // ä»£ç† ref çš„ current å±æ€§
  return new Proxy(ref, {
    set(target, prop, value) {
      if (prop === &#39;current&#39;) {
        console.log(`ğŸ“Œ [${label}] Ref æ›´æ–°:`, target.current, &#39;-&gt;&#39;, value)
      }
      target[prop] = value
      return true
    }
  })
}

function FocusInput() {
  const inputRef = useDebugRef(null, &#39;InputRef&#39;)
  
  const handleFocus = () =&gt; {
    inputRef.current?.focus()
  }
  
  return (
    &lt;div&gt;
      &lt;input ref={inputRef} /&gt;
      &lt;button onClick={handleFocus}&gt;èšç„¦&lt;/button&gt;
    &lt;/div&gt;
  )
}
</code></pre>
<h2>æ¸²æŸ“è°ƒè¯•</h2>
<h3>1. æ¸²æŸ“è®¡æ•°å™¨</h3>
<pre><code class="language-jsx">function useRenderCounter(componentName) {
  const renderCount = useRef(0)
  
  useEffect(() =&gt; {
    renderCount.current++
    console.log(`ğŸ”„ [${componentName}] æ¸²æŸ“æ¬¡æ•°: ${renderCount.current}`)
  })
  
  return renderCount.current
}

function MyComponent() {
  const renderCount = useRenderCounter(&#39;MyComponent&#39;)
  
  return &lt;div&gt;æ¸²æŸ“æ¬¡æ•°: {renderCount}&lt;/div&gt;
}
</code></pre>
<h3>2. æ¸²æŸ“åŸå› è¿½è¸ª</h3>
<pre><code class="language-jsx">function useWhyDidYouUpdate(name, props) {
  const previous = useRef()
  
  useEffect(() =&gt; {
    if (previous.current) {
      const allKeys = Object.keys({ ...previous.current, ...props })
      const changedProps = {}
      
      allKeys.forEach(key =&gt; {
        if (previous.current[key] !== props[key]) {
          changedProps[key] = {
            from: previous.current[key],
            to: props[key]
          }
        }
      })
      
      if (Object.keys(changedProps).length) {
        console.log(&#39;ğŸ” [WhyDidYouUpdate]&#39;, name, changedProps)
      }
    }
    
    previous.current = props
  })
}

function ExpensiveComponent(props) {
  useWhyDidYouUpdate(&#39;ExpensiveComponent&#39;, props)
  
  return &lt;div&gt;{/* ç»„ä»¶å†…å®¹ */}&lt;/div&gt;
}
</code></pre>
<h3>3. æ€§èƒ½ç›‘æ§</h3>
<pre><code class="language-jsx">function usePerformanceMonitor(componentName) {
  const renderStart = useRef()
  const mountTime = useRef()
  
  // è®°å½•æŒ‚è½½æ—¶é—´
  useEffect(() =&gt; {
    mountTime.current = performance.now()
    console.log(`â±ï¸ [${componentName}] ç»„ä»¶æŒ‚è½½æ—¶é—´: ${mountTime.current}ms`)
  }, [])
  
  // è®°å½•æ¯æ¬¡æ¸²æŸ“æ—¶é—´
  useEffect(() =&gt; {
    renderStart.current = performance.now()
  })
  
  useEffect(() =&gt; {
    const renderTime = performance.now() - renderStart.current
    console.log(`âš¡ [${componentName}] æ¸²æŸ“æ—¶é—´: ${renderTime}ms`)
    
    if (renderTime &gt; 16) { // è¶…è¿‡ä¸€å¸§çš„æ—¶é—´
      console.warn(`âš ï¸ [${componentName}] æ¸²æŸ“æ—¶é—´è¿‡é•¿: ${renderTime}ms`)
    }
  })
}

function HeavyComponent() {
  usePerformanceMonitor(&#39;HeavyComponent&#39;)
  
  // æ˜‚è´µçš„æ¸²æŸ“é€»è¾‘
  const heavyCalculation = useMemo(() =&gt; {
    return Array.from({ length: 1000 }, (_, i) =&gt; i * 2)
  }, [])
  
  return &lt;div&gt;{heavyCalculation.length}&lt;/div&gt;
}
</code></pre>
<h2>å¼‚æ­¥è°ƒè¯•</h2>
<h3>1. Promiseè°ƒè¯•</h3>
<pre><code class="language-jsx">function useAsyncDebug(asyncFunction, deps, label) {
  const [state, setState] = useState({ loading: false, data: null, error: null })
  
  useEffect(() =&gt; {
    console.log(`ğŸš€ [${label}] å¼€å§‹å¼‚æ­¥æ“ä½œ`)
    
    setState({ loading: true, data: null, error: null })
    
    asyncFunction()
      .then(data =&gt; {
        console.log(`âœ… [${label}] å¼‚æ­¥æ“ä½œæˆåŠŸ:`, data)
        setState({ loading: false, data, error: null })
      })
      .catch(error =&gt; {
        console.error(`âŒ [${label}] å¼‚æ­¥æ“ä½œå¤±è´¥:`, error)
        setState({ loading: false, data: null, error })
      })
  }, deps)
  
  return state
}

function DataFetcher({ userId }) {
  const { loading, data, error } = useAsyncDebug(
    () =&gt; fetchUser(userId),
    [userId],
    &#39;UserFetch&#39;
  )
  
  if (loading) return &lt;div&gt;Loading...&lt;/div&gt;
  if (error) return &lt;div&gt;Error: {error.message}&lt;/div&gt;
  return &lt;div&gt;{data?.name}&lt;/div&gt;
}
</code></pre>
<h3>2. ç½‘ç»œè¯·æ±‚è°ƒè¯•</h3>
<pre><code class="language-jsx">// å¢å¼ºçš„ fetch å‡½æ•°
const debugFetch = (url, options = {}) =&gt; {
  const requestId = Math.random().toString(36).substr(2, 9)
  
  console.log(`ğŸ“¡ [Request ${requestId}] å¼€å§‹:`, {
    url,
    method: options.method || &#39;GET&#39;,
    headers: options.headers,
    body: options.body
  })
  
  const startTime = performance.now()
  
  return fetch(url, options)
    .then(response =&gt; {
      const endTime = performance.now()
      const duration = endTime - startTime
      
      console.log(`ğŸ“¦ [Request ${requestId}] å“åº”:`, {
        status: response.status,
        statusText: response.statusText,
        duration: `${duration}ms`,
        url
      })
      
      // å…‹éš†å“åº”ä»¥ä¾¿è°ƒè¯•
      const clonedResponse = response.clone()
      
      // å¦‚æœæ˜¯ JSON å“åº”ï¼Œæ‰“å°å†…å®¹
      if (response.headers.get(&#39;content-type&#39;)?.includes(&#39;application/json&#39;)) {
        clonedResponse.json().then(data =&gt; {
          console.log(`ğŸ“„ [Request ${requestId}] å“åº”å†…å®¹:`, data)
        })
      }
      
      return response
    })
    .catch(error =&gt; {
      const endTime = performance.now()
      const duration = endTime - startTime
      
      console.error(`âŒ [Request ${requestId}] é”™è¯¯:`, {
        error: error.message,
        duration: `${duration}ms`,
        url
      })
      
      throw error
    })
}

// ä½¿ç”¨ç¤ºä¾‹
function ApiComponent() {
  const [data, setData] = useState(null)
  
  useEffect(() =&gt; {
    debugFetch(&#39;/api/users&#39;)
      .then(response =&gt; response.json())
      .then(setData)
  }, [])
  
  return &lt;div&gt;{data ? JSON.stringify(data) : &#39;Loading...&#39;}&lt;/div&gt;
}
</code></pre>
<h2>çŠ¶æ€è°ƒè¯•</h2>
<h3>1. Reduxè°ƒè¯•</h3>
<pre><code class="language-jsx">// å¢å¼ºçš„ Redux store
const store = createStore(
  rootReducer,
  composeWithDevTools(
    applyMiddleware(
      // è‡ªå®šä¹‰è°ƒè¯•ä¸­é—´ä»¶
      store =&gt; next =&gt; action =&gt; {
        console.log(&#39;ğŸ“® [Redux] æ´¾å‘ Action:&#39;, action)
        const result = next(action)
        console.log(&#39;ğŸ“Š [Redux] æ–°çŠ¶æ€:&#39;, store.getState())
        return result
      }
    )
  )
)

// çŠ¶æ€å˜åŒ–ç›‘å¬
store.subscribe(() =&gt; {
  const state = store.getState()
  console.log(&#39;ğŸ”„ [Redux] çŠ¶æ€æ›´æ–°:&#39;, state)
})
</code></pre>
<h3>2. Contextè°ƒè¯•</h3>
<pre><code class="language-jsx">// è°ƒè¯•ç‰ˆæœ¬çš„ Context Provider
function DebugContextProvider({ children, value, contextName }) {
  const previousValue = useRef(value)
  
  useEffect(() =&gt; {
    if (previousValue.current !== value) {
      console.log(`ğŸ”„ [${contextName}] Context å€¼æ›´æ–°:`, {
        previous: previousValue.current,
        current: value
      })
      previousValue.current = value
    }
  }, [value, contextName])
  
  return (
    &lt;MyContext.Provider value={value}&gt;
      {children}
    &lt;/MyContext.Provider&gt;
  )
}

// è°ƒè¯•ç‰ˆæœ¬çš„ useContext
function useDebugContext(context, contextName) {
  const value = useContext(context)
  
  useEffect(() =&gt; {
    console.log(`ğŸ“– [${contextName}] Context å€¼è¯»å–:`, value)
  }, [value, contextName])
  
  return value
}
</code></pre>
<h2>äº‹ä»¶è°ƒè¯•</h2>
<h3>1. äº‹ä»¶å¤„ç†å™¨è°ƒè¯•</h3>
<pre><code class="language-jsx">function debugEventHandler(handler, eventName) {
  return (event) =&gt; {
    console.log(`ğŸ–±ï¸ [Event] ${eventName} è§¦å‘:`, {
      type: event.type,
      target: event.target,
      currentTarget: event.currentTarget,
      timeStamp: event.timeStamp
    })
    
    try {
      return handler(event)
    } catch (error) {
      console.error(`âŒ [Event] ${eventName} å¤„ç†é”™è¯¯:`, error)
      throw error
    }
  }
}

function Button({ onClick, children }) {
  const handleClick = debugEventHandler(onClick, &#39;Button Click&#39;)
  
  return &lt;button onClick={handleClick}&gt;{children}&lt;/button&gt;
}
</code></pre>
<h3>2. è¡¨å•è°ƒè¯•</h3>
<pre><code class="language-jsx">function useFormDebug(formName) {
  const logFormData = (formData) =&gt; {
    console.log(`ğŸ“ [Form ${formName}] è¡¨å•æ•°æ®:`, formData)
  }
  
  const logValidationError = (field, error) =&gt; {
    console.error(`âŒ [Form ${formName}] éªŒè¯é”™è¯¯:`, { field, error })
  }
  
  const logSubmission = (data) =&gt; {
    console.log(`ğŸ“¤ [Form ${formName}] æäº¤æ•°æ®:`, data)
  }
  
  return { logFormData, logValidationError, logSubmission }
}

function ContactForm() {
  const { logFormData, logValidationError, logSubmission } = useFormDebug(&#39;Contact&#39;)
  const [formData, setFormData] = useState({ name: &#39;&#39;, email: &#39;&#39; })
  
  const handleChange = (e) =&gt; {
    const newData = { ...formData, [e.target.name]: e.target.value }
    setFormData(newData)
    logFormData(newData)
  }
  
  const handleSubmit = (e) =&gt; {
    e.preventDefault()
    
    // éªŒè¯
    if (!formData.name) {
      logValidationError(&#39;name&#39;, &#39;Name is required&#39;)
      return
    }
    
    logSubmission(formData)
  }
  
  return (
    &lt;form onSubmit={handleSubmit}&gt;
      &lt;input
        name=&quot;name&quot;
        value={formData.name}
        onChange={handleChange}
        placeholder=&quot;Name&quot;
      /&gt;
      &lt;input
        name=&quot;email&quot;
        value={formData.email}
        onChange={handleChange}
        placeholder=&quot;Email&quot;
      /&gt;
      &lt;button type=&quot;submit&quot;&gt;Submit&lt;/button&gt;
    &lt;/form&gt;
  )
}
</code></pre>
<h2>å†…å­˜æ³„æ¼è°ƒè¯•</h2>
<h3>1. ç»„ä»¶å¸è½½æ£€æµ‹</h3>
<pre><code class="language-jsx">function useUnmountDetection(componentName) {
  const isMounted = useRef(true)
  
  useEffect(() =&gt; {
    return () =&gt; {
      isMounted.current = false
      console.log(`ğŸ—‘ï¸ [${componentName}] ç»„ä»¶å¸è½½`)
    }
  }, [componentName])
  
  return isMounted
}

function MyComponent() {
  const isMounted = useUnmountDetection(&#39;MyComponent&#39;)
  const [data, setData] = useState(null)
  
  useEffect(() =&gt; {
    const timer = setTimeout(() =&gt; {
      if (isMounted.current) {
        setData(&#39;Updated data&#39;)
      } else {
        console.warn(&#39;âš ï¸ å°è¯•æ›´æ–°å·²å¸è½½ç»„ä»¶çš„çŠ¶æ€&#39;)
      }
    }, 1000)
    
    return () =&gt; clearTimeout(timer)
  }, [])
  
  return &lt;div&gt;{data}&lt;/div&gt;
}
</code></pre>
<h3>2. ç›‘å¬å™¨æ¸…ç†æ£€æµ‹</h3>
<pre><code class="language-jsx">function useEventListenerDebug(eventName, handler, element = window) {
  useEffect(() =&gt; {
    console.log(`ğŸ‘‚ [EventListener] æ·»åŠ ç›‘å¬å™¨: ${eventName}`)
    
    element.addEventListener(eventName, handler)
    
    return () =&gt; {
      console.log(`ğŸ”‡ [EventListener] ç§»é™¤ç›‘å¬å™¨: ${eventName}`)
      element.removeEventListener(eventName, handler)
    }
  }, [eventName, handler, element])
}

function ScrollTracker() {
  const handleScroll = useCallback(() =&gt; {
    console.log(&#39;Scroll position:&#39;, window.scrollY)
  }, [])
  
  useEventListenerDebug(&#39;scroll&#39;, handleScroll)
  
  return &lt;div&gt;æ»šåŠ¨è·Ÿè¸ªå™¨&lt;/div&gt;
}
</code></pre>
<h2>ç”Ÿäº§ç¯å¢ƒè°ƒè¯•</h2>
<h3>1. ç”Ÿäº§é”™è¯¯æ•è·</h3>
<pre><code class="language-jsx">// å…¨å±€é”™è¯¯å¤„ç†
window.addEventListener(&#39;error&#39;, (event) =&gt; {
  console.error(&#39;Global error:&#39;, event.error)
  // å‘é€é”™è¯¯åˆ°ç›‘æ§æœåŠ¡
  sendErrorToService(event.error)
})

window.addEventListener(&#39;unhandledrejection&#39;, (event) =&gt; {
  console.error(&#39;Unhandled promise rejection:&#39;, event.reason)
  // å‘é€é”™è¯¯åˆ°ç›‘æ§æœåŠ¡
  sendErrorToService(event.reason)
})

// é”™è¯¯æœåŠ¡
function sendErrorToService(error) {
  if (process.env.NODE_ENV === &#39;production&#39;) {
    // å‘é€åˆ° Sentryã€LogRocket ç­‰æœåŠ¡
    fetch(&#39;/api/errors&#39;, {
      method: &#39;POST&#39;,
      headers: { &#39;Content-Type&#39;: &#39;application/json&#39; },
      body: JSON.stringify({
        message: error.message,
        stack: error.stack,
        url: window.location.href,
        userAgent: navigator.userAgent,
        timestamp: new Date().toISOString()
      })
    })
  }
}
</code></pre>
<h3>2. åŠŸèƒ½å¼€å…³è°ƒè¯•</h3>
<pre><code class="language-jsx">// åŠŸèƒ½å¼€å…³
const Features = {
  DEBUG_MODE: process.env.NODE_ENV === &#39;development&#39; || 
              localStorage.getItem(&#39;debug&#39;) === &#39;true&#39;,
  
  PERFORMANCE_MONITORING: process.env.REACT_APP_PERF_MONITORING === &#39;true&#39;,
  
  VERBOSE_LOGGING: localStorage.getItem(&#39;verbose&#39;) === &#39;true&#39;
}

// æ¡ä»¶è°ƒè¯•
function conditionalLog(feature, message, ...args) {
  if (Features[feature]) {
    console.log(message, ...args)
  }
}

function MyComponent() {
  conditionalLog(&#39;DEBUG_MODE&#39;, &#39;ç»„ä»¶æ¸²æŸ“&#39;)
  conditionalLog(&#39;VERBOSE_LOGGING&#39;, &#39;è¯¦ç»†æ—¥å¿—&#39;, { props, state })
  
  return &lt;div&gt;Content&lt;/div&gt;
}
</code></pre>
<h2>è°ƒè¯•å·¥å…·é›†æˆ</h2>
<h3>1. React DevToolsé›†æˆ</h3>
<pre><code class="language-jsx">// ä¸ºç»„ä»¶æ·»åŠ æ˜¾ç¤ºåç§°
const MyComponent = () =&gt; {
  return &lt;div&gt;Content&lt;/div&gt;
}

MyComponent.displayName = &#39;MyComponent&#39;

// ä½¿ç”¨ useDebugValue ä¸ºè‡ªå®šä¹‰ Hook æ·»åŠ è°ƒè¯•ä¿¡æ¯
function useCounter() {
  const [count, setCount] = useState(0)
  
  useDebugValue(count &gt; 10 ? &#39;High&#39; : &#39;Low&#39;)
  
  return { count, setCount }
}
</code></pre>
<h3>2. æµè§ˆå™¨æ‰©å±•é›†æˆ</h3>
<pre><code class="language-jsx">// ä¸ React DevTools é›†æˆ
function useDevToolsIntegration() {
  useEffect(() =&gt; {
    if (window.__REACT_DEVTOOLS_GLOBAL_HOOK__) {
      console.log(&#39;React DevTools detected&#39;)
      
      // å¯ä»¥å‘ DevTools å‘é€è‡ªå®šä¹‰æ¶ˆæ¯
      window.__REACT_DEVTOOLS_GLOBAL_HOOK__.onCommitFiberRoot = (id, root) =&gt; {
        console.log(&#39;Fiber tree committed:&#39;, id, root)
      }
    }
  }, [])
}
</code></pre>
<h2>è°ƒè¯•æœ€ä½³å®è·µ</h2>
<h3>1. ç»“æ„åŒ–æ—¥å¿—</h3>
<pre><code class="language-jsx">const Logger = {
  levels: {
    ERROR: 0,
    WARN: 1,
    INFO: 2,
    DEBUG: 3
  },
  
  currentLevel: process.env.NODE_ENV === &#39;development&#39; ? 3 : 1,
  
  log(level, category, message, data) {
    if (level &lt;= this.currentLevel) {
      const prefix = `[${category}] ${message}`
      const method = level === 0 ? &#39;error&#39; : level === 1 ? &#39;warn&#39; : &#39;log&#39;
      
      console[method](prefix, data || &#39;&#39;)
    }
  },
  
  error: (category, message, data) =&gt; Logger.log(0, category, message, data),
  warn: (category, message, data) =&gt; Logger.log(1, category, message, data),
  info: (category, message, data) =&gt; Logger.log(2, category, message, data),
  debug: (category, message, data) =&gt; Logger.log(3, category, message, data)
}

// ä½¿ç”¨ç¤ºä¾‹
function UserComponent({ userId }) {
  Logger.info(&#39;UserComponent&#39;, &#39;Component rendered&#39;, { userId })
  
  const [user, setUser] = useState(null)
  
  useEffect(() =&gt; {
    Logger.debug(&#39;UserComponent&#39;, &#39;Fetching user data&#39;, { userId })
    
    fetchUser(userId)
      .then(userData =&gt; {
        Logger.info(&#39;UserComponent&#39;, &#39;User data loaded&#39;, userData)
        setUser(userData)
      })
      .catch(error =&gt; {
        Logger.error(&#39;UserComponent&#39;, &#39;Failed to load user&#39;, error)
      })
  }, [userId])
  
  return user ? &lt;div&gt;{user.name}&lt;/div&gt; : &lt;div&gt;Loading...&lt;/div&gt;
}
</code></pre>
<h3>2. è°ƒè¯•ç¯å¢ƒè®¾ç½®</h3>
<pre><code class="language-jsx">// è°ƒè¯•é…ç½®
const DebugConfig = {
  enabled: process.env.NODE_ENV === &#39;development&#39;,
  
  features: {
    componentTracing: true,
    performanceMonitoring: true,
    stateLogging: true,
    eventLogging: false
  },
  
  toggle(feature) {
    this.features[feature] = !this.features[feature]
    localStorage.setItem(&#39;debug-config&#39;, JSON.stringify(this.features))
  },
  
  load() {
    const saved = localStorage.getItem(&#39;debug-config&#39;)
    if (saved) {
      this.features = { ...this.features, ...JSON.parse(saved) }
    }
  }
}

// åˆå§‹åŒ–è°ƒè¯•é…ç½®
DebugConfig.load()

// å…¨å±€è°ƒè¯•å·¥å…·
window.debug = {
  config: DebugConfig,
  enableAll: () =&gt; {
    Object.keys(DebugConfig.features).forEach(feature =&gt; {
      DebugConfig.features[feature] = true
    })
  },
  disableAll: () =&gt; {
    Object.keys(DebugConfig.features).forEach(feature =&gt; {
      DebugConfig.features[feature] = false
    })
  }
}
</code></pre>
<p>é€šè¿‡è¿™äº›è°ƒè¯•æŠ€å·§å’Œå·¥å…·ï¼Œå¼€å‘è€…å¯ä»¥æ›´æœ‰æ•ˆåœ°è¯Šæ–­å’Œè§£å†³Reactåº”ç”¨ä¸­çš„é—®é¢˜ï¼Œæé«˜å¼€å‘æ•ˆç‡å’Œåº”ç”¨è´¨é‡ã€‚è®°ä½ï¼Œè‰¯å¥½çš„è°ƒè¯•ä¹ æƒ¯æ˜¯æˆåŠŸå¼€å‘çš„å…³é”®ã€‚ </p>

          </div>

          <!-- æ–‡æ¡£å¯¼èˆª -->
          <div class="doc-navigation">
            
              <a href="31-å¼€å‘è€…å·¥å…·.html" class="nav-btn prev-btn">
                <span class="nav-icon">â†</span>
                <div class="nav-text">
                  <span class="nav-label">ä¸Šä¸€ç¯‡</span>
                  <span class="nav-title">å¼€å‘è€…å·¥å…·</span>
                </div>
              </a>
            
            
            
              <a href="33-React-APIå®Œæ•´å‚è€ƒ.html" class="nav-btn next-btn">
                <div class="nav-text">
                  <span class="nav-label">ä¸‹ä¸€ç¯‡</span>
                  <span class="nav-title">React-APIå®Œæ•´å‚è€ƒ</span>
                </div>
                <span class="nav-icon">â†’</span>
              </a>
            
          </div>
        </article>
      </main>
    </div>

    <!-- è¿”å›é¡¶éƒ¨æŒ‰é’® -->
    <button class="back-to-top" id="backToTop" onclick="scrollToTop()">
      <span>â†‘</span>
    </button>

    <!-- åº•éƒ¨ -->
    <footer class="footer">
      <div class="footer-content">
        <p>&copy; 2024 React ä¸­æ–‡æ–‡æ¡£. åŸºäº React 18.x æ„å»º</p>
        <p>Made with â¤ï¸ by Reactä¸­æ–‡ç¤¾åŒº</p>
      </div>
    </footer>
  </div>

  <script src="assets/script.js"></script>
</body>
</html>