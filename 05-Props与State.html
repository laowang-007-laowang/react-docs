<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Propsä¸State - React ä¸­æ–‡æ–‡æ¡£</title>
  <meta name="description" content="ä»å…¥é—¨åˆ°ç²¾é€šï¼Œå…¨é¢æŒæ¡Reactå¼€å‘æŠ€èƒ½">
  <link rel="stylesheet" href="assets/style.css">
  <link rel="stylesheet" href="assets/highlight.css">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>âš›ï¸</text></svg>">
</head>
<body>
  <div class="container">
    <!-- é¡¶éƒ¨å¯¼èˆª -->
    <header class="header">
      <div class="header-content">
        <div class="logo">
          <span class="logo-icon">âš›ï¸</span>
          <div class="logo-text">
            <h1>React ä¸­æ–‡æ–‡æ¡£</h1>
            <p>ç°ä»£åŒ–çš„Reactå­¦ä¹ æŒ‡å—</p>
          </div>
        </div>
        <nav class="header-nav">
          <a href="index.html" class="nav-link">é¦–é¡µ</a>
          <a href="#" class="nav-link" onclick="toggleSidebar()">ç›®å½•</a>
          <a href="https://github.com/facebook/react" target="_blank" class="nav-link">GitHub</a>
        </nav>
      </div>
    </header>

    <div class="main-layout">
      <!-- ä¾§è¾¹æ  -->
      <aside class="sidebar" id="sidebar">
        <div class="sidebar-content">
          <div class="search-box">
            <input type="text" placeholder="æœç´¢æ–‡æ¡£..." id="searchInput" onkeyup="searchDocs()">
            <span class="search-icon">ğŸ”</span>
          </div>
          <nav class="doc-nav">
            
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ“š</span>
          åŸºç¡€æ¦‚å¿µ
        </h3>
        <ul class="category-docs">
          <li><a href="01-Reactç®€ä»‹.html" class="doc-link">Reactç®€ä»‹</a></li><li><a href="02-ç¯å¢ƒæ­å»º.html" class="doc-link">ç¯å¢ƒæ­å»º</a></li><li><a href="03-JSXè¯­æ³•.html" class="doc-link">JSXè¯­æ³•</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ§©</span>
          ç»„ä»¶å¼€å‘
        </h3>
        <ul class="category-docs">
          <li><a href="04-ç»„ä»¶åŸºç¡€.html" class="doc-link">ç»„ä»¶åŸºç¡€</a></li><li><a href="05-Propsä¸State.html" class="doc-link">Propsä¸State</a></li><li><a href="06-äº‹ä»¶å¤„ç†.html" class="doc-link">äº‹ä»¶å¤„ç†</a></li><li><a href="07-æ¡ä»¶æ¸²æŸ“.html" class="doc-link">æ¡ä»¶æ¸²æŸ“</a></li><li><a href="08-åˆ—è¡¨æ¸²æŸ“.html" class="doc-link">åˆ—è¡¨æ¸²æŸ“</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ£</span>
          Hooks API
        </h3>
        <ul class="category-docs">
          <li><a href="09-Hooksæ¦‚è¿°.html" class="doc-link">Hooksæ¦‚è¿°</a></li><li><a href="10-useState.html" class="doc-link">useState</a></li><li><a href="11-useEffect.html" class="doc-link">useEffect</a></li><li><a href="12-useContext.html" class="doc-link">useContext</a></li><li><a href="13-useReducer.html" class="doc-link">useReducer</a></li><li><a href="14-useMemoå’ŒuseCallback.html" class="doc-link">useMemoå’ŒuseCallback</a></li><li><a href="15-useRef.html" class="doc-link">useRef</a></li><li><a href="16-è‡ªå®šä¹‰Hooks.html" class="doc-link">è‡ªå®šä¹‰Hooks</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ”„</span>
          ç”Ÿå‘½å‘¨æœŸ
        </h3>
        <ul class="category-docs">
          <li><a href="17-ç”Ÿå‘½å‘¨æœŸæ–¹æ³•.html" class="doc-link">ç”Ÿå‘½å‘¨æœŸæ–¹æ³•</a></li><li><a href="18-å‰¯ä½œç”¨å¤„ç†.html" class="doc-link">å‰¯ä½œç”¨å¤„ç†</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ¨</span>
          æ ·å¼ä¸UI
        </h3>
        <ul class="category-docs">
          <li><a href="19-æ ·å¼å¤„ç†.html" class="doc-link">æ ·å¼å¤„ç†</a></li><li><a href="20-åŠ¨ç”»æ•ˆæœ.html" class="doc-link">åŠ¨ç”»æ•ˆæœ</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ—ºï¸</span>
          è·¯ç”±ç®¡ç†
        </h3>
        <ul class="category-docs">
          <li><a href="21-React-Router.html" class="doc-link">React-Router</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ“¦</span>
          çŠ¶æ€ç®¡ç†
        </h3>
        <ul class="category-docs">
          <li><a href="22-Context-API.html" class="doc-link">Context-API</a></li><li><a href="23-Reduxé›†æˆ.html" class="doc-link">Reduxé›†æˆ</a></li><li><a href="24-ZustandçŠ¶æ€ç®¡ç†.html" class="doc-link">ZustandçŠ¶æ€ç®¡ç†</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸš€</span>
          æ€§èƒ½ä¼˜åŒ–
        </h3>
        <ul class="category-docs">
          <li><a href="25-æ€§èƒ½ä¼˜åŒ–æŠ€å·§.html" class="doc-link">æ€§èƒ½ä¼˜åŒ–æŠ€å·§</a></li><li><a href="26-ä»£ç åˆ†å‰².html" class="doc-link">ä»£ç åˆ†å‰²</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ§ª</span>
          æµ‹è¯•
        </h3>
        <ul class="category-docs">
          <li><a href="27-å•å…ƒæµ‹è¯•.html" class="doc-link">å•å…ƒæµ‹è¯•</a></li><li><a href="28-é›†æˆæµ‹è¯•.html" class="doc-link">é›†æˆæµ‹è¯•</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ—ï¸</span>
          æ„å»ºä¸éƒ¨ç½²
        </h3>
        <ul class="category-docs">
          <li><a href="29-é¡¹ç›®æ„å»º.html" class="doc-link">é¡¹ç›®æ„å»º</a></li><li><a href="30-ç”Ÿäº§éƒ¨ç½².html" class="doc-link">ç”Ÿäº§éƒ¨ç½²</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ› ï¸</span>
          å¼€å‘å·¥å…·
        </h3>
        <ul class="category-docs">
          <li><a href="31-å¼€å‘è€…å·¥å…·.html" class="doc-link">å¼€å‘è€…å·¥å…·</a></li><li><a href="32-è°ƒè¯•æŠ€å·§.html" class="doc-link">è°ƒè¯•æŠ€å·§</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ“–</span>
          APIå‚è€ƒ
        </h3>
        <ul class="category-docs">
          <li><a href="33-React-APIå®Œæ•´å‚è€ƒ.html" class="doc-link">React-APIå®Œæ•´å‚è€ƒ</a></li><li><a href="34-DOMå…ƒç´ å±æ€§.html" class="doc-link">DOMå…ƒç´ å±æ€§</a></li><li><a href="35-åˆæˆäº‹ä»¶.html" class="doc-link">åˆæˆäº‹ä»¶</a></li><li><a href="React-Hookså®Œæ•´å‚è€ƒ.html" class="doc-link">React-Hookså®Œæ•´å‚è€ƒ</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ’¡</span>
          æœ€ä½³å®è·µ
        </h3>
        <ul class="category-docs">
          <li><a href="36-ç¼–ç è§„èŒƒ.html" class="doc-link">ç¼–ç è§„èŒƒ</a></li><li><a href="37-é¡¹ç›®æ¶æ„.html" class="doc-link">é¡¹ç›®æ¶æ„</a></li><li><a href="38-å¸¸è§é—®é¢˜.html" class="doc-link">å¸¸è§é—®é¢˜</a></li>
        </ul>
      </div>
          </nav>
        </div>
      </aside>

      <!-- ä¸»å†…å®¹åŒº -->
      <main class="content">
        <article class="doc-article">
          <div class="doc-header">
            <div class="breadcrumb">
              <a href="index.html">é¦–é¡µ</a>
              <span class="separator">></span>
              <span class="current">Propsä¸State</span>
            </div>
            <h1 class="doc-title">Propsä¸State</h1>
            <div class="doc-meta">
              <span class="category" style="background: #f093fb">
                ğŸ§© ç»„ä»¶å¼€å‘
              </span>
            </div>
          </div>
          
          <div class="doc-content">
            <h1>Props ä¸ State</h1>
<h2>Props è¯¦è§£</h2>
<h3>ä»€ä¹ˆæ˜¯ Propsï¼Ÿ</h3>
<p>Propsï¼ˆpropertiesçš„ç®€å†™ï¼‰æ˜¯Reactç»„ä»¶çš„è¾“å…¥ã€‚å®ƒä»¬æ˜¯ä»çˆ¶ç»„ä»¶ä¼ é€’ç»™å­ç»„ä»¶çš„æ•°æ®ã€‚Propsæ˜¯åªè¯»çš„ï¼Œå­ç»„ä»¶ä¸èƒ½ä¿®æ”¹å®ƒä»¬ã€‚</p>
<h3>åŸºæœ¬ Props ä½¿ç”¨</h3>
<pre><code class="language-javascript">// ä¼ é€’åŸºæœ¬æ•°æ®ç±»å‹
function Welcome({ name, age, isActive }) {
  return (
    &lt;div&gt;
      &lt;h1&gt;Hello, {name}!&lt;/h1&gt;
      &lt;p&gt;Age: {age}&lt;/p&gt;
      &lt;span&gt;Status: {isActive ? &#39;Active&#39; : &#39;Inactive&#39;}&lt;/span&gt;
    &lt;/div&gt;
  );
}

// ä½¿ç”¨ç»„ä»¶
function App() {
  return (
    &lt;div&gt;
      &lt;Welcome name=&quot;Alice&quot; age={25} isActive={true} /&gt;
      &lt;Welcome name=&quot;Bob&quot; age={30} isActive={false} /&gt;
    &lt;/div&gt;
  );
}
</code></pre>
<h3>ä¼ é€’ä¸åŒç±»å‹çš„ Props</h3>
<pre><code class="language-javascript">function ComponentExample({
  // åŸºæœ¬ç±»å‹
  title,          // string
  count,          // number
  isVisible,      // boolean
  
  // å¤æ‚ç±»å‹
  user,           // object
  items,          // array
  onClick,        // function
  
  // JSX å…ƒç´ 
  icon,           // JSX element
  children        // ç‰¹æ®Šçš„ children prop
}) {
  return (
    &lt;div&gt;
      &lt;h2&gt;{title}&lt;/h2&gt;
      {icon &amp;&amp; &lt;span className=&quot;icon&quot;&gt;{icon}&lt;/span&gt;}
      
      &lt;div&gt;Count: {count}&lt;/div&gt;
      
      {isVisible &amp;&amp; (
        &lt;div&gt;
          &lt;h3&gt;User: {user.name}&lt;/h3&gt;
          &lt;ul&gt;
            {items.map(item =&gt; (
              &lt;li key={item.id}&gt;{item.name}&lt;/li&gt;
            ))}
          &lt;/ul&gt;
        &lt;/div&gt;
      )}
      
      &lt;button onClick={onClick}&gt;Click me&lt;/button&gt;
      
      &lt;div className=&quot;content&quot;&gt;
        {children}
      &lt;/div&gt;
    &lt;/div&gt;
  );
}

// ä½¿ç”¨ç¤ºä¾‹
function App() {
  const user = { name: &#39;John&#39;, email: &#39;john@example.com&#39; };
  const items = [
    { id: 1, name: &#39;Item 1&#39; },
    { id: 2, name: &#39;Item 2&#39; }
  ];
  
  const handleClick = () =&gt; {
    console.log(&#39;Button clicked!&#39;);
  };
  
  return (
    &lt;ComponentExample
      title=&quot;My Component&quot;
      count={42}
      isVisible={true}
      user={user}
      items={items}
      onClick={handleClick}
      icon={&lt;span&gt;ğŸ¯&lt;/span&gt;}
    &gt;
      &lt;p&gt;This is children content&lt;/p&gt;
      &lt;span&gt;More content here&lt;/span&gt;
    &lt;/ComponentExample&gt;
  );
}
</code></pre>
<h3>Props é»˜è®¤å€¼</h3>
<pre><code class="language-javascript">// æ–¹æ³• 1: å‚æ•°é»˜è®¤å€¼ï¼ˆES6ï¼‰
function Button({ text = &#39;Click me&#39;, variant = &#39;primary&#39;, disabled = false }) {
  return (
    &lt;button className={`btn btn-${variant}`} disabled={disabled}&gt;
      {text}
    &lt;/button&gt;
  );
}

// æ–¹æ³• 2: defaultPropsï¼ˆç±»ç»„ä»¶å’Œå‡½æ•°ç»„ä»¶éƒ½æ”¯æŒï¼‰
function Button({ text, variant, disabled }) {
  return (
    &lt;button className={`btn btn-${variant}`} disabled={disabled}&gt;
      {text}
    &lt;/button&gt;
  );
}

Button.defaultProps = {
  text: &#39;Click me&#39;,
  variant: &#39;primary&#39;,
  disabled: false
};

// æ–¹æ³• 3: åœ¨ç»„ä»¶å†…éƒ¨è®¾ç½®é»˜è®¤å€¼
function Button(props) {
  const {
    text = &#39;Click me&#39;,
    variant = &#39;primary&#39;,
    disabled = false
  } = props;
  
  return (
    &lt;button className={`btn btn-${variant}`} disabled={disabled}&gt;
      {text}
    &lt;/button&gt;
  );
}
</code></pre>
<h3>Props éªŒè¯ (PropTypes)</h3>
<pre><code class="language-javascript">import PropTypes from &#39;prop-types&#39;;

function UserCard({ user, onEdit, isActive }) {
  return (
    &lt;div className={`user-card ${isActive ? &#39;active&#39; : &#39;&#39;}`}&gt;
      &lt;h3&gt;{user.name}&lt;/h3&gt;
      &lt;p&gt;{user.email}&lt;/p&gt;
      &lt;button onClick={() =&gt; onEdit(user.id)}&gt;Edit&lt;/button&gt;
    &lt;/div&gt;
  );
}

UserCard.propTypes = {
  user: PropTypes.shape({
    id: PropTypes.number.isRequired,
    name: PropTypes.string.isRequired,
    email: PropTypes.string.isRequired
  }).isRequired,
  onEdit: PropTypes.func.isRequired,
  isActive: PropTypes.bool
};

UserCard.defaultProps = {
  isActive: false
};
</code></pre>
<h3>TypeScript Props ç±»å‹å®šä¹‰</h3>
<pre><code class="language-typescript">interface User {
  id: number;
  name: string;
  email: string;
  avatar?: string;
}

interface UserCardProps {
  user: User;
  onEdit: (userId: number) =&gt; void;
  isActive?: boolean;
  className?: string;
}

const UserCard: React.FC&lt;UserCardProps&gt; = ({ 
  user, 
  onEdit, 
  isActive = false, 
  className = &#39;&#39; 
}) =&gt; {
  return (
    &lt;div className={`user-card ${isActive ? &#39;active&#39; : &#39;&#39;} ${className}`}&gt;
      &lt;h3&gt;{user.name}&lt;/h3&gt;
      &lt;p&gt;{user.email}&lt;/p&gt;
      {user.avatar &amp;&amp; &lt;img src={user.avatar} alt={user.name} /&gt;}
      &lt;button onClick={() =&gt; onEdit(user.id)}&gt;Edit&lt;/button&gt;
    &lt;/div&gt;
  );
};
</code></pre>
<h2>State è¯¦è§£</h2>
<h3>ä»€ä¹ˆæ˜¯ Stateï¼Ÿ</h3>
<p>Stateæ˜¯ç»„ä»¶çš„å†…éƒ¨æ•°æ®ï¼Œå®ƒå¯ä»¥éšæ—¶é—´å˜åŒ–ã€‚å½“stateå‘ç”Ÿå˜åŒ–æ—¶ï¼Œç»„ä»¶ä¼šé‡æ–°æ¸²æŸ“ã€‚</p>
<h3>useState Hook</h3>
<pre><code class="language-javascript">import React, { useState } from &#39;react&#39;;

function Counter() {
  // å£°æ˜stateå˜é‡
  const [count, setCount] = useState(0);
  
  // å¤šä¸ªstateå˜é‡
  const [name, setName] = useState(&#39;&#39;);
  const [isVisible, setIsVisible] = useState(true);
  
  return (
    &lt;div&gt;
      &lt;h2&gt;Count: {count}&lt;/h2&gt;
      &lt;button onClick={() =&gt; setCount(count + 1)}&gt;+1&lt;/button&gt;
      &lt;button onClick={() =&gt; setCount(count - 1)}&gt;-1&lt;/button&gt;
      
      &lt;input 
        value={name}
        onChange={e =&gt; setName(e.target.value)}
        placeholder=&quot;Enter name&quot;
      /&gt;
      
      &lt;button onClick={() =&gt; setIsVisible(!isVisible)}&gt;
        {isVisible ? &#39;Hide&#39; : &#39;Show&#39;}
      &lt;/button&gt;
      {isVisible &amp;&amp; &lt;p&gt;Hello, {name}!&lt;/p&gt;}
    &lt;/div&gt;
  );
}
</code></pre>
<h3>å¤æ‚ State ç®¡ç†</h3>
<pre><code class="language-javascript">// å¯¹è±¡çŠ¶æ€
function UserProfile() {
  const [user, setUser] = useState({
    name: &#39;&#39;,
    email: &#39;&#39;,
    age: 0,
    preferences: {
      theme: &#39;light&#39;,
      notifications: true
    }
  });
  
  // æ›´æ–°å¯¹è±¡çŠ¶æ€ - æµ…å±‚åˆå¹¶
  const updateUser = (field, value) =&gt; {
    setUser(prevUser =&gt; ({
      ...prevUser,
      [field]: value
    }));
  };
  
  // æ›´æ–°åµŒå¥—å¯¹è±¡
  const updatePreferences = (prefKey, value) =&gt; {
    setUser(prevUser =&gt; ({
      ...prevUser,
      preferences: {
        ...prevUser.preferences,
        [prefKey]: value
      }
    }));
  };
  
  return (
    &lt;div&gt;
      &lt;input 
        value={user.name}
        onChange={e =&gt; updateUser(&#39;name&#39;, e.target.value)}
        placeholder=&quot;Name&quot;
      /&gt;
      &lt;input 
        value={user.email}
        onChange={e =&gt; updateUser(&#39;email&#39;, e.target.value)}
        placeholder=&quot;Email&quot;
      /&gt;
      &lt;input 
        type=&quot;number&quot;
        value={user.age}
        onChange={e =&gt; updateUser(&#39;age&#39;, parseInt(e.target.value))}
        placeholder=&quot;Age&quot;
      /&gt;
      
      &lt;label&gt;
        &lt;input 
          type=&quot;checkbox&quot;
          checked={user.preferences.notifications}
          onChange={e =&gt; updatePreferences(&#39;notifications&#39;, e.target.checked)}
        /&gt;
        Enable notifications
      &lt;/label&gt;
      
      &lt;select 
        value={user.preferences.theme}
        onChange={e =&gt; updatePreferences(&#39;theme&#39;, e.target.value)}
      &gt;
        &lt;option value=&quot;light&quot;&gt;Light&lt;/option&gt;
        &lt;option value=&quot;dark&quot;&gt;Dark&lt;/option&gt;
      &lt;/select&gt;
    &lt;/div&gt;
  );
}
</code></pre>
<h3>æ•°ç»„çŠ¶æ€ç®¡ç†</h3>
<pre><code class="language-javascript">function TodoList() {
  const [todos, setTodos] = useState([]);
  const [inputValue, setInputValue] = useState(&#39;&#39;);
  
  // æ·»åŠ æ–°é¡¹ç›®
  const addTodo = () =&gt; {
    if (inputValue.trim()) {
      setTodos(prevTodos =&gt; [
        ...prevTodos,
        {
          id: Date.now(),
          text: inputValue,
          completed: false
        }
      ]);
      setInputValue(&#39;&#39;);
    }
  };
  
  // åˆ‡æ¢å®ŒæˆçŠ¶æ€
  const toggleTodo = (id) =&gt; {
    setTodos(prevTodos =&gt;
      prevTodos.map(todo =&gt;
        todo.id === id 
          ? { ...todo, completed: !todo.completed }
          : todo
      )
    );
  };
  
  // åˆ é™¤é¡¹ç›®
  const deleteTodo = (id) =&gt; {
    setTodos(prevTodos =&gt; prevTodos.filter(todo =&gt; todo.id !== id));
  };
  
  // ç¼–è¾‘é¡¹ç›®
  const editTodo = (id, newText) =&gt; {
    setTodos(prevTodos =&gt;
      prevTodos.map(todo =&gt;
        todo.id === id 
          ? { ...todo, text: newText }
          : todo
      )
    );
  };
  
  return (
    &lt;div&gt;
      &lt;input 
        value={inputValue}
        onChange={e =&gt; setInputValue(e.target.value)}
        onKeyPress={e =&gt; e.key === &#39;Enter&#39; &amp;&amp; addTodo()}
        placeholder=&quot;Add a todo...&quot;
      /&gt;
      &lt;button onClick={addTodo}&gt;Add&lt;/button&gt;
      
      &lt;ul&gt;
        {todos.map(todo =&gt; (
          &lt;li key={todo.id}&gt;
            &lt;input 
              type=&quot;checkbox&quot;
              checked={todo.completed}
              onChange={() =&gt; toggleTodo(todo.id)}
            /&gt;
            &lt;span style={{ 
              textDecoration: todo.completed ? &#39;line-through&#39; : &#39;none&#39; 
            }}&gt;
              {todo.text}
            &lt;/span&gt;
            &lt;button onClick={() =&gt; editTodo(todo.id, prompt(&#39;New text:&#39;, todo.text))}&gt;
              Edit
            &lt;/button&gt;
            &lt;button onClick={() =&gt; deleteTodo(todo.id)}&gt;Delete&lt;/button&gt;
          &lt;/li&gt;
        ))}
      &lt;/ul&gt;
    &lt;/div&gt;
  );
}
</code></pre>
<h3>å‡½æ•°å¼çŠ¶æ€æ›´æ–°</h3>
<pre><code class="language-javascript">function Counter() {
  const [count, setCount] = useState(0);
  
  // åŸºäºå½“å‰çŠ¶æ€çš„æ›´æ–°
  const increment = () =&gt; {
    // âŒ å¯èƒ½å‡ºç°é—®é¢˜ï¼ˆå¦‚æœæœ‰å¤šæ¬¡å¿«é€Ÿç‚¹å‡»ï¼‰
    setCount(count + 1);
    
    // âœ… æ¨èï¼šä½¿ç”¨å‡½æ•°å¼æ›´æ–°
    setCount(prevCount =&gt; prevCount + 1);
  };
  
  // å¤æ‚çš„çŠ¶æ€æ›´æ–°
  const incrementByAmount = (amount) =&gt; {
    setCount(prevCount =&gt; {
      const newCount = prevCount + amount;
      // å¯ä»¥åœ¨è¿™é‡Œæ·»åŠ é¢å¤–çš„é€»è¾‘
      console.log(`Count changed from ${prevCount} to ${newCount}`);
      return newCount;
    });
  };
  
  return (
    &lt;div&gt;
      &lt;h2&gt;Count: {count}&lt;/h2&gt;
      &lt;button onClick={increment}&gt;+1&lt;/button&gt;
      &lt;button onClick={() =&gt; incrementByAmount(5)}&gt;+5&lt;/button&gt;
    &lt;/div&gt;
  );
}
</code></pre>
<h3>çŠ¶æ€åˆå§‹åŒ–</h3>
<pre><code class="language-javascript">function ExpensiveComponent() {
  // âŒ æ¯æ¬¡æ¸²æŸ“éƒ½ä¼šæ‰§è¡Œ
  const [data, setData] = useState(expensiveCalculation());
  
  // âœ… åªåœ¨åˆå§‹åŒ–æ—¶æ‰§è¡Œï¼ˆæƒ°æ€§åˆå§‹åŒ–ï¼‰
  const [data, setData] = useState(() =&gt; expensiveCalculation());
  
  // ä»localStorageè¯»å–åˆå§‹å€¼
  const [user, setUser] = useState(() =&gt; {
    const savedUser = localStorage.getItem(&#39;user&#39;);
    return savedUser ? JSON.parse(savedUser) : null;
  });
  
  return &lt;div&gt;{/* ç»„ä»¶å†…å®¹ */}&lt;/div&gt;;
}

function expensiveCalculation() {
  console.log(&#39;Performing expensive calculation...&#39;);
  // æ¨¡æ‹Ÿæ˜‚è´µçš„è®¡ç®—
  let result = 0;
  for (let i = 0; i &lt; 1000000; i++) {
    result += i;
  }
  return result;
}
</code></pre>
<h2>Props vs State</h2>
<h3>ä¸»è¦åŒºåˆ«</h3>
<table>
<thead>
<tr>
<th>ç‰¹æ€§</th>
<th>Props</th>
<th>State</th>
</tr>
</thead>
<tbody><tr>
<td>æ•°æ®æ¥æº</td>
<td>çˆ¶ç»„ä»¶ä¼ é€’</td>
<td>ç»„ä»¶å†…éƒ¨</td>
</tr>
<tr>
<td>å¯å˜æ€§</td>
<td>åªè¯»ï¼Œä¸å¯ä¿®æ”¹</td>
<td>å¯ä¿®æ”¹</td>
</tr>
<tr>
<td>ä½œç”¨åŸŸ</td>
<td>è·¨ç»„ä»¶ä¼ é€’</td>
<td>ç»„ä»¶å†…éƒ¨</td>
</tr>
<tr>
<td>æ›´æ–°æ–¹å¼</td>
<td>çˆ¶ç»„ä»¶é‡æ–°æ¸²æŸ“</td>
<td>setState/useState</td>
</tr>
<tr>
<td>åˆå§‹åŒ–</td>
<td>çˆ¶ç»„ä»¶æä¾›</td>
<td>ç»„ä»¶å†…éƒ¨å®šä¹‰</td>
</tr>
</tbody></table>
<h3>ä½•æ—¶ä½¿ç”¨ Props</h3>
<pre><code class="language-javascript">// âœ… ç”¨äºå±•ç¤ºä»çˆ¶ç»„ä»¶ä¼ é€’çš„æ•°æ®
function UserDisplay({ user }) {
  return (
    &lt;div&gt;
      &lt;h3&gt;{user.name}&lt;/h3&gt;
      &lt;p&gt;{user.email}&lt;/p&gt;
    &lt;/div&gt;
  );
}

// âœ… ç”¨äºå›è°ƒå‡½æ•°
function Button({ onClick, children }) {
  return &lt;button onClick={onClick}&gt;{children}&lt;/button&gt;;
}

// âœ… ç”¨äºé…ç½®ç»„ä»¶è¡Œä¸º
function Modal({ isOpen, title, onClose, children }) {
  if (!isOpen) return null;
  
  return (
    &lt;div className=&quot;modal&quot;&gt;
      &lt;div className=&quot;modal-header&quot;&gt;
        &lt;h2&gt;{title}&lt;/h2&gt;
        &lt;button onClick={onClose}&gt;Ã—&lt;/button&gt;
      &lt;/div&gt;
      &lt;div className=&quot;modal-body&quot;&gt;
        {children}
      &lt;/div&gt;
    &lt;/div&gt;
  );
}
</code></pre>
<h3>ä½•æ—¶ä½¿ç”¨ State</h3>
<pre><code class="language-javascript">// âœ… ç”¨äºç»„ä»¶å†…éƒ¨çš„äº¤äº’çŠ¶æ€
function SearchBox() {
  const [query, setQuery] = useState(&#39;&#39;);
  
  return (
    &lt;input 
      value={query}
      onChange={e =&gt; setQuery(e.target.value)}
      placeholder=&quot;Search...&quot;
    /&gt;
  );
}

// âœ… ç”¨äºæ§åˆ¶ç»„ä»¶çš„å¯è§æ€§
function Collapsible({ title, children }) {
  const [isOpen, setIsOpen] = useState(false);
  
  return (
    &lt;div&gt;
      &lt;button onClick={() =&gt; setIsOpen(!isOpen)}&gt;
        {title} {isOpen ? &#39;âˆ’&#39; : &#39;+&#39;}
      &lt;/button&gt;
      {isOpen &amp;&amp; &lt;div&gt;{children}&lt;/div&gt;}
    &lt;/div&gt;
  );
}

// âœ… ç”¨äºè¡¨å•æ•°æ®
function ContactForm() {
  const [formData, setFormData] = useState({
    name: &#39;&#39;,
    email: &#39;&#39;,
    message: &#39;&#39;
  });
  
  const handleSubmit = (e) =&gt; {
    e.preventDefault();
    console.log(&#39;Form submitted:&#39;, formData);
  };
  
  return (
    &lt;form onSubmit={handleSubmit}&gt;
      &lt;input 
        value={formData.name}
        onChange={e =&gt; setFormData({...formData, name: e.target.value})}
        placeholder=&quot;Name&quot;
      /&gt;
      &lt;input 
        value={formData.email}
        onChange={e =&gt; setFormData({...formData, email: e.target.value})}
        placeholder=&quot;Email&quot;
      /&gt;
      &lt;textarea 
        value={formData.message}
        onChange={e =&gt; setFormData({...formData, message: e.target.value})}
        placeholder=&quot;Message&quot;
      /&gt;
      &lt;button type=&quot;submit&quot;&gt;Send&lt;/button&gt;
    &lt;/form&gt;
  );
}
</code></pre>
<h2>çŠ¶æ€æå‡</h2>
<h3>æ¦‚å¿µè¯´æ˜</h3>
<p>å½“å¤šä¸ªç»„ä»¶éœ€è¦å…±äº«åŒä¸€çŠ¶æ€æ—¶ï¼Œåº”è¯¥å°†çŠ¶æ€æå‡åˆ°å®ƒä»¬æœ€è¿‘çš„å…±åŒçˆ¶ç»„ä»¶ä¸­ã€‚</p>
<pre><code class="language-javascript">// å­ç»„ä»¶ - æ¸©åº¦è¾“å…¥æ¡†
function TemperatureInput({ scale, temperature, onTemperatureChange }) {
  return (
    &lt;fieldset&gt;
      &lt;legend&gt;Enter temperature in {scale}:&lt;/legend&gt;
      &lt;input
        value={temperature}
        onChange={e =&gt; onTemperatureChange(e.target.value)}
      /&gt;
    &lt;/fieldset&gt;
  );
}

// å­ç»„ä»¶ - æ²¸ç‚¹åˆ¤æ–­
function BoilingVerdict({ celsius }) {
  if (celsius &gt;= 100) {
    return &lt;p&gt;The water would boil.&lt;/p&gt;;
  }
  return &lt;p&gt;The water would not boil.&lt;/p&gt;;
}

// çˆ¶ç»„ä»¶ - çŠ¶æ€æå‡åˆ°è¿™é‡Œ
function Calculator() {
  const [temperature, setTemperature] = useState(&#39;&#39;);
  const [scale, setScale] = useState(&#39;c&#39;);
  
  const handleCelsiusChange = (temperature) =&gt; {
    setScale(&#39;c&#39;);
    setTemperature(temperature);
  };
  
  const handleFahrenheitChange = (temperature) =&gt; {
    setScale(&#39;f&#39;);
    setTemperature(temperature);
  };
  
  const celsius = scale === &#39;f&#39; ? tryConvert(temperature, toCelsius) : temperature;
  const fahrenheit = scale === &#39;c&#39; ? tryConvert(temperature, toFahrenheit) : temperature;
  
  return (
    &lt;div&gt;
      &lt;TemperatureInput
        scale=&quot;c&quot;
        temperature={celsius}
        onTemperatureChange={handleCelsiusChange}
      /&gt;
      &lt;TemperatureInput
        scale=&quot;f&quot;
        temperature={fahrenheit}
        onTemperatureChange={handleFahrenheitChange}
      /&gt;
      &lt;BoilingVerdict celsius={parseFloat(celsius)} /&gt;
    &lt;/div&gt;
  );
}

// è¾…åŠ©å‡½æ•°
function toCelsius(fahrenheit) {
  return (fahrenheit - 32) * 5 / 9;
}

function toFahrenheit(celsius) {
  return (celsius * 9 / 5) + 32;
}

function tryConvert(temperature, convert) {
  const input = parseFloat(temperature);
  if (Number.isNaN(input)) {
    return &#39;&#39;;
  }
  const output = convert(input);
  const rounded = Math.round(output * 1000) / 1000;
  return rounded.toString();
}
</code></pre>
<h2>æœ€ä½³å®è·µ</h2>
<h3>1. Props æœ€ä½³å®è·µ</h3>
<pre><code class="language-javascript">// âœ… ä½¿ç”¨å…·ä½“çš„propsåç§°
function Button({ onSubmit, isLoading, variant }) {
  return (
    &lt;button 
      onClick={onSubmit}
      disabled={isLoading}
      className={`btn btn-${variant}`}
    &gt;
      {isLoading ? &#39;Loading...&#39; : &#39;Submit&#39;}
    &lt;/button&gt;
  );
}

// âŒ é¿å…è¿‡äºé€šç”¨çš„propsåç§°
function Button({ onClick, disabled, className }) {
  // ä¸å¤Ÿè¯­ä¹‰åŒ–
}

// âœ… ä½¿ç”¨è§£æ„æ¥æé«˜å¯è¯»æ€§
function UserCard({ user: { name, email, avatar }, onEdit, onDelete }) {
  return (
    &lt;div className=&quot;user-card&quot;&gt;
      &lt;img src={avatar} alt={name} /&gt;
      &lt;h3&gt;{name}&lt;/h3&gt;
      &lt;p&gt;{email}&lt;/p&gt;
      &lt;button onClick={onEdit}&gt;Edit&lt;/button&gt;
      &lt;button onClick={onDelete}&gt;Delete&lt;/button&gt;
    &lt;/div&gt;
  );
}
</code></pre>
<h3>2. State æœ€ä½³å®è·µ</h3>
<pre><code class="language-javascript">// âœ… ä¿æŒstateç»“æ„æ‰å¹³
function UserForm() {
  const [name, setName] = useState(&#39;&#39;);
  const [email, setEmail] = useState(&#39;&#39;);
  const [age, setAge] = useState(0);
  
  // è€Œä¸æ˜¯
  // const [user, setUser] = useState({ name: &#39;&#39;, email: &#39;&#39;, age: 0 });
}

// âœ… ç›¸å…³çŠ¶æ€å¯ä»¥ç»„åˆ
function UserForm() {
  const [user, setUser] = useState({
    name: &#39;&#39;,
    email: &#39;&#39;,
    age: 0
  });
  
  const [ui, setUi] = useState({
    isLoading: false,
    errors: {},
    showValidation: false
  });
}

// âœ… ä½¿ç”¨è‡ªå®šä¹‰Hookå°è£…å¤æ‚çŠ¶æ€é€»è¾‘
function useForm(initialValues) {
  const [values, setValues] = useState(initialValues);
  const [errors, setErrors] = useState({});
  
  const setValue = (name, value) =&gt; {
    setValues(prev =&gt; ({ ...prev, [name]: value }));
  };
  
  const setError = (name, error) =&gt; {
    setErrors(prev =&gt; ({ ...prev, [name]: error }));
  };
  
  const reset = () =&gt; {
    setValues(initialValues);
    setErrors({});
  };
  
  return { values, errors, setValue, setError, reset };
}
</code></pre>
<h3>3. é¿å…å¸¸è§é™·é˜±</h3>
<pre><code class="language-javascript">// âŒ ç›´æ¥ä¿®æ”¹stateï¼ˆä¸ä¼šè§¦å‘é‡æ–°æ¸²æŸ“ï¼‰
function TodoList() {
  const [todos, setTodos] = useState([]);
  
  const addTodo = (text) =&gt; {
    todos.push({ id: Date.now(), text }); // é”™è¯¯ï¼
    setTodos(todos); // ä¸ä¼šé‡æ–°æ¸²æŸ“
  };
}

// âœ… æ­£ç¡®çš„æ–¹å¼
function TodoList() {
  const [todos, setTodos] = useState([]);
  
  const addTodo = (text) =&gt; {
    setTodos(prevTodos =&gt; [
      ...prevTodos,
      { id: Date.now(), text }
    ]);
  };
}

// âŒ åœ¨propsä¸­ä¼ é€’æ•´ä¸ªå¯¹è±¡ï¼ˆå¯èƒ½å¯¼è‡´ä¸å¿…è¦çš„æ¸²æŸ“ï¼‰
function Parent() {
  const [count, setCount] = useState(0);
  const data = { count, timestamp: Date.now() }; // æ¯æ¬¡æ¸²æŸ“éƒ½åˆ›å»ºæ–°å¯¹è±¡
  
  return &lt;Child data={data} /&gt;;
}

// âœ… åªä¼ é€’éœ€è¦çš„æ•°æ®
function Parent() {
  const [count, setCount] = useState(0);
  
  return &lt;Child count={count} /&gt;;
}
</code></pre>
<h2>ä¸‹ä¸€æ­¥</h2>
<p>å­¦ä¹ å®ŒPropsä¸Stateåï¼Œå»ºè®®ç»§ç»­å­¦ä¹ ï¼š</p>
<ol>
<li><a href="./06-%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86.md">äº‹ä»¶å¤„ç†</a> - äº†è§£å¦‚ä½•å¤„ç†ç”¨æˆ·äº¤äº’</li>
<li><a href="./07-%E6%9D%A1%E4%BB%B6%E6%B8%B2%E6%9F%93.md">æ¡ä»¶æ¸²æŸ“</a> - å­¦ä¹ æ¡ä»¶æ˜¾ç¤ºå†…å®¹</li>
<li><a href="./08-%E5%88%97%E8%A1%A8%E6%B8%B2%E6%9F%93.md">åˆ—è¡¨æ¸²æŸ“</a> - æŒæ¡åŠ¨æ€åˆ—è¡¨çš„æ¸²æŸ“</li>
</ol>

          </div>

          <!-- æ–‡æ¡£å¯¼èˆª -->
          <div class="doc-navigation">
            
              <a href="04-ç»„ä»¶åŸºç¡€.html" class="nav-btn prev-btn">
                <span class="nav-icon">â†</span>
                <div class="nav-text">
                  <span class="nav-label">ä¸Šä¸€ç¯‡</span>
                  <span class="nav-title">ç»„ä»¶åŸºç¡€</span>
                </div>
              </a>
            
            
            
              <a href="06-äº‹ä»¶å¤„ç†.html" class="nav-btn next-btn">
                <div class="nav-text">
                  <span class="nav-label">ä¸‹ä¸€ç¯‡</span>
                  <span class="nav-title">äº‹ä»¶å¤„ç†</span>
                </div>
                <span class="nav-icon">â†’</span>
              </a>
            
          </div>
        </article>
      </main>
    </div>

    <!-- è¿”å›é¡¶éƒ¨æŒ‰é’® -->
    <button class="back-to-top" id="backToTop" onclick="scrollToTop()">
      <span>â†‘</span>
    </button>

    <!-- åº•éƒ¨ -->
    <footer class="footer">
      <div class="footer-content">
        <p>&copy; 2024 React ä¸­æ–‡æ–‡æ¡£. åŸºäº React 18.x æ„å»º</p>
        <p>Made with â¤ï¸ by Reactä¸­æ–‡ç¤¾åŒº</p>
      </div>
    </footer>
  </div>

  <script src="assets/script.js"></script>
</body>
</html>