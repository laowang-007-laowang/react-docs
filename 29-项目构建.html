<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>é¡¹ç›®æ„å»º - React ä¸­æ–‡æ–‡æ¡£</title>
  <meta name="description" content="ä»å…¥é—¨åˆ°ç²¾é€šï¼Œå…¨é¢æŒæ¡Reactå¼€å‘æŠ€èƒ½">
  <link rel="stylesheet" href="assets/style.css">
  <link rel="stylesheet" href="assets/highlight.css">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>âš›ï¸</text></svg>">
</head>
<body>
  <div class="container">
    <!-- é¡¶éƒ¨å¯¼èˆª -->
    <header class="header">
      <div class="header-content">
        <div class="logo">
          <span class="logo-icon">âš›ï¸</span>
          <div class="logo-text">
            <h1>React ä¸­æ–‡æ–‡æ¡£</h1>
            <p>ç°ä»£åŒ–çš„Reactå­¦ä¹ æŒ‡å—</p>
          </div>
        </div>
        <nav class="header-nav">
          <a href="index.html" class="nav-link">é¦–é¡µ</a>
          <a href="#" class="nav-link" onclick="toggleSidebar()">ç›®å½•</a>
          <a href="https://github.com/facebook/react" target="_blank" class="nav-link">GitHub</a>
        </nav>
      </div>
    </header>

    <div class="main-layout">
      <!-- ä¾§è¾¹æ  -->
      <aside class="sidebar" id="sidebar">
        <div class="sidebar-content">
          <div class="search-box">
            <input type="text" placeholder="æœç´¢æ–‡æ¡£..." id="searchInput" onkeyup="searchDocs()">
            <span class="search-icon">ğŸ”</span>
          </div>
          <nav class="doc-nav">
            
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ“š</span>
          åŸºç¡€æ¦‚å¿µ
        </h3>
        <ul class="category-docs">
          <li><a href="01-Reactç®€ä»‹.html" class="doc-link">Reactç®€ä»‹</a></li><li><a href="02-ç¯å¢ƒæ­å»º.html" class="doc-link">ç¯å¢ƒæ­å»º</a></li><li><a href="03-JSXè¯­æ³•.html" class="doc-link">JSXè¯­æ³•</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ§©</span>
          ç»„ä»¶å¼€å‘
        </h3>
        <ul class="category-docs">
          <li><a href="04-ç»„ä»¶åŸºç¡€.html" class="doc-link">ç»„ä»¶åŸºç¡€</a></li><li><a href="05-Propsä¸State.html" class="doc-link">Propsä¸State</a></li><li><a href="06-äº‹ä»¶å¤„ç†.html" class="doc-link">äº‹ä»¶å¤„ç†</a></li><li><a href="07-æ¡ä»¶æ¸²æŸ“.html" class="doc-link">æ¡ä»¶æ¸²æŸ“</a></li><li><a href="08-åˆ—è¡¨æ¸²æŸ“.html" class="doc-link">åˆ—è¡¨æ¸²æŸ“</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ£</span>
          Hooks API
        </h3>
        <ul class="category-docs">
          <li><a href="09-Hooksæ¦‚è¿°.html" class="doc-link">Hooksæ¦‚è¿°</a></li><li><a href="10-useState.html" class="doc-link">useState</a></li><li><a href="11-useEffect.html" class="doc-link">useEffect</a></li><li><a href="12-useContext.html" class="doc-link">useContext</a></li><li><a href="13-useReducer.html" class="doc-link">useReducer</a></li><li><a href="14-useMemoå’ŒuseCallback.html" class="doc-link">useMemoå’ŒuseCallback</a></li><li><a href="15-useRef.html" class="doc-link">useRef</a></li><li><a href="16-è‡ªå®šä¹‰Hooks.html" class="doc-link">è‡ªå®šä¹‰Hooks</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ”„</span>
          ç”Ÿå‘½å‘¨æœŸ
        </h3>
        <ul class="category-docs">
          <li><a href="17-ç”Ÿå‘½å‘¨æœŸæ–¹æ³•.html" class="doc-link">ç”Ÿå‘½å‘¨æœŸæ–¹æ³•</a></li><li><a href="18-å‰¯ä½œç”¨å¤„ç†.html" class="doc-link">å‰¯ä½œç”¨å¤„ç†</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ¨</span>
          æ ·å¼ä¸UI
        </h3>
        <ul class="category-docs">
          <li><a href="19-æ ·å¼å¤„ç†.html" class="doc-link">æ ·å¼å¤„ç†</a></li><li><a href="20-åŠ¨ç”»æ•ˆæœ.html" class="doc-link">åŠ¨ç”»æ•ˆæœ</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ—ºï¸</span>
          è·¯ç”±ç®¡ç†
        </h3>
        <ul class="category-docs">
          <li><a href="21-React-Router.html" class="doc-link">React-Router</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ“¦</span>
          çŠ¶æ€ç®¡ç†
        </h3>
        <ul class="category-docs">
          <li><a href="22-Context-API.html" class="doc-link">Context-API</a></li><li><a href="23-Reduxé›†æˆ.html" class="doc-link">Reduxé›†æˆ</a></li><li><a href="24-ZustandçŠ¶æ€ç®¡ç†.html" class="doc-link">ZustandçŠ¶æ€ç®¡ç†</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸš€</span>
          æ€§èƒ½ä¼˜åŒ–
        </h3>
        <ul class="category-docs">
          <li><a href="25-æ€§èƒ½ä¼˜åŒ–æŠ€å·§.html" class="doc-link">æ€§èƒ½ä¼˜åŒ–æŠ€å·§</a></li><li><a href="26-ä»£ç åˆ†å‰².html" class="doc-link">ä»£ç åˆ†å‰²</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ§ª</span>
          æµ‹è¯•
        </h3>
        <ul class="category-docs">
          <li><a href="27-å•å…ƒæµ‹è¯•.html" class="doc-link">å•å…ƒæµ‹è¯•</a></li><li><a href="28-é›†æˆæµ‹è¯•.html" class="doc-link">é›†æˆæµ‹è¯•</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ—ï¸</span>
          æ„å»ºä¸éƒ¨ç½²
        </h3>
        <ul class="category-docs">
          <li><a href="29-é¡¹ç›®æ„å»º.html" class="doc-link">é¡¹ç›®æ„å»º</a></li><li><a href="30-ç”Ÿäº§éƒ¨ç½².html" class="doc-link">ç”Ÿäº§éƒ¨ç½²</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ› ï¸</span>
          å¼€å‘å·¥å…·
        </h3>
        <ul class="category-docs">
          <li><a href="31-å¼€å‘è€…å·¥å…·.html" class="doc-link">å¼€å‘è€…å·¥å…·</a></li><li><a href="32-è°ƒè¯•æŠ€å·§.html" class="doc-link">è°ƒè¯•æŠ€å·§</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ“–</span>
          APIå‚è€ƒ
        </h3>
        <ul class="category-docs">
          <li><a href="33-React-APIå®Œæ•´å‚è€ƒ.html" class="doc-link">React-APIå®Œæ•´å‚è€ƒ</a></li><li><a href="34-DOMå…ƒç´ å±æ€§.html" class="doc-link">DOMå…ƒç´ å±æ€§</a></li><li><a href="35-åˆæˆäº‹ä»¶.html" class="doc-link">åˆæˆäº‹ä»¶</a></li><li><a href="React-Hookså®Œæ•´å‚è€ƒ.html" class="doc-link">React-Hookså®Œæ•´å‚è€ƒ</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ’¡</span>
          æœ€ä½³å®è·µ
        </h3>
        <ul class="category-docs">
          <li><a href="36-ç¼–ç è§„èŒƒ.html" class="doc-link">ç¼–ç è§„èŒƒ</a></li><li><a href="37-é¡¹ç›®æ¶æ„.html" class="doc-link">é¡¹ç›®æ¶æ„</a></li><li><a href="38-å¸¸è§é—®é¢˜.html" class="doc-link">å¸¸è§é—®é¢˜</a></li>
        </ul>
      </div>
          </nav>
        </div>
      </aside>

      <!-- ä¸»å†…å®¹åŒº -->
      <main class="content">
        <article class="doc-article">
          <div class="doc-header">
            <div class="breadcrumb">
              <a href="index.html">é¦–é¡µ</a>
              <span class="separator">></span>
              <span class="current">é¡¹ç›®æ„å»º</span>
            </div>
            <h1 class="doc-title">é¡¹ç›®æ„å»º</h1>
            <div class="doc-meta">
              <span class="category" style="background: #ffd89b">
                ğŸ—ï¸ æ„å»ºä¸éƒ¨ç½²
              </span>
            </div>
          </div>
          
          <div class="doc-content">
            <h1>29-é¡¹ç›®æ„å»º</h1>
<p>Reacté¡¹ç›®æ„å»ºæ˜¯å°†å¼€å‘ç¯å¢ƒçš„ä»£ç è½¬æ¢ä¸ºç”Ÿäº§ç¯å¢ƒå¯ç”¨ä»£ç çš„è¿‡ç¨‹ã€‚æœ¬æ–‡æ¡£å°†ä»‹ç»Reacté¡¹ç›®æ„å»ºçš„å®Œæ•´æµç¨‹ã€å·¥å…·é…ç½®å’Œæœ€ä½³å®è·µã€‚</p>
<h2>æ„å»ºå·¥å…·æ¦‚è§ˆ</h2>
<h3>ç°ä»£æ„å»ºå·¥å…·</h3>
<pre><code class="language-jsx">// ä¸»æµæ„å»ºå·¥å…·å¯¹æ¯”
const buildTools = {
  webpack: {
    ä¼˜ç‚¹: [&#39;æˆç†Ÿç¨³å®š&#39;, &#39;ç”Ÿæ€ä¸°å¯Œ&#39;, &#39;é…ç½®çµæ´»&#39;],
    ç¼ºç‚¹: [&#39;é…ç½®å¤æ‚&#39;, &#39;æ„å»ºè¾ƒæ…¢&#39;],
    é€‚ç”¨: &#39;å¤§å‹å¤æ‚é¡¹ç›®&#39;
  },
  vite: {
    ä¼˜ç‚¹: [&#39;å¼€å‘å¿«é€Ÿ&#39;, &#39;ç°ä»£åŒ–&#39;, &#39;ESæ¨¡å—åŸç”Ÿæ”¯æŒ&#39;],
    ç¼ºç‚¹: [&#39;ç”Ÿæ€ç›¸å¯¹è¾ƒæ–°&#39;],
    é€‚ç”¨: &#39;ç°ä»£é¡¹ç›®ã€å¿«é€ŸåŸå‹&#39;
  },
  rollup: {
    ä¼˜ç‚¹: [&#39;Bundleä½“ç§¯å°&#39;, &#39;Tree shakingå¥½&#39;],
    ç¼ºç‚¹: [&#39;é…ç½®ç›¸å¯¹å¤æ‚&#39;],
    é€‚ç”¨: &#39;åº“å¼€å‘ã€ç»„ä»¶åº“&#39;
  }
};
</code></pre>
<h2>Create React App (CRA)</h2>
<h3>åŸºç¡€ä½¿ç”¨</h3>
<pre><code class="language-bash"># åˆ›å»ºæ–°é¡¹ç›®
npx create-react-app my-app
cd my-app

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm start

# ç”Ÿäº§æ„å»º
npm run build

# è¿è¡Œæµ‹è¯•
npm test
</code></pre>
<h3>é¡¹ç›®ç»“æ„</h3>
<pre><code>my-app/
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ favicon.ico
â”‚   â””â”€â”€ manifest.json
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ App.js
â”‚   â”œâ”€â”€ App.css
â”‚   â”œâ”€â”€ index.js
â”‚   â””â”€â”€ index.css
â”œâ”€â”€ package.json
â”œâ”€â”€ README.md
â””â”€â”€ .gitignore
</code></pre>
<h3>ç¯å¢ƒå˜é‡é…ç½®</h3>
<pre><code class="language-bash"># .env.local
REACT_APP_API_BASE_URL=http://localhost:3001
REACT_APP_APP_VERSION=$npm_package_version
REACT_APP_GOOGLE_ANALYTICS_ID=GA-XXXXXXXXX

# .env.development
REACT_APP_API_BASE_URL=http://localhost:3001
REACT_APP_DEBUG=true

# .env.production  
REACT_APP_API_BASE_URL=https://api.production.com
REACT_APP_DEBUG=false
</code></pre>
<pre><code class="language-jsx">// åœ¨ä»£ç ä¸­ä½¿ç”¨ç¯å¢ƒå˜é‡
const config = {
  apiBaseUrl: process.env.REACT_APP_API_BASE_URL,
  version: process.env.REACT_APP_APP_VERSION,
  isDevelopment: process.env.NODE_ENV === &#39;development&#39;,
  isProduction: process.env.NODE_ENV === &#39;production&#39;
};

export default config;
</code></pre>
<h2>Viteæ„å»º</h2>
<h3>é¡¹ç›®åˆå§‹åŒ–</h3>
<pre><code class="language-bash"># ä½¿ç”¨Viteåˆ›å»ºReacté¡¹ç›®
npm create vite@latest my-react-app -- --template react-ts
cd my-react-app
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# ç”Ÿäº§æ„å»º
npm run build

# é¢„è§ˆæ„å»ºç»“æœ
npm run preview
</code></pre>
<h3>Viteé…ç½®</h3>
<pre><code class="language-javascript">// vite.config.js
import { defineConfig } from &#39;vite&#39;;
import react from &#39;@vitejs/plugin-react&#39;;
import { resolve } from &#39;path&#39;;

export default defineConfig({
  plugins: [react()],
  resolve: {
    alias: {
      &#39;@&#39;: resolve(__dirname, &#39;src&#39;),
      &#39;@components&#39;: resolve(__dirname, &#39;src/components&#39;),
      &#39;@utils&#39;: resolve(__dirname, &#39;src/utils&#39;),
      &#39;@assets&#39;: resolve(__dirname, &#39;src/assets&#39;)
    }
  },
  define: {
    __APP_VERSION__: JSON.stringify(process.env.npm_package_version)
  },
  server: {
    port: 3000,
    proxy: {
      &#39;/api&#39;: {
        target: &#39;http://localhost:8080&#39;,
        changeOrigin: true,
        rewrite: (path) =&gt; path.replace(/^\/api/, &#39;&#39;)
      }
    }
  },
  build: {
    outDir: &#39;dist&#39;,
    sourcemap: true,
    rollupOptions: {
      output: {
        manualChunks: {
          vendor: [&#39;react&#39;, &#39;react-dom&#39;],
          router: [&#39;react-router-dom&#39;],
          ui: [&#39;antd&#39;]
        }
      }
    }
  },
  css: {
    preprocessorOptions: {
      scss: {
        additionalData: `@import &quot;@/styles/variables.scss&quot;;`
      }
    }
  }
});
</code></pre>
<h2>Webpackè‡ªå®šä¹‰é…ç½®</h2>
<h3>å¼¹å‡ºCRAé…ç½®</h3>
<pre><code class="language-bash"># âš ï¸ ä¸å¯é€†æ“ä½œ
npm run eject
</code></pre>
<h3>ä½¿ç”¨CRACOè‡ªå®šä¹‰</h3>
<pre><code class="language-bash"># å®‰è£…CRACO
npm install @craco/craco

# å®‰è£…é¢å¤–æ’ä»¶
npm install craco-alias @craco/craco-less
</code></pre>
<pre><code class="language-javascript">// craco.config.js
const CracoAlias = require(&#39;craco-alias&#39;);
const CracoLessPlugin = require(&#39;@craco/craco-less&#39;);

module.exports = {
  plugins: [
    {
      plugin: CracoAlias,
      options: {
        source: &#39;tsconfig&#39;,
        baseUrl: &#39;./src&#39;,
        tsConfigPath: &#39;./tsconfig.paths.json&#39;
      }
    },
    {
      plugin: CracoLessPlugin,
      options: {
        lessLoaderOptions: {
          lessOptions: {
            modifyVars: {
              &#39;@primary-color&#39;: &#39;#1DA57A&#39;,
              &#39;@border-radius-base&#39;: &#39;4px&#39;
            },
            javascriptEnabled: true
          }
        }
      }
    }
  ],
  webpack: {
    alias: {
      &#39;@&#39;: path.resolve(__dirname, &#39;src&#39;)
    },
    configure: (webpackConfig) =&gt; {
      // è‡ªå®šä¹‰webpacké…ç½®
      return webpackConfig;
    }
  },
  devServer: {
    proxy: {
      &#39;/api&#39;: {
        target: &#39;http://localhost:8080&#39;,
        changeOrigin: true
      }
    }
  }
};
</code></pre>
<pre><code class="language-json">// package.json
{
  &quot;scripts&quot;: {
    &quot;start&quot;: &quot;craco start&quot;,
    &quot;build&quot;: &quot;craco build&quot;,
    &quot;test&quot;: &quot;craco test&quot;
  }
}
</code></pre>
<h2>ä»£ç åˆ†å‰²å’Œæ‡’åŠ è½½</h2>
<h3>è·¯ç”±çº§åˆ†å‰²</h3>
<pre><code class="language-jsx">// App.jsx
import { lazy, Suspense } from &#39;react&#39;;
import { BrowserRouter, Routes, Route } from &#39;react-router-dom&#39;;
import Loading from &#39;./components/Loading&#39;;

// æ‡’åŠ è½½é¡µé¢ç»„ä»¶
const Home = lazy(() =&gt; import(&#39;./pages/Home&#39;));
const About = lazy(() =&gt; import(&#39;./pages/About&#39;));
const Dashboard = lazy(() =&gt; import(&#39;./pages/Dashboard&#39;));

function App() {
  return (
    &lt;BrowserRouter&gt;
      &lt;Suspense fallback={&lt;Loading /&gt;}&gt;
        &lt;Routes&gt;
          &lt;Route path=&quot;/&quot; element={&lt;Home /&gt;} /&gt;
          &lt;Route path=&quot;/about&quot; element={&lt;About /&gt;} /&gt;
          &lt;Route path=&quot;/dashboard&quot; element={&lt;Dashboard /&gt;} /&gt;
        &lt;/Routes&gt;
      &lt;/Suspense&gt;
    &lt;/BrowserRouter&gt;
  );
}

export default App;
</code></pre>
<h3>ç»„ä»¶çº§åˆ†å‰²</h3>
<pre><code class="language-jsx">// æ¡ä»¶åŠ è½½é‡å‹ç»„ä»¶
import { useState, lazy, Suspense } from &#39;react&#39;;

const HeavyChart = lazy(() =&gt; import(&#39;./HeavyChart&#39;));

function Dashboard() {
  const [showChart, setShowChart] = useState(false);

  return (
    &lt;div&gt;
      &lt;h1&gt;ä»ªè¡¨æ¿&lt;/h1&gt;
      &lt;button onClick={() =&gt; setShowChart(true)}&gt;
        åŠ è½½å›¾è¡¨
      &lt;/button&gt;
      
      {showChart &amp;&amp; (
        &lt;Suspense fallback={&lt;div&gt;åŠ è½½å›¾è¡¨ä¸­...&lt;/div&gt;}&gt;
          &lt;HeavyChart /&gt;
        &lt;/Suspense&gt;
      )}
    &lt;/div&gt;
  );
}
</code></pre>
<h3>ç¬¬ä¸‰æ–¹åº“åˆ†å‰²</h3>
<pre><code class="language-jsx">// utils/dynamicImports.js
export const loadChartLibrary = () =&gt; {
  return import(&#39;chart.js&#39;).then(Chart =&gt; Chart.default);
};

export const loadDateLibrary = () =&gt; {
  return import(&#39;date-fns&#39;);
};

// ä½¿ç”¨åŠ¨æ€å¯¼å…¥
function ChartComponent({ data }) {
  const [Chart, setChart] = useState(null);

  useEffect(() =&gt; {
    loadChartLibrary().then(setChart);
  }, []);

  if (!Chart) {
    return &lt;div&gt;åŠ è½½å›¾è¡¨åº“ä¸­...&lt;/div&gt;;
  }

  return &lt;Chart data={data} /&gt;;
}
</code></pre>
<h2>èµ„æºä¼˜åŒ–</h2>
<h3>å›¾ç‰‡ä¼˜åŒ–</h3>
<pre><code class="language-jsx">// å›¾ç‰‡å‹ç¼©å’Œæ ¼å¼ä¼˜åŒ–
const ImageOptimization = () =&gt; {
  return (
    &lt;picture&gt;
      &lt;source 
        srcSet=&quot;image.webp&quot; 
        type=&quot;image/webp&quot; 
      /&gt;
      &lt;source 
        srcSet=&quot;image.avif&quot; 
        type=&quot;image/avif&quot; 
      /&gt;
      &lt;img 
        src=&quot;image.jpg&quot; 
        alt=&quot;æè¿°&quot;
        loading=&quot;lazy&quot;
        width=&quot;300&quot;
        height=&quot;200&quot;
      /&gt;
    &lt;/picture&gt;
  );
};

// å“åº”å¼å›¾ç‰‡
const ResponsiveImage = ({ src, alt }) =&gt; {
  return (
    &lt;img
      src={src}
      srcSet={`
        ${src}?w=400 400w,
        ${src}?w=800 800w,
        ${src}?w=1200 1200w
      `}
      sizes=&quot;(max-width: 400px) 400px, (max-width: 800px) 800px, 1200px&quot;
      alt={alt}
      loading=&quot;lazy&quot;
    /&gt;
  );
};
</code></pre>
<h3>CSSä¼˜åŒ–</h3>
<pre><code class="language-javascript">// webpacké…ç½®CSSä¼˜åŒ–
const MiniCssExtractPlugin = require(&#39;mini-css-extract-plugin&#39;);
const CssMinimizerPlugin = require(&#39;css-minimizer-webpack-plugin&#39;);

module.exports = {
  plugins: [
    new MiniCssExtractPlugin({
      filename: &#39;css/[name].[contenthash].css&#39;
    })
  ],
  optimization: {
    minimizer: [
      new CssMinimizerPlugin()
    ]
  },
  module: {
    rules: [
      {
        test: /\.css$/,
        use: [
          MiniCssExtractPlugin.loader,
          &#39;css-loader&#39;,
          &#39;postcss-loader&#39;
        ]
      }
    ]
  }
};
</code></pre>
<pre><code class="language-javascript">// postcss.config.js
module.exports = {
  plugins: [
    require(&#39;autoprefixer&#39;),
    require(&#39;cssnano&#39;)({
      preset: &#39;default&#39;
    })
  ]
};
</code></pre>
<h2>æ„å»ºä¼˜åŒ–</h2>
<h3>Bundleåˆ†æ</h3>
<pre><code class="language-bash"># å®‰è£…åˆ†æå·¥å…·
npm install --save-dev webpack-bundle-analyzer

# åˆ†æbundle
npm run build
npx webpack-bundle-analyzer build/static/js/*.js
</code></pre>
<pre><code class="language-javascript">// webpacké…ç½®
const BundleAnalyzerPlugin = require(&#39;webpack-bundle-analyzer&#39;).BundleAnalyzerPlugin;

module.exports = {
  plugins: [
    process.env.ANALYZE &amp;&amp; new BundleAnalyzerPlugin()
  ].filter(Boolean)
};

// package.json
{
  &quot;scripts&quot;: {
    &quot;analyze&quot;: &quot;ANALYZE=true npm run build&quot;
  }
}
</code></pre>
<h3>Tree Shaking</h3>
<pre><code class="language-javascript">// ç¡®ä¿package.jsonä¸­è®¾ç½®sideEffects
{
  &quot;sideEffects&quot;: [
    &quot;*.css&quot;,
    &quot;*.scss&quot;,
    &quot;./src/polyfills.js&quot;
  ]
}

// ä½¿ç”¨ESæ¨¡å—å¯¼å…¥
// âœ… å¥½çš„åšæ³• - æŒ‰éœ€å¯¼å…¥
import { debounce } from &#39;lodash-es&#39;;
import { Button } from &#39;antd&#39;;

// âŒ é¿å… - å¯¼å…¥æ•´ä¸ªåº“
import _ from &#39;lodash&#39;;
import * as antd from &#39;antd&#39;;
</code></pre>
<h3>ä»£ç å‹ç¼©</h3>
<pre><code class="language-javascript">// webpacké…ç½®
const TerserPlugin = require(&#39;terser-webpack-plugin&#39;);

module.exports = {
  optimization: {
    minimize: true,
    minimizer: [
      new TerserPlugin({
        terserOptions: {
          compress: {
            drop_console: true, // ç§»é™¤console
            drop_debugger: true, // ç§»é™¤debugger
            pure_funcs: [&#39;console.log&#39;] // ç§»é™¤ç‰¹å®šå‡½æ•°
          },
          mangle: {
            safari10: true
          }
        }
      })
    ]
  }
};
</code></pre>
<h2>å¤šç¯å¢ƒæ„å»º</h2>
<h3>ç¯å¢ƒé…ç½®</h3>
<pre><code class="language-javascript">// config/webpack.config.js
const isDevelopment = process.env.NODE_ENV === &#39;development&#39;;
const isProduction = process.env.NODE_ENV === &#39;production&#39;;

module.exports = {
  mode: isDevelopment ? &#39;development&#39; : &#39;production&#39;,
  devtool: isDevelopment ? &#39;eval-source-map&#39; : &#39;source-map&#39;,
  optimization: {
    minimize: isProduction,
    splitChunks: isProduction ? {
      chunks: &#39;all&#39;,
      cacheGroups: {
        vendor: {
          test: /[\\/]node_modules[\\/]/,
          name: &#39;vendors&#39;,
          chunks: &#39;all&#39;
        }
      }
    } : false
  }
};
</code></pre>
<h3>æ„å»ºè„šæœ¬</h3>
<pre><code class="language-json">// package.json
{
  &quot;scripts&quot;: {
    &quot;start&quot;: &quot;cross-env NODE_ENV=development webpack serve&quot;,
    &quot;build&quot;: &quot;cross-env NODE_ENV=production webpack&quot;,
    &quot;build:dev&quot;: &quot;cross-env NODE_ENV=development webpack&quot;,
    &quot;build:staging&quot;: &quot;cross-env NODE_ENV=staging webpack&quot;,
    &quot;build:analyze&quot;: &quot;cross-env ANALYZE=true npm run build&quot;
  }
}
</code></pre>
<pre><code class="language-bash">#!/bin/bash
# scripts/build.sh

set -e

echo &quot;å¼€å§‹æ„å»º...&quot;

# æ¸…ç†æ—§æ–‡ä»¶
rm -rf build/

# è®¾ç½®ç¯å¢ƒå˜é‡
export NODE_ENV=production
export GENERATE_SOURCEMAP=false

# æ„å»º
npm run build

# æ„å»ºæˆåŠŸ
echo &quot;æ„å»ºå®Œæˆï¼&quot;

# æ˜¾ç¤ºæ–‡ä»¶å¤§å°
du -sh build/
</code></pre>
<h2>PWAæ„å»º</h2>
<h3>Service Worker</h3>
<pre><code class="language-javascript">// public/sw.js
const CACHE_NAME = &#39;my-app-v1&#39;;
const urlsToCache = [
  &#39;/&#39;,
  &#39;/static/css/main.css&#39;,
  &#39;/static/js/main.js&#39;
];

self.addEventListener(&#39;install&#39;, (event) =&gt; {
  event.waitUntil(
    caches.open(CACHE_NAME)
      .then((cache) =&gt; cache.addAll(urlsToCache))
  );
});

self.addEventListener(&#39;fetch&#39;, (event) =&gt; {
  event.respondWith(
    caches.match(event.request)
      .then((response) =&gt; {
        if (response) {
          return response;
        }
        return fetch(event.request);
      })
  );
});
</code></pre>
<h3>Workboxé…ç½®</h3>
<pre><code class="language-javascript">// webpack.config.js
const WorkboxWebpackPlugin = require(&#39;workbox-webpack-plugin&#39;);

module.exports = {
  plugins: [
    new WorkboxWebpackPlugin.GenerateSW({
      clientsClaim: true,
      skipWaiting: true,
      runtimeCaching: [
        {
          urlPattern: /^https:\/\/api\./,
          handler: &#39;NetworkFirst&#39;,
          options: {
            cacheName: &#39;api-cache&#39;
          }
        }
      ]
    })
  ]
};
</code></pre>
<h2>Dockeræ„å»º</h2>
<h3>Dockerfile</h3>
<pre><code class="language-dockerfile"># å¤šé˜¶æ®µæ„å»º
FROM node:16-alpine AS builder

WORKDIR /app

# å¤åˆ¶ä¾èµ–æ–‡ä»¶
COPY package*.json ./
RUN npm ci --only=production

# å¤åˆ¶æºä»£ç 
COPY . .

# æ„å»ºåº”ç”¨
RUN npm run build

# ç”Ÿäº§é•œåƒ
FROM nginx:alpine

# å¤åˆ¶æ„å»ºç»“æœ
COPY --from=builder /app/build /usr/share/nginx/html

# å¤åˆ¶nginxé…ç½®
COPY nginx.conf /etc/nginx/nginx.conf

EXPOSE 80

CMD [&quot;nginx&quot;, &quot;-g&quot;, &quot;daemon off;&quot;]
</code></pre>
<h3>Nginxé…ç½®</h3>
<pre><code class="language-nginx"># nginx.conf
server {
    listen 80;
    server_name localhost;
    
    root /usr/share/nginx/html;
    index index.html;
    
    # å¤„ç†SPAè·¯ç”±
    location / {
        try_files $uri $uri/ /index.html;
    }
    
    # é™æ€èµ„æºç¼“å­˜
    location /static/ {
        expires 1y;
        add_header Cache-Control &quot;public, immutable&quot;;
    }
    
    # APIä»£ç†
    location /api/ {
        proxy_pass http://backend:8080/;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
    
    # å‹ç¼©
    gzip on;
    gzip_types text/plain text/css application/json application/javascript text/xml application/xml;
}
</code></pre>
<h2>CI/CDé›†æˆ</h2>
<h3>GitHub Actions</h3>
<pre><code class="language-yaml"># .github/workflows/build.yml
name: Build and Deploy

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  build:
    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v3
    
    - name: Setup Node.js
      uses: actions/setup-node@v3
      with:
        node-version: &#39;16&#39;
        cache: &#39;npm&#39;
    
    - name: Install dependencies
      run: npm ci
    
    - name: Run tests
      run: npm test -- --coverage --watchAll=false
    
    - name: Build application
      run: npm run build
      
    - name: Upload build artifacts
      uses: actions/upload-artifact@v3
      with:
        name: build-files
        path: build/
        
  deploy:
    needs: build
    runs-on: ubuntu-latest
    if: github.ref == &#39;refs/heads/main&#39;
    
    steps:
    - name: Download build artifacts
      uses: actions/download-artifact@v3
      with:
        name: build-files
        path: build/
        
    - name: Deploy to S3
      env:
        AWS_ACCESS_KEY_ID: ${{ secrets.AWS_ACCESS_KEY_ID }}
        AWS_SECRET_ACCESS_KEY: ${{ secrets.AWS_SECRET_ACCESS_KEY }}
      run: |
        aws s3 sync build/ s3://my-app-bucket --delete
        aws cloudfront create-invalidation --distribution-id ${{ secrets.CLOUDFRONT_ID }} --paths &quot;/*&quot;
</code></pre>
<h3>éƒ¨ç½²è„šæœ¬</h3>
<pre><code class="language-javascript">// scripts/deploy.js
const AWS = require(&#39;aws-sdk&#39;);
const fs = require(&#39;fs&#39;);
const path = require(&#39;path&#39;);
const mime = require(&#39;mime-types&#39;);

const s3 = new AWS.S3();
const buildDir = path.join(__dirname, &#39;../build&#39;);

async function uploadFiles() {
  const files = getAllFiles(buildDir);
  
  for (const file of files) {
    const key = path.relative(buildDir, file);
    const body = fs.readFileSync(file);
    const contentType = mime.lookup(file) || &#39;application/octet-stream&#39;;
    
    await s3.upload({
      Bucket: process.env.S3_BUCKET,
      Key: key,
      Body: body,
      ContentType: contentType,
      CacheControl: key.includes(&#39;static/&#39;) ? &#39;max-age=31536000&#39; : &#39;max-age=0&#39;
    }).promise();
    
    console.log(`ä¸Šä¼ å®Œæˆ: ${key}`);
  }
}

function getAllFiles(dir) {
  const files = [];
  const items = fs.readdirSync(dir);
  
  for (const item of items) {
    const fullPath = path.join(dir, item);
    if (fs.statSync(fullPath).isDirectory()) {
      files.push(...getAllFiles(fullPath));
    } else {
      files.push(fullPath);
    }
  }
  
  return files;
}

uploadFiles().catch(console.error);
</code></pre>
<h2>æ„å»ºç›‘æ§</h2>
<h3>æ„å»ºæ€§èƒ½ç›‘æ§</h3>
<pre><code class="language-javascript">// scripts/build-monitor.js
const webpack = require(&#39;webpack&#39;);
const config = require(&#39;../webpack.config&#39;);

const compiler = webpack(config);

compiler.run((err, stats) =&gt; {
  if (err) {
    console.error(err);
    return;
  }

  const info = stats.toJson();
  
  console.log(&#39;æ„å»ºç»Ÿè®¡:&#39;);
  console.log(`- æ€»æ—¶é—´: ${info.time}ms`);
  console.log(`- æ–‡ä»¶æ•°é‡: ${info.assets.length}`);
  console.log(`- æ€»å¤§å°: ${formatBytes(info.assets.reduce((sum, asset) =&gt; sum + asset.size, 0))}`);
  
  // åˆ†æå¤§æ–‡ä»¶
  const largeAssets = info.assets
    .filter(asset =&gt; asset.size &gt; 500000)
    .sort((a, b) =&gt; b.size - a.size);
    
  if (largeAssets.length &gt; 0) {
    console.log(&#39;\nå¤§æ–‡ä»¶è­¦å‘Š:&#39;);
    largeAssets.forEach(asset =&gt; {
      console.log(`- ${asset.name}: ${formatBytes(asset.size)}`);
    });
  }
});

function formatBytes(bytes) {
  return (bytes / 1024 / 1024).toFixed(2) + &#39; MB&#39;;
}
</code></pre>
<h2>æœ€ä½³å®è·µ</h2>
<h3>æ„å»ºä¼˜åŒ–æ¸…å•</h3>
<pre><code class="language-javascript">// æ„å»ºä¼˜åŒ–æ£€æŸ¥æ¸…å•
const buildOptimizations = {
  ä»£ç åˆ†å‰²: {
    è·¯ç”±çº§åˆ†å‰²: &#39;âœ… å®æ–½&#39;,
    ç»„ä»¶çº§åˆ†å‰²: &#39;âœ… å®æ–½&#39;,
    ç¬¬ä¸‰æ–¹åº“åˆ†å‰²: &#39;âœ… å®æ–½&#39;
  },
  èµ„æºä¼˜åŒ–: {
    å›¾ç‰‡å‹ç¼©: &#39;âœ… å®æ–½&#39;,
    CSSå‹ç¼©: &#39;âœ… å®æ–½&#39;,
    JSå‹ç¼©: &#39;âœ… å®æ–½&#39;
  },
  ç¼“å­˜ç­–ç•¥: {
    æ–‡ä»¶åå“ˆå¸Œ: &#39;âœ… å®æ–½&#39;,
    CDNç¼“å­˜: &#39;âœ… å®æ–½&#39;,
    æµè§ˆå™¨ç¼“å­˜: &#39;âœ… å®æ–½&#39;
  },
  æ€§èƒ½ç›‘æ§: {
    Bundleåˆ†æ: &#39;âœ… å®æ–½&#39;,
    æ„å»ºæ—¶é—´ç›‘æ§: &#39;âœ… å®æ–½&#39;,
    æ–‡ä»¶å¤§å°ç›‘æ§: &#39;âœ… å®æ–½&#39;
  }
};
</code></pre>
<h3>ç¯å¢ƒé…ç½®ç®¡ç†</h3>
<pre><code class="language-javascript">// config/index.js
const configs = {
  development: {
    API_BASE_URL: &#39;http://localhost:3001&#39;,
    DEBUG: true,
    SOURCEMAP: true
  },
  staging: {
    API_BASE_URL: &#39;https://staging-api.example.com&#39;,
    DEBUG: false,
    SOURCEMAP: true
  },
  production: {
    API_BASE_URL: &#39;https://api.example.com&#39;,
    DEBUG: false,
    SOURCEMAP: false
  }
};

const env = process.env.NODE_ENV || &#39;development&#39;;
module.exports = configs[env];
</code></pre>
<h2>æ€»ç»“</h2>
<p>Reacté¡¹ç›®æ„å»ºçš„å…³é”®è¦ç‚¹ï¼š</p>
<ol>
<li><strong>é€‰æ‹©åˆé€‚çš„æ„å»ºå·¥å…·</strong> - æ ¹æ®é¡¹ç›®éœ€æ±‚é€‰æ‹©</li>
<li><strong>ä»£ç åˆ†å‰²å’Œæ‡’åŠ è½½</strong> - æå‡é¦–å±åŠ è½½é€Ÿåº¦</li>
<li><strong>èµ„æºä¼˜åŒ–</strong> - å‹ç¼©å›¾ç‰‡ã€CSSã€JS</li>
<li><strong>ç¼“å­˜ç­–ç•¥</strong> - åˆç†è®¾ç½®æ–‡ä»¶ç¼“å­˜</li>
<li><strong>å¤šç¯å¢ƒæ”¯æŒ</strong> - å¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç¯å¢ƒé…ç½®</li>
<li><strong>CI/CDé›†æˆ</strong> - è‡ªåŠ¨åŒ–æ„å»ºå’Œéƒ¨ç½²</li>
<li><strong>æ€§èƒ½ç›‘æ§</strong> - æŒç»­ä¼˜åŒ–æ„å»ºæ€§èƒ½</li>
</ol>
<p>è‰¯å¥½çš„æ„å»ºé…ç½®å¯ä»¥æ˜¾è‘—æå‡åº”ç”¨æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒï¼ŒåŒæ—¶æé«˜å¼€å‘æ•ˆç‡ã€‚ </p>

          </div>

          <!-- æ–‡æ¡£å¯¼èˆª -->
          <div class="doc-navigation">
            
              <a href="28-é›†æˆæµ‹è¯•.html" class="nav-btn prev-btn">
                <span class="nav-icon">â†</span>
                <div class="nav-text">
                  <span class="nav-label">ä¸Šä¸€ç¯‡</span>
                  <span class="nav-title">é›†æˆæµ‹è¯•</span>
                </div>
              </a>
            
            
            
              <a href="30-ç”Ÿäº§éƒ¨ç½².html" class="nav-btn next-btn">
                <div class="nav-text">
                  <span class="nav-label">ä¸‹ä¸€ç¯‡</span>
                  <span class="nav-title">ç”Ÿäº§éƒ¨ç½²</span>
                </div>
                <span class="nav-icon">â†’</span>
              </a>
            
          </div>
        </article>
      </main>
    </div>

    <!-- è¿”å›é¡¶éƒ¨æŒ‰é’® -->
    <button class="back-to-top" id="backToTop" onclick="scrollToTop()">
      <span>â†‘</span>
    </button>

    <!-- åº•éƒ¨ -->
    <footer class="footer">
      <div class="footer-content">
        <p>&copy; 2024 React ä¸­æ–‡æ–‡æ¡£. åŸºäº React 18.x æ„å»º</p>
        <p>Made with â¤ï¸ by Reactä¸­æ–‡ç¤¾åŒº</p>
      </div>
    </footer>
  </div>

  <script src="assets/script.js"></script>
</body>
</html>