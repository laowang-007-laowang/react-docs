<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>useRef - React ä¸­æ–‡æ–‡æ¡£</title>
  <meta name="description" content="ä»å…¥é—¨åˆ°ç²¾é€šï¼Œå…¨é¢æŒæ¡Reactå¼€å‘æŠ€èƒ½">
  <link rel="stylesheet" href="assets/style.css">
  <link rel="stylesheet" href="assets/highlight.css">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>âš›ï¸</text></svg>">
</head>
<body>
  <div class="container">
    <!-- é¡¶éƒ¨å¯¼èˆª -->
    <header class="header">
      <div class="header-content">
        <div class="logo">
          <span class="logo-icon">âš›ï¸</span>
          <div class="logo-text">
            <h1>React ä¸­æ–‡æ–‡æ¡£</h1>
            <p>ç°ä»£åŒ–çš„Reactå­¦ä¹ æŒ‡å—</p>
          </div>
        </div>
        <nav class="header-nav">
          <a href="index.html" class="nav-link">é¦–é¡µ</a>
          <a href="#" class="nav-link" onclick="toggleSidebar()">ç›®å½•</a>
          <a href="https://github.com/facebook/react" target="_blank" class="nav-link">GitHub</a>
        </nav>
      </div>
    </header>

    <div class="main-layout">
      <!-- ä¾§è¾¹æ  -->
      <aside class="sidebar" id="sidebar">
        <div class="sidebar-content">
          <div class="search-box">
            <input type="text" placeholder="æœç´¢æ–‡æ¡£..." id="searchInput" onkeyup="searchDocs()">
            <span class="search-icon">ğŸ”</span>
          </div>
          <nav class="doc-nav">
            
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ“š</span>
          åŸºç¡€æ¦‚å¿µ
        </h3>
        <ul class="category-docs">
          <li><a href="01-Reactç®€ä»‹.html" class="doc-link">Reactç®€ä»‹</a></li><li><a href="02-ç¯å¢ƒæ­å»º.html" class="doc-link">ç¯å¢ƒæ­å»º</a></li><li><a href="03-JSXè¯­æ³•.html" class="doc-link">JSXè¯­æ³•</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ§©</span>
          ç»„ä»¶å¼€å‘
        </h3>
        <ul class="category-docs">
          <li><a href="04-ç»„ä»¶åŸºç¡€.html" class="doc-link">ç»„ä»¶åŸºç¡€</a></li><li><a href="05-Propsä¸State.html" class="doc-link">Propsä¸State</a></li><li><a href="06-äº‹ä»¶å¤„ç†.html" class="doc-link">äº‹ä»¶å¤„ç†</a></li><li><a href="07-æ¡ä»¶æ¸²æŸ“.html" class="doc-link">æ¡ä»¶æ¸²æŸ“</a></li><li><a href="08-åˆ—è¡¨æ¸²æŸ“.html" class="doc-link">åˆ—è¡¨æ¸²æŸ“</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ£</span>
          Hooks API
        </h3>
        <ul class="category-docs">
          <li><a href="09-Hooksæ¦‚è¿°.html" class="doc-link">Hooksæ¦‚è¿°</a></li><li><a href="10-useState.html" class="doc-link">useState</a></li><li><a href="11-useEffect.html" class="doc-link">useEffect</a></li><li><a href="12-useContext.html" class="doc-link">useContext</a></li><li><a href="13-useReducer.html" class="doc-link">useReducer</a></li><li><a href="14-useMemoå’ŒuseCallback.html" class="doc-link">useMemoå’ŒuseCallback</a></li><li><a href="15-useRef.html" class="doc-link">useRef</a></li><li><a href="16-è‡ªå®šä¹‰Hooks.html" class="doc-link">è‡ªå®šä¹‰Hooks</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ”„</span>
          ç”Ÿå‘½å‘¨æœŸ
        </h3>
        <ul class="category-docs">
          <li><a href="17-ç”Ÿå‘½å‘¨æœŸæ–¹æ³•.html" class="doc-link">ç”Ÿå‘½å‘¨æœŸæ–¹æ³•</a></li><li><a href="18-å‰¯ä½œç”¨å¤„ç†.html" class="doc-link">å‰¯ä½œç”¨å¤„ç†</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ¨</span>
          æ ·å¼ä¸UI
        </h3>
        <ul class="category-docs">
          <li><a href="19-æ ·å¼å¤„ç†.html" class="doc-link">æ ·å¼å¤„ç†</a></li><li><a href="20-åŠ¨ç”»æ•ˆæœ.html" class="doc-link">åŠ¨ç”»æ•ˆæœ</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ—ºï¸</span>
          è·¯ç”±ç®¡ç†
        </h3>
        <ul class="category-docs">
          <li><a href="21-React-Router.html" class="doc-link">React-Router</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ“¦</span>
          çŠ¶æ€ç®¡ç†
        </h3>
        <ul class="category-docs">
          <li><a href="22-Context-API.html" class="doc-link">Context-API</a></li><li><a href="23-Reduxé›†æˆ.html" class="doc-link">Reduxé›†æˆ</a></li><li><a href="24-ZustandçŠ¶æ€ç®¡ç†.html" class="doc-link">ZustandçŠ¶æ€ç®¡ç†</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸš€</span>
          æ€§èƒ½ä¼˜åŒ–
        </h3>
        <ul class="category-docs">
          <li><a href="25-æ€§èƒ½ä¼˜åŒ–æŠ€å·§.html" class="doc-link">æ€§èƒ½ä¼˜åŒ–æŠ€å·§</a></li><li><a href="26-ä»£ç åˆ†å‰².html" class="doc-link">ä»£ç åˆ†å‰²</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ§ª</span>
          æµ‹è¯•
        </h3>
        <ul class="category-docs">
          <li><a href="27-å•å…ƒæµ‹è¯•.html" class="doc-link">å•å…ƒæµ‹è¯•</a></li><li><a href="28-é›†æˆæµ‹è¯•.html" class="doc-link">é›†æˆæµ‹è¯•</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ—ï¸</span>
          æ„å»ºä¸éƒ¨ç½²
        </h3>
        <ul class="category-docs">
          <li><a href="29-é¡¹ç›®æ„å»º.html" class="doc-link">é¡¹ç›®æ„å»º</a></li><li><a href="30-ç”Ÿäº§éƒ¨ç½².html" class="doc-link">ç”Ÿäº§éƒ¨ç½²</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ› ï¸</span>
          å¼€å‘å·¥å…·
        </h3>
        <ul class="category-docs">
          <li><a href="31-å¼€å‘è€…å·¥å…·.html" class="doc-link">å¼€å‘è€…å·¥å…·</a></li><li><a href="32-è°ƒè¯•æŠ€å·§.html" class="doc-link">è°ƒè¯•æŠ€å·§</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ“–</span>
          APIå‚è€ƒ
        </h3>
        <ul class="category-docs">
          <li><a href="33-React-APIå®Œæ•´å‚è€ƒ.html" class="doc-link">React-APIå®Œæ•´å‚è€ƒ</a></li><li><a href="34-DOMå…ƒç´ å±æ€§.html" class="doc-link">DOMå…ƒç´ å±æ€§</a></li><li><a href="35-åˆæˆäº‹ä»¶.html" class="doc-link">åˆæˆäº‹ä»¶</a></li><li><a href="React-Hookså®Œæ•´å‚è€ƒ.html" class="doc-link">React-Hookså®Œæ•´å‚è€ƒ</a></li>
        </ul>
      </div>
      <div class="nav-category">
        <h3 class="category-title">
          <span class="category-icon">ğŸ’¡</span>
          æœ€ä½³å®è·µ
        </h3>
        <ul class="category-docs">
          <li><a href="36-ç¼–ç è§„èŒƒ.html" class="doc-link">ç¼–ç è§„èŒƒ</a></li><li><a href="37-é¡¹ç›®æ¶æ„.html" class="doc-link">é¡¹ç›®æ¶æ„</a></li><li><a href="38-å¸¸è§é—®é¢˜.html" class="doc-link">å¸¸è§é—®é¢˜</a></li>
        </ul>
      </div>
          </nav>
        </div>
      </aside>

      <!-- ä¸»å†…å®¹åŒº -->
      <main class="content">
        <article class="doc-article">
          <div class="doc-header">
            <div class="breadcrumb">
              <a href="index.html">é¦–é¡µ</a>
              <span class="separator">></span>
              <span class="current">useRef</span>
            </div>
            <h1 class="doc-title">useRef</h1>
            <div class="doc-meta">
              <span class="category" style="background: #4facfe">
                ğŸ£ Hooks API
              </span>
            </div>
          </div>
          
          <div class="doc-content">
            <h1>15-useRef</h1>
<p><code>useRef</code> æ˜¯React Hooksä¸­ç”¨äºè®¿é—®DOMå…ƒç´ å’Œä¿å­˜å¯å˜å€¼çš„é’©å­ã€‚å®ƒè¿”å›ä¸€ä¸ªå¯å˜çš„refå¯¹è±¡ï¼Œå…¶<code>.current</code>å±æ€§è¢«åˆå§‹åŒ–ä¸ºä¼ å…¥çš„å‚æ•°ã€‚</p>
<h2>åŸºç¡€ç”¨æ³•</h2>
<h3>è®¿é—®DOMå…ƒç´ </h3>
<pre><code class="language-jsx">import React, { useRef, useEffect } from &#39;react&#39;;

function TextInputWithFocusButton() {
  const inputEl = useRef(null);

  const onButtonClick = () =&gt; {
    // `current` æŒ‡å‘å·²æŒ‚è½½åˆ° DOM ä¸Šçš„æ–‡æœ¬è¾“å…¥å…ƒç´ 
    inputEl.current.focus();
  };

  return (
    &lt;&gt;
      &lt;input ref={inputEl} type=&quot;text&quot; /&gt;
      &lt;button onClick={onButtonClick}&gt;èšç„¦è¾“å…¥æ¡†&lt;/button&gt;
    &lt;/&gt;
  );
}
</code></pre>
<h3>ä¿å­˜å¯å˜å€¼</h3>
<pre><code class="language-jsx">function Timer() {
  const [count, setCount] = useState(0);
  const intervalRef = useRef(null);

  useEffect(() =&gt; {
    intervalRef.current = setInterval(() =&gt; {
      setCount(prev =&gt; prev + 1);
    }, 1000);

    return () =&gt; clearInterval(intervalRef.current);
  }, []);

  const handleStop = () =&gt; {
    clearInterval(intervalRef.current);
  };

  return (
    &lt;div&gt;
      &lt;p&gt;è®¡æ—¶: {count}ç§’&lt;/p&gt;
      &lt;button onClick={handleStop}&gt;åœæ­¢&lt;/button&gt;
    &lt;/div&gt;
  );
}
</code></pre>
<h2>å¸¸è§åº”ç”¨åœºæ™¯</h2>
<h3>è¡¨å•å¤„ç†</h3>
<pre><code class="language-jsx">function Form() {
  const nameRef = useRef();
  const emailRef = useRef();
  const passwordRef = useRef();

  const handleSubmit = (e) =&gt; {
    e.preventDefault();
    
    const formData = {
      name: nameRef.current.value,
      email: emailRef.current.value,
      password: passwordRef.current.value
    };
    
    console.log(formData);
  };

  return (
    &lt;form onSubmit={handleSubmit}&gt;
      &lt;input ref={nameRef} placeholder=&quot;å§“å&quot; /&gt;
      &lt;input ref={emailRef} type=&quot;email&quot; placeholder=&quot;é‚®ç®±&quot; /&gt;
      &lt;input ref={passwordRef} type=&quot;password&quot; placeholder=&quot;å¯†ç &quot; /&gt;
      &lt;button type=&quot;submit&quot;&gt;æäº¤&lt;/button&gt;
    &lt;/form&gt;
  );
}
</code></pre>
<h3>å‰ä¸€ä¸ªå€¼çš„è·Ÿè¸ª</h3>
<pre><code class="language-jsx">function usePrevious(value) {
  const ref = useRef();
  
  useEffect(() =&gt; {
    ref.current = value;
  });
  
  return ref.current;
}

function Counter() {
  const [count, setCount] = useState(0);
  const prevCount = usePrevious(count);

  return (
    &lt;div&gt;
      &lt;p&gt;å½“å‰å€¼: {count}&lt;/p&gt;
      &lt;p&gt;å‰ä¸€ä¸ªå€¼: {prevCount}&lt;/p&gt;
      &lt;button onClick={() =&gt; setCount(count + 1)}&gt;+1&lt;/button&gt;
    &lt;/div&gt;
  );
}
</code></pre>
<h3>é¿å…é—­åŒ…é™·é˜±</h3>
<pre><code class="language-jsx">function CallbackTimer() {
  const [count, setCount] = useState(0);
  const countRef = useRef(count);

  // ä¿æŒrefä¸stateåŒæ­¥
  useEffect(() =&gt; {
    countRef.current = count;
  }, [count]);

  useEffect(() =&gt; {
    const timer = setInterval(() =&gt; {
      // ä½¿ç”¨refç¡®ä¿è·å–æœ€æ–°å€¼
      console.log(&#39;å½“å‰è®¡æ•°:&#39;, countRef.current);
    }, 1000);

    return () =&gt; clearInterval(timer);
  }, []); // ç©ºä¾èµ–æ•°ç»„

  return (
    &lt;div&gt;
      &lt;p&gt;è®¡æ•°: {count}&lt;/p&gt;
      &lt;button onClick={() =&gt; setCount(count + 1)}&gt;å¢åŠ &lt;/button&gt;
    &lt;/div&gt;
  );
}
</code></pre>
<h2>è½¬å‘Ref</h2>
<h3>forwardRefçš„ä½¿ç”¨</h3>
<pre><code class="language-jsx">const FancyButton = React.forwardRef((props, ref) =&gt; (
  &lt;button ref={ref} className=&quot;fancy-button&quot;&gt;
    {props.children}
  &lt;/button&gt;
));

function App() {
  const buttonRef = useRef();

  const handleClick = () =&gt; {
    buttonRef.current.focus();
  };

  return (
    &lt;div&gt;
      &lt;FancyButton ref={buttonRef}&gt;ç‚¹å‡»æˆ‘&lt;/FancyButton&gt;
      &lt;button onClick={handleClick}&gt;èšç„¦æŒ‰é’®&lt;/button&gt;
    &lt;/div&gt;
  );
}
</code></pre>
<h3>å¤æ‚ç»„ä»¶çš„refè½¬å‘</h3>
<pre><code class="language-jsx">const CustomInput = React.forwardRef(({ label, error, ...props }, ref) =&gt; {
  return (
    &lt;div className=&quot;input-group&quot;&gt;
      &lt;label&gt;{label}&lt;/label&gt;
      &lt;input ref={ref} {...props} /&gt;
      {error &amp;&amp; &lt;span className=&quot;error&quot;&gt;{error}&lt;/span&gt;}
    &lt;/div&gt;
  );
});

function ContactForm() {
  const nameInputRef = useRef();

  useEffect(() =&gt; {
    // ç»„ä»¶æŒ‚è½½åè‡ªåŠ¨èšç„¦ç¬¬ä¸€ä¸ªè¾“å…¥æ¡†
    nameInputRef.current.focus();
  }, []);

  return (
    &lt;form&gt;
      &lt;CustomInput
        ref={nameInputRef}
        label=&quot;å§“å&quot;
        placeholder=&quot;è¯·è¾“å…¥å§“å&quot;
      /&gt;
    &lt;/form&gt;
  );
}
</code></pre>
<h2>ä¸useStateçš„åŒºåˆ«</h2>
<pre><code class="language-jsx">function RefVsState() {
  const [stateCount, setStateCount] = useState(0);
  const refCount = useRef(0);

  const handleStateIncrement = () =&gt; {
    setStateCount(prev =&gt; prev + 1); // è§¦å‘é‡æ–°æ¸²æŸ“
  };

  const handleRefIncrement = () =&gt; {
    refCount.current += 1; // ä¸è§¦å‘é‡æ–°æ¸²æŸ“
    console.log(&#39;Ref count:&#39;, refCount.current);
  };

  return (
    &lt;div&gt;
      &lt;p&gt;Stateè®¡æ•°: {stateCount}&lt;/p&gt;
      &lt;p&gt;Refè®¡æ•°: {refCount.current}&lt;/p&gt;
      &lt;button onClick={handleStateIncrement}&gt;å¢åŠ State&lt;/button&gt;
      &lt;button onClick={handleRefIncrement}&gt;å¢åŠ Ref&lt;/button&gt;
      &lt;button onClick={() =&gt; window.location.reload()}&gt;å¼ºåˆ¶é‡æ–°æ¸²æŸ“&lt;/button&gt;
    &lt;/div&gt;
  );
}
</code></pre>
<h2>å®é™…åº”ç”¨ç¤ºä¾‹</h2>
<h3>æ»šåŠ¨åˆ°å…ƒç´ </h3>
<pre><code class="language-jsx">function ScrollToElement() {
  const elementRef = useRef();

  const scrollToElement = () =&gt; {
    elementRef.current.scrollIntoView({ 
      behavior: &#39;smooth&#39;,
      block: &#39;center&#39;
    });
  };

  return (
    &lt;div&gt;
      &lt;button onClick={scrollToElement}&gt;æ»šåŠ¨åˆ°ç›®æ ‡å…ƒç´ &lt;/button&gt;
      
      &lt;div style={{ height: &#39;1000px&#39; }}&gt;
        {/* ä¸€äº›å†…å®¹ */}
      &lt;/div&gt;
      
      &lt;div ref={elementRef} style={{ 
        backgroundColor: &#39;yellow&#39;, 
        padding: &#39;20px&#39; 
      }}&gt;
        ç›®æ ‡å…ƒç´ 
      &lt;/div&gt;
      
      &lt;div style={{ height: &#39;1000px&#39; }}&gt;
        {/* æ›´å¤šå†…å®¹ */}
      &lt;/div&gt;
    &lt;/div&gt;
  );
}
</code></pre>
<h3>æ–‡ä»¶ä¸Šä¼ </h3>
<pre><code class="language-jsx">function FileUpload() {
  const fileInputRef = useRef();
  const [selectedFile, setSelectedFile] = useState(null);

  const handleFileSelect = () =&gt; {
    fileInputRef.current.click();
  };

  const handleFileChange = (e) =&gt; {
    const file = e.target.files[0];
    setSelectedFile(file);
  };

  const handleReset = () =&gt; {
    fileInputRef.current.value = &#39;&#39;;
    setSelectedFile(null);
  };

  return (
    &lt;div&gt;
      &lt;input
        ref={fileInputRef}
        type=&quot;file&quot;
        onChange={handleFileChange}
        style={{ display: &#39;none&#39; }}
      /&gt;
      
      &lt;button onClick={handleFileSelect}&gt;é€‰æ‹©æ–‡ä»¶&lt;/button&gt;
      
      {selectedFile &amp;&amp; (
        &lt;div&gt;
          &lt;p&gt;å·²é€‰æ‹©: {selectedFile.name}&lt;/p&gt;
          &lt;button onClick={handleReset}&gt;é‡ç½®&lt;/button&gt;
        &lt;/div&gt;
      )}
    &lt;/div&gt;
  );
}
</code></pre>
<h3>åŠ¨æ€é«˜åº¦æ–‡æœ¬åŸŸ</h3>
<pre><code class="language-jsx">function AutoResizeTextarea() {
  const textareaRef = useRef();

  const handleInput = () =&gt; {
    const textarea = textareaRef.current;
    textarea.style.height = &#39;auto&#39;;
    textarea.style.height = `${textarea.scrollHeight}px`;
  };

  return (
    &lt;textarea
      ref={textareaRef}
      onInput={handleInput}
      placeholder=&quot;è¾“å…¥æ–‡æœ¬ï¼Œé«˜åº¦ä¼šè‡ªåŠ¨è°ƒæ•´...&quot;
      style={{
        width: &#39;100%&#39;,
        minHeight: &#39;60px&#39;,
        resize: &#39;none&#39;,
        overflow: &#39;hidden&#39;
      }}
    /&gt;
  );
}
</code></pre>
<h2>è‡ªå®šä¹‰Hooks with useRef</h2>
<h3>useClickOutside</h3>
<pre><code class="language-jsx">function useClickOutside(callback) {
  const ref = useRef();

  useEffect(() =&gt; {
    const handleClick = (event) =&gt; {
      if (ref.current &amp;&amp; !ref.current.contains(event.target)) {
        callback();
      }
    };

    document.addEventListener(&#39;mousedown&#39;, handleClick);
    return () =&gt; {
      document.removeEventListener(&#39;mousedown&#39;, handleClick);
    };
  }, [callback]);

  return ref;
}

function Dropdown() {
  const [isOpen, setIsOpen] = useState(false);
  const dropdownRef = useClickOutside(() =&gt; setIsOpen(false));

  return (
    &lt;div ref={dropdownRef}&gt;
      &lt;button onClick={() =&gt; setIsOpen(!isOpen)}&gt;
        åˆ‡æ¢ä¸‹æ‹‰èœå•
      &lt;/button&gt;
      {isOpen &amp;&amp; (
        &lt;div className=&quot;dropdown-menu&quot;&gt;
          &lt;div&gt;é€‰é¡¹ 1&lt;/div&gt;
          &lt;div&gt;é€‰é¡¹ 2&lt;/div&gt;
          &lt;div&gt;é€‰é¡¹ 3&lt;/div&gt;
        &lt;/div&gt;
      )}
    &lt;/div&gt;
  );
}
</code></pre>
<h3>useHover</h3>
<pre><code class="language-jsx">function useHover() {
  const [isHovered, setIsHovered] = useState(false);
  const ref = useRef();

  useEffect(() =&gt; {
    const element = ref.current;
    if (!element) return;

    const handleMouseEnter = () =&gt; setIsHovered(true);
    const handleMouseLeave = () =&gt; setIsHovered(false);

    element.addEventListener(&#39;mouseenter&#39;, handleMouseEnter);
    element.addEventListener(&#39;mouseleave&#39;, handleMouseLeave);

    return () =&gt; {
      element.removeEventListener(&#39;mouseenter&#39;, handleMouseEnter);
      element.removeEventListener(&#39;mouseleave&#39;, handleMouseLeave);
    };
  }, []);

  return [ref, isHovered];
}

function HoverableCard() {
  const [cardRef, isHovered] = useHover();

  return (
    &lt;div
      ref={cardRef}
      style={{
        padding: &#39;20px&#39;,
        backgroundColor: isHovered ? &#39;#f0f0f0&#39; : &#39;#ffffff&#39;,
        transition: &#39;background-color 0.3s&#39;
      }}
    &gt;
      æ‚¬åœæˆ‘è¯•è¯•
    &lt;/div&gt;
  );
}
</code></pre>
<h2>æ³¨æ„äº‹é¡¹</h2>
<h3>ä¸è¦åœ¨æ¡ä»¶è¯­å¥ä¸­ä½¿ç”¨</h3>
<pre><code class="language-jsx">// âŒ é”™è¯¯ï¼šåœ¨æ¡ä»¶è¯­å¥ä¸­ä½¿ç”¨useRef
function BadComponent({ showInput }) {
  if (showInput) {
    const inputRef = useRef(); // è¿åHookè§„åˆ™
    return &lt;input ref={inputRef} /&gt;;
  }
  return &lt;div&gt;æ²¡æœ‰è¾“å…¥æ¡†&lt;/div&gt;;
}

// âœ… æ­£ç¡®ï¼šåœ¨ç»„ä»¶é¡¶å±‚ä½¿ç”¨useRef
function GoodComponent({ showInput }) {
  const inputRef = useRef();
  
  return (
    &lt;div&gt;
      {showInput &amp;&amp; &lt;input ref={inputRef} /&gt;}
    &lt;/div&gt;
  );
}
</code></pre>
<h3>é¿å…åœ¨æ¸²æŸ“ä¸­è¯»å–ref.current</h3>
<pre><code class="language-jsx">// âŒ é”™è¯¯ï¼šåœ¨æ¸²æŸ“ä¸­è¯»å–ref
function BadComponent() {
  const ref = useRef(0);
  
  // æ¸²æŸ“æ—¶è¯»å–refå¯èƒ½å¯¼è‡´ä¸ä¸€è‡´
  return &lt;div&gt;å€¼: {ref.current}&lt;/div&gt;;
}

// âœ… æ­£ç¡®ï¼šåœ¨äº‹ä»¶å¤„ç†æˆ–effectä¸­è¯»å–ref
function GoodComponent() {
  const ref = useRef(0);
  const [value, setValue] = useState(0);
  
  const handleClick = () =&gt; {
    ref.current += 1;
    setValue(ref.current); // æ›´æ–°stateè§¦å‘é‡æ–°æ¸²æŸ“
  };
  
  return (
    &lt;div&gt;
      &lt;div&gt;å€¼: {value}&lt;/div&gt;
      &lt;button onClick={handleClick}&gt;å¢åŠ &lt;/button&gt;
    &lt;/div&gt;
  );
}
</code></pre>
<h2>æ€»ç»“</h2>
<p><code>useRef</code> çš„ä¸»è¦ç”¨é€”ï¼š</p>
<ol>
<li><strong>DOMè®¿é—®</strong>ï¼šè·å–DOMå…ƒç´ å¼•ç”¨</li>
<li><strong>ä¿å­˜å¯å˜å€¼</strong>ï¼šå­˜å‚¨ä¸éœ€è¦è§¦å‘é‡æ–°æ¸²æŸ“çš„å€¼</li>
<li><strong>é¿å…é—­åŒ…é™·é˜±</strong>ï¼šåœ¨å¼‚æ­¥å›è°ƒä¸­è®¿é—®æœ€æ–°å€¼</li>
<li><strong>è½¬å‘å¼•ç”¨</strong>ï¼šé…åˆforwardRefä¼ é€’ref</li>
</ol>
<p>è®°ä½ï¼šä¿®æ”¹ref.currentä¸ä¼šè§¦å‘ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œè¿™æ˜¯å®ƒä¸useStateçš„ä¸»è¦åŒºåˆ«ã€‚ </p>

          </div>

          <!-- æ–‡æ¡£å¯¼èˆª -->
          <div class="doc-navigation">
            
              <a href="14-useMemoå’ŒuseCallback.html" class="nav-btn prev-btn">
                <span class="nav-icon">â†</span>
                <div class="nav-text">
                  <span class="nav-label">ä¸Šä¸€ç¯‡</span>
                  <span class="nav-title">useMemoå’ŒuseCallback</span>
                </div>
              </a>
            
            
            
              <a href="16-è‡ªå®šä¹‰Hooks.html" class="nav-btn next-btn">
                <div class="nav-text">
                  <span class="nav-label">ä¸‹ä¸€ç¯‡</span>
                  <span class="nav-title">è‡ªå®šä¹‰Hooks</span>
                </div>
                <span class="nav-icon">â†’</span>
              </a>
            
          </div>
        </article>
      </main>
    </div>

    <!-- è¿”å›é¡¶éƒ¨æŒ‰é’® -->
    <button class="back-to-top" id="backToTop" onclick="scrollToTop()">
      <span>â†‘</span>
    </button>

    <!-- åº•éƒ¨ -->
    <footer class="footer">
      <div class="footer-content">
        <p>&copy; 2024 React ä¸­æ–‡æ–‡æ¡£. åŸºäº React 18.x æ„å»º</p>
        <p>Made with â¤ï¸ by Reactä¸­æ–‡ç¤¾åŒº</p>
      </div>
    </footer>
  </div>

  <script src="assets/script.js"></script>
</body>
</html>